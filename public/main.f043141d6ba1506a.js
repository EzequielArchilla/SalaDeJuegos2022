"use strict";(self.webpackChunkSalaDeJuegos2022=self.webpackChunkSalaDeJuegos2022||[]).push([[179],{2011:(vt,Ae,k)=>{k.d(Ae,{Dh:()=>fe,GT:()=>de,cc:()=>$e,hO:()=>tt,on:()=>te,pX:()=>ae,xv:()=>we});var b=k(5e3),h=k(127),j=k(5813);vt=k.hmd(vt);const ce=["ngOnDestroy"],ae=(Le,gt,rt,Ge={})=>new Proxy(Le,{get:(qe,Fe)=>rt.runOutsideAngular(()=>{var je;if(Le[Fe])return(null===(je=null==Ge?void 0:Ge.spy)||void 0===je?void 0:je.get)&&Ge.spy.get(Fe,Le[Fe]),Le[Fe];if(ce.indexOf(Fe)>-1)return()=>{};const ve=gt.toPromise().then(mt=>{const he=mt&&mt[Fe];return"function"==typeof he?he.bind(mt):he&&he.then?he.then(Te=>rt.run(()=>Te)):rt.run(()=>he)});return new Proxy(()=>{},{get:(mt,he)=>ve[he],apply:(mt,he,Te)=>ve.then(Ie=>{var xe;const Je=Ie&&Ie(...Te);return(null===(xe=null==Ge?void 0:Ge.spy)||void 0===xe?void 0:xe.apply)&&Ge.spy.apply(Fe,Te,Je),Je})})})}),de=(Le,gt)=>{gt.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Ge=>{Object.defineProperty(Le.prototype,Ge,Object.getOwnPropertyDescriptor(rt.prototype||rt,Ge))})})};class ye{constructor(gt){return gt}}const fe=new b.OlP("angularfire2.app.options"),we=new b.OlP("angularfire2.app.name");function te(Le,gt,rt){const qe="object"==typeof rt&&rt||{};qe.name=qe.name||"string"==typeof rt&&rt||"[DEFAULT]";const je=h.Z.apps.filter(ve=>ve&&ve.name===qe.name)[0]||gt.runOutsideAngular(()=>h.Z.initializeApp(Le,qe));try{JSON.stringify(Le)!==JSON.stringify(je.options)&&X("error",`${je.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ve){}return new ye(je)}const X=(Le,...gt)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[Le](...gt)},pe={provide:ye,useFactory:te,deps:[fe,b.R0b,[new b.FiY,we]]};let tt=(()=>{class Le{constructor(rt){h.Z.registerVersion("angularfire",j.q4.full,"core"),h.Z.registerVersion("angularfire",j.q4.full,"app-compat"),h.Z.registerVersion("angular",b.q4F.full,rt.toString())}static initializeApp(rt,Ge){return{ngModule:Le,providers:[{provide:fe,useValue:rt},{provide:we,useValue:Ge}]}}}return Le.\u0275fac=function(rt){return new(rt||Le)(b.LFG(b.Lbi))},Le.\u0275mod=b.oAB({type:Le}),Le.\u0275inj=b.cJS({providers:[pe]}),Le})();function $e(Le,gt,rt,Ge,qe){const[,Fe,je]=globalThis.\u0275AngularfireInstanceCache.find(ve=>ve[0]===Le)||[];if(Fe)return function Ke(Le,gt){try{return Le.toString()===gt.toString()}catch(rt){return Le===gt}}(qe,je)||(Me("error",`${gt} was already initialized on the ${rt} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:qe,was:je})),Fe;{const ve=Ge();return globalThis.\u0275AngularfireInstanceCache.push([Le,ve,qe]),ve}}const et=!!vt.hot,Me=(Le,...gt)=>{(0,b.X6Q)()&&"undefined"!=typeof console&&console[Le](...gt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(vt,Ae,k)=>{k.d(Ae,{q4:()=>eu,iC:()=>_l,fc:()=>Fu,HU:()=>ml,vb:()=>Oh,JM:()=>Aa});var b=k(5e3),h=k(5867),j=k(5861),ce=k(9681),ae=k(2090),de=k(4859),ye=k(1877);const fe="@firebase/installations",X="w:0.5.7",pe="FIS_v2",Le=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(A){return A instanceof ae.ZR&&A.code.includes("request-failed")}function rt({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Ge(A){return{token:A.token,requestStatus:2,expiresIn:Te(A.expiresIn),creationTime:Date.now()}}function qe(A,R){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,j.Z)(function*(A,R){const Q=(yield R.json()).error;return Le.create("request-failed",{requestName:A,serverCode:Q.code,serverMessage:Q.message,serverStatus:Q.status})})).apply(this,arguments)}function je({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function ve(A,{refreshToken:R}){const H=je(A);return H.append("Authorization",function Ie(A){return`${pe} ${A}`}(R)),H}function mt(A){return he.apply(this,arguments)}function he(){return(he=(0,j.Z)(function*(A){const R=yield A();return R.status>=500&&R.status<600?A():R})).apply(this,arguments)}function Te(A){return Number(A.replace("s","000"))}function xe(A,R){return Je.apply(this,arguments)}function Je(){return(Je=(0,j.Z)(function*({appConfig:A,heartbeatServiceProvider:R},{fid:H}){const Q=rt(A),ge=je(A),be=R.getImmediate({optional:!0});if(be){const Zt=yield be.getHeartbeatsHeader();Zt&&ge.append("x-firebase-client",Zt)}const It={method:"POST",headers:ge,body:JSON.stringify({fid:H,authVersion:pe,appId:A.appId,sdkVersion:X})},Ot=yield mt(()=>fetch(Q,It));if(Ot.ok){const Zt=yield Ot.json();return{fid:Zt.fid||H,registrationStatus:2,refreshToken:Zt.refreshToken,authToken:Ge(Zt.authToken)}}throw yield qe("Create Installation",Ot)})).apply(this,arguments)}function Ce(A){return new Promise(R=>{setTimeout(R,A)})}const Tn=/^[cdef][\w-]{21}$/;function Ct(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const H=function St(A){return function Bt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return Tn.test(H)?H:""}catch(A){return""}}function kn(A){return`${A.appName}!${A.appId}`}const xn=new Map;function kr(A,R){const H=kn(A);Yt(H,R),function Zn(A,R){const H=function Yn(){return!jn&&"BroadcastChannel"in self&&(jn=new BroadcastChannel("[Firebase] FID Change"),jn.onmessage=A=>{Yt(A.data.key,A.data.fid)}),jn}();H&&H.postMessage({key:A,fid:R}),function _r(){0===xn.size&&jn&&(jn.close(),jn=null)}()}(H,R)}function Yt(A,R){const H=xn.get(A);if(H)for(const Q of H)Q(R)}let jn=null;const Dr="firebase-installations-store";let Ar=null;function ms(){return Ar||(Ar=(0,ae.X3)("firebase-installations-database",1,(A,R)=>{0===R&&A.createObjectStore(Dr)})),Ar}function Mt(A,R){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,j.Z)(function*(A,R){const H=kn(A),ge=(yield ms()).transaction(Dr,"readwrite"),be=ge.objectStore(Dr),Ye=yield be.get(H);return yield be.put(R,H),yield ge.complete,(!Ye||Ye.fid!==R.fid)&&kr(A,R.fid),R})).apply(this,arguments)}function ur(A){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,j.Z)(function*(A){const R=kn(A),Q=(yield ms()).transaction(Dr,"readwrite");yield Q.objectStore(Dr).delete(R),yield Q.complete})).apply(this,arguments)}function er(A,R){return gi.apply(this,arguments)}function gi(){return(gi=(0,j.Z)(function*(A,R){const H=kn(A),ge=(yield ms()).transaction(Dr,"readwrite"),be=ge.objectStore(Dr),Ye=yield be.get(H),It=R(Ye);return void 0===It?yield be.delete(H):yield be.put(It,H),yield ge.complete,It&&(!Ye||Ye.fid!==It.fid)&&kr(A,It.fid),It})).apply(this,arguments)}function lr(A){return tr.apply(this,arguments)}function tr(){return(tr=(0,j.Z)(function*(A){let R;const H=yield er(A.appConfig,Q=>{const ge=Br(Q),be=jr(A,ge);return R=be.registrationPromise,be.installationEntry});return""===H.fid?{installationEntry:yield R}:{installationEntry:H,registrationPromise:R}})).apply(this,arguments)}function Br(A){return _n(A||{fid:Ct(),registrationStatus:0})}function jr(A,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(Le.create("app-offline"))};const H={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},Q=function dt(A,R){return xt.apply(this,arguments)}(A,H);return{installationEntry:H,registrationPromise:Q}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:yt(A)}:{installationEntry:R}}function xt(){return(xt=(0,j.Z)(function*(A,R){try{const H=yield xe(A,R);return Mt(A.appConfig,H)}catch(H){throw gt(H)&&409===H.customData.serverCode?yield ur(A.appConfig):yield Mt(A.appConfig,{fid:R.fid,registrationStatus:0}),H}})).apply(this,arguments)}function yt(A){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,j.Z)(function*(A){let R=yield Mi(A.appConfig);for(;1===R.registrationStatus;)yield Ce(100),R=yield Mi(A.appConfig);if(0===R.registrationStatus){const{installationEntry:H,registrationPromise:Q}=yield lr(A);return Q||H}return R})).apply(this,arguments)}function Mi(A){return er(A,R=>{if(!R)throw Le.create("installation-not-found");return _n(R)})}function _n(A){return function is(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function nr(A,R){return hn.apply(this,arguments)}function hn(){return(hn=(0,j.Z)(function*({appConfig:A,heartbeatServiceProvider:R},H){const Q=kt(A,H),ge=ve(A,H),be=R.getImmediate({optional:!0});if(be){const Zt=yield be.getHeartbeatsHeader();Zt&&ge.append("x-firebase-client",Zt)}const It={method:"POST",headers:ge,body:JSON.stringify({installation:{sdkVersion:X,appId:A.appId}})},Ot=yield mt(()=>fetch(Q,It));if(Ot.ok)return Ge(yield Ot.json());throw yield qe("Generate Auth Token",Ot)})).apply(this,arguments)}function kt(A,{fid:R}){return`${rt(A)}/${R}/authTokens:generate`}function rr(A){return fn.apply(this,arguments)}function fn(){return(fn=(0,j.Z)(function*(A,R=!1){let H;const Q=yield er(A.appConfig,be=>{if(!rn(be))throw Le.create("not-registered");const Ye=be.authToken;if(!R&&se(Ye))return be;if(1===Ye.requestStatus)return H=ht(A,R),be;{if(!navigator.onLine)throw Le.create("app-offline");const It=oe(be);return H=Nt(A,It),It}});return H?yield H:Q.authToken})).apply(this,arguments)}function ht(A,R){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,j.Z)(function*(A,R){let H=yield ut(A.appConfig);for(;1===H.authToken.requestStatus;)yield Ce(100),H=yield ut(A.appConfig);const Q=H.authToken;return 0===Q.requestStatus?rr(A,R):Q})).apply(this,arguments)}function ut(A){return er(A,R=>{if(!rn(R))throw Le.create("not-registered");return function Se(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function Nt(A,R){return on.apply(this,arguments)}function on(){return(on=(0,j.Z)(function*(A,R){try{const H=yield nr(A,R),Q=Object.assign(Object.assign({},R),{authToken:H});return yield Mt(A.appConfig,Q),H}catch(H){if(!gt(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const Q=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield Mt(A.appConfig,Q)}else yield ur(A.appConfig);throw H}})).apply(this,arguments)}function rn(A){return void 0!==A&&2===A.registrationStatus}function se(A){return 2===A.requestStatus&&!function J(A){const R=Date.now();return R<A.creationTime||A.creationTime+A.expiresIn<R+36e5}(A)}function oe(A){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:R})}function Z(){return(Z=(0,j.Z)(function*(A){const R=A,{installationEntry:H,registrationPromise:Q}=yield lr(R);return Q?Q.catch(console.error):rr(R).catch(console.error),H.fid})).apply(this,arguments)}function Ee(){return(Ee=(0,j.Z)(function*(A,R=!1){const H=A;return yield Ve(H),(yield rr(H,R)).token})).apply(this,arguments)}function Ve(A){return ot.apply(this,arguments)}function ot(){return(ot=(0,j.Z)(function*(A){const{registrationPromise:R}=yield lr(A);R&&(yield R)})).apply(this,arguments)}function On(A){return Le.create("missing-app-config-values",{valueName:A})}const Us="installations",ct=A=>{const R=A.getProvider("app").getImmediate(),H=function ir(A){if(!A||!A.options)throw On("App Configuration");if(!A.name)throw On("App Name");const R=["projectId","apiKey","appId"];for(const H of R)if(!A.options[H])throw On(H);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(R);return{app:R,appConfig:H,heartbeatServiceProvider:(0,ce._getProvider)(R,"heartbeat"),_delete:()=>Promise.resolve()}},sn=A=>{const R=A.getProvider("app").getImmediate(),H=(0,ce._getProvider)(R,Us).getImmediate();return{getId:()=>function q(A){return Z.apply(this,arguments)}(H),getToken:ge=>function K(A){return Ee.apply(this,arguments)}(H,ge)}};(function Ln(){(0,ce._registerComponent)(new de.wA(Us,ct,"PUBLIC")),(0,ce._registerComponent)(new de.wA("installations-internal",sn,"PRIVATE"))})(),(0,ce.registerVersion)(fe,"0.5.7"),(0,ce.registerVersion)(fe,"0.5.7","esm2017");const sr="@firebase/remote-config",or=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class js{constructor(R,H,Q,ge){this.client=R,this.storage=H,this.storageCache=Q,this.logger=ge}isCachedDataFresh(R,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Q=Date.now()-H,ge=Q<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Q}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${ge}.`),ge}fetch(R){var H=this;return(0,j.Z)(function*(){const[Q,ge]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(ge&&H.isCachedDataFresh(R.cacheMaxAgeMillis,Q))return ge;R.eTag=ge&&ge.eTag;const be=yield H.client.fetch(R),Ye=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===be.status&&Ye.push(H.storage.setLastSuccessfulFetchResponse(be)),yield Promise.all(Ye),be})()}}function Hs(A=navigator){return A.languages&&A.languages[0]||A.language}class ss{constructor(R,H,Q,ge,be,Ye){this.firebaseInstallations=R,this.sdkVersion=H,this.namespace=Q,this.projectId=ge,this.apiKey=be,this.appId=Ye}fetch(R){var H=this;return(0,j.Z)(function*(){const[Q,ge]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),Ye=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,It={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},Ot={sdk_version:H.sdkVersion,app_instance_id:Q,app_instance_id_token:ge,app_id:H.appId,language_code:Hs()},Zt={method:"POST",headers:It,body:JSON.stringify(Ot)},Un=fetch(Ye,Zt),nn=new Promise((Os,ca)=>{R.signal.addEventListener(()=>{const Sa=new Error("The operation was aborted.");Sa.name="AbortError",ca(Sa)})});let ei;try{yield Promise.race([Un,nn]),ei=yield Un}catch(Os){let ca="fetch-client-network";throw"AbortError"===Os.name&&(ca="fetch-timeout"),or.create(ca,{originalErrorMessage:Os.message})}let Gr=ei.status;const Lu=ei.headers.get("ETag")||void 0;let Vu,la;if(200===ei.status){let Os;try{Os=yield ei.json()}catch(ca){throw or.create("fetch-client-parse",{originalErrorMessage:ca.message})}Vu=Os.entries,la=Os.state}if("INSTANCE_STATE_UNSPECIFIED"===la?Gr=500:"NO_CHANGE"===la?Gr=304:("NO_TEMPLATE"===la||"EMPTY_CONFIG"===la)&&(Vu={}),304!==Gr&&200!==Gr)throw or.create("fetch-status",{httpStatus:Gr});return{status:Gr,eTag:Lu,config:Vu}})()}}class mi{constructor(R,H){this.client=R,this.storage=H}fetch(R){var H=this;return(0,j.Z)(function*(){const Q=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(R,Q)})()}attemptFetch(R,{throttleEndTimeMillis:H,backoffCount:Q}){var ge=this;return(0,j.Z)(function*(){yield function wr(A,R){return new Promise((H,Q)=>{const ge=Math.max(R-Date.now(),0),be=setTimeout(H,ge);A.addEventListener(()=>{clearTimeout(be),Q(or.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,H);try{const be=yield ge.client.fetch(R);return yield ge.storage.deleteThrottleMetadata(),be}catch(be){if(!function Wa(A){if(!(A instanceof ae.ZR&&A.customData))return!1;const R=Number(A.customData.httpStatus);return 429===R||500===R||503===R||504===R}(be))throw be;const Ye={throttleEndTimeMillis:Date.now()+(0,ae.$s)(Q),backoffCount:Q+1};return yield ge.storage.setThrottleMetadata(Ye),ge.attemptFetch(R,Ye)}})()}}class Co{constructor(R,H,Q,ge,be){this.app=R,this._client=H,this._storageCache=Q,this._storage=ge,this._logger=be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kr(A,R){const H=A.target.error||void 0;return or.create(R,{originalErrorMessage:H&&H.message})}const ar="app_namespace_store";class To{constructor(R,H,Q,ge=function vu(){return new Promise((A,R)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=Q=>{R(Kr(Q,"storage-open"))},H.onsuccess=Q=>{A(Q.target.result)},H.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(ar,{keyPath:"compositeKey"})}}catch(H){R(or.create("storage-open",{originalErrorMessage:H}))}})}()){this.appId=R,this.appName=H,this.namespace=Q,this.openDbPromise=ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var H=this;return(0,j.Z)(function*(){const Q=yield H.openDbPromise;return new Promise((ge,be)=>{const It=Q.transaction([ar],"readonly").objectStore(ar),Ot=H.createCompositeKey(R);try{const Zt=It.get(Ot);Zt.onerror=Un=>{be(Kr(Un,"storage-get"))},Zt.onsuccess=Un=>{const nn=Un.target.result;ge(nn?nn.value:void 0)}}catch(Zt){be(or.create("storage-get",{originalErrorMessage:Zt&&Zt.message}))}})})()}set(R,H){var Q=this;return(0,j.Z)(function*(){const ge=yield Q.openDbPromise;return new Promise((be,Ye)=>{const Ot=ge.transaction([ar],"readwrite").objectStore(ar),Zt=Q.createCompositeKey(R);try{const Un=Ot.put({compositeKey:Zt,value:H});Un.onerror=nn=>{Ye(Kr(nn,"storage-set"))},Un.onsuccess=()=>{be()}}catch(Un){Ye(or.create("storage-set",{originalErrorMessage:Un&&Un.message}))}})})()}delete(R){var H=this;return(0,j.Z)(function*(){const Q=yield H.openDbPromise;return new Promise((ge,be)=>{const It=Q.transaction([ar],"readwrite").objectStore(ar),Ot=H.createCompositeKey(R);try{const Zt=It.delete(Ot);Zt.onerror=Un=>{be(Kr(Un,"storage-delete"))},Zt.onsuccess=()=>{ge()}}catch(Zt){be(or.create("storage-delete",{originalErrorMessage:Zt&&Zt.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class no{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,j.Z)(function*(){const H=R.storage.getLastFetchStatus(),Q=R.storage.getLastSuccessfulFetchTimestampMillis(),ge=R.storage.getActiveConfig(),be=yield H;be&&(R.lastFetchStatus=be);const Ye=yield Q;Ye&&(R.lastSuccessfulFetchTimestampMillis=Ye);const It=yield ge;It&&(R.activeConfig=It)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function Go(){return ro.apply(this,arguments)}function ro(){return(ro=(0,j.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(A){return!1}})).apply(this,arguments)}!function Za(){(0,ce._registerComponent)(new de.wA("remote-config",function A(R,{instanceIdentifier:H}){const Q=R.getProvider("app").getImmediate(),ge=R.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw or.create("registration-window");if(!(0,ae.hl)())throw or.create("indexed-db-unavailable");const{projectId:be,apiKey:Ye,appId:It}=Q.options;if(!be)throw or.create("registration-project-id");if(!Ye)throw or.create("registration-api-key");if(!It)throw or.create("registration-app-id");const Ot=new To(It,Q.name,H=H||"firebase"),Zt=new no(Ot),Un=new ye.Yd(sr);Un.logLevel=ye.in.ERROR;const nn=new ss(ge,ce.SDK_VERSION,H,be,Ye,It),ei=new mi(nn,Ot),Gr=new js(ei,Ot,Zt,Un),Lu=new Co(Q,Gr,Zt,Ot,Un);return function vr(A){const R=(0,ae.m9)(A);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Lu),Lu},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(sr,"0.3.6"),(0,ce.registerVersion)(sr,"0.3.6","esm2017")}();const ws="/firebase-messaging-sw.js",Io="/firebase-cloud-messaging-push-scope",yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Do="google.c.a.c_id",va="google.c.a.c_l",wa="google.c.a.ts",li="google.c.a.e";var Mr=(()=>{return(A=Mr||(Mr={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Mr;var A})();function os(A){const R=new Uint8Array(A);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $s(A){const H=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Q=atob(H),ge=new Uint8Array(Q.length);for(let be=0;be<Q.length;++be)ge[be]=Q.charCodeAt(be);return ge}const as="fcm_token_details_db",_i="fcm_token_object_Store";function qo(A){return Es.apply(this,arguments)}function Es(){return Es=(0,j.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(be=>be.name).includes(as))return null;let R=null;return(yield(0,ae.X3)(as,5,function(){var Q=(0,j.Z)(function*(ge,be,Ye,It){var Ot;if(be<2||!ge.objectStoreNames.contains(_i))return;const Zt=It.objectStore(_i),Un=yield Zt.index("fcmSenderId").get(A);if(yield Zt.clear(),Un)if(2===be){const nn=Un;if(!nn.auth||!nn.p256dh||!nn.endpoint)return;R={token:nn.fcmToken,createTime:null!==(Ot=nn.createTime)&&void 0!==Ot?Ot:Date.now(),subscriptionOptions:{auth:nn.auth,p256dh:nn.p256dh,endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:"string"==typeof nn.vapidKey?nn.vapidKey:os(nn.vapidKey)}}}else if(3===be){const nn=Un;R={token:nn.fcmToken,createTime:nn.createTime,subscriptionOptions:{auth:os(nn.auth),p256dh:os(nn.p256dh),endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:os(nn.vapidKey)}}}else if(4===be){const nn=Un;R={token:nn.fcmToken,createTime:nn.createTime,subscriptionOptions:{auth:os(nn.auth),p256dh:os(nn.p256dh),endpoint:nn.endpoint,swScope:nn.swScope,vapidKey:os(nn.vapidKey)}}}});return function(ge,be,Ye,It){return Q.apply(this,arguments)}}())).close(),yield(0,ae.Lj)(as),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),ji(R)?R:null}),Es.apply(this,arguments)}function ji(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:R}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const Hi="firebase-messaging-store";let bs=null;function Zo(){return bs||(bs=(0,ae.X3)("firebase-messaging-database",1,(A,R)=>{0===R&&A.createObjectStore(Hi)})),bs}function qn(A){return O.apply(this,arguments)}function O(){return(O=(0,j.Z)(function*(A){const R=De(A),Q=yield(yield Zo()).transaction(Hi).objectStore(Hi).get(R);if(Q)return Q;{const ge=yield qo(A.appConfig.senderId);if(ge)return yield U(A,ge),ge}})).apply(this,arguments)}function U(A,R){return x.apply(this,arguments)}function x(){return(x=(0,j.Z)(function*(A,R){const H=De(A),ge=(yield Zo()).transaction(Hi,"readwrite");return yield ge.objectStore(Hi).put(R,H),yield ge.complete,R})).apply(this,arguments)}function $(A){return ne.apply(this,arguments)}function ne(){return(ne=(0,j.Z)(function*(A){const R=De(A),Q=(yield Zo()).transaction(Hi,"readwrite");yield Q.objectStore(Hi).delete(R),yield Q.complete})).apply(this,arguments)}function De({appConfig:A}){return A.appId}const at=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rn(A,R){return In.apply(this,arguments)}function In(){return(In=(0,j.Z)(function*(A,R){const H=yield Yr(A),Q=Lt(R),ge={method:"POST",headers:H,body:JSON.stringify(Q)};let be;try{be=yield(yield fetch(Pn(A.appConfig),ge)).json()}catch(Ye){throw at.create("token-subscribe-failed",{errorInfo:Ye})}if(be.error)throw at.create("token-subscribe-failed",{errorInfo:be.error.message});if(!be.token)throw at.create("token-subscribe-no-token");return be.token})).apply(this,arguments)}function en(A,R){return tn.apply(this,arguments)}function tn(){return(tn=(0,j.Z)(function*(A,R){const H=yield Yr(A),Q=Lt(R.subscriptionOptions),ge={method:"PATCH",headers:H,body:JSON.stringify(Q)};let be;try{be=yield(yield fetch(`${Pn(A.appConfig)}/${R.token}`,ge)).json()}catch(Ye){throw at.create("token-update-failed",{errorInfo:Ye})}if(be.error)throw at.create("token-update-failed",{errorInfo:be.error.message});if(!be.token)throw at.create("token-update-no-token");return be.token})).apply(this,arguments)}function Qn(A,R){return wn.apply(this,arguments)}function wn(){return(wn=(0,j.Z)(function*(A,R){const Q={method:"DELETE",headers:yield Yr(A)};try{const be=yield(yield fetch(`${Pn(A.appConfig)}/${R}`,Q)).json();if(be.error)throw at.create("token-unsubscribe-failed",{errorInfo:be.error.message})}catch(ge){throw at.create("token-unsubscribe-failed",{errorInfo:ge})}})).apply(this,arguments)}function Pn({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Yr(A){return xr.apply(this,arguments)}function xr(){return(xr=(0,j.Z)(function*({appConfig:A,installations:R}){const H=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Lt({p256dh:A,auth:R,endpoint:H,vapidKey:Q}){const ge={web:{endpoint:H,auth:R,p256dh:A}};return Q!==yi&&(ge.web.applicationPubKey=Q),ge}const $i=6048e5;function Ea(A){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,j.Z)(function*(A){const R=yield Ka(A.swRegistration,A.vapidKey),H={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:R.endpoint,auth:os(R.getKey("auth")),p256dh:os(R.getKey("p256dh"))},Q=yield qn(A.firebaseDependencies);if(Q){if(Ya(Q.subscriptionOptions,H))return Date.now()>=Q.createTime+$i?sc(A,{token:Q.token,createTime:Date.now(),subscriptionOptions:H}):Q.token;try{yield Qn(A.firebaseDependencies,Q.token)}catch(ge){console.warn(ge)}return ze(A.firebaseDependencies,H)}return ze(A.firebaseDependencies,H)})).apply(this,arguments)}function Ko(A){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,j.Z)(function*(A){const R=yield qn(A.firebaseDependencies);R&&(yield Qn(A.firebaseDependencies,R.token),yield $(A.firebaseDependencies));const H=yield A.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()})).apply(this,arguments)}function sc(A,R){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,j.Z)(function*(A,R){try{const H=yield en(A.firebaseDependencies,R),Q=Object.assign(Object.assign({},R),{token:H,createTime:Date.now()});return yield U(A.firebaseDependencies,Q),H}catch(H){throw yield Ko(A),H}})).apply(this,arguments)}function ze(A,R){return pn.apply(this,arguments)}function pn(){return(pn=(0,j.Z)(function*(A,R){const Q={token:yield Rn(A,R),createTime:Date.now(),subscriptionOptions:R};return yield U(A,Q),Q.token})).apply(this,arguments)}function Ka(A,R){return zn.apply(this,arguments)}function zn(){return(zn=(0,j.Z)(function*(A,R){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$s(R)})})).apply(this,arguments)}function Ya(A,R){return R.vapidKey===A.vapidKey&&R.endpoint===A.endpoint&&R.auth===A.auth&&R.p256dh===A.p256dh}function qi(A){const R={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Ts(A,R){if(!R.notification)return;A.notification={};const H=R.notification.title;H&&(A.notification.title=H);const Q=R.notification.body;Q&&(A.notification.body=Q);const ge=R.notification.image;ge&&(A.notification.image=ge)}(R,A),function So(A,R){!R.data||(A.data=R.data)}(R,A),function us(A,R){if(!R.fcmOptions)return;A.fcmOptions={};const H=R.fcmOptions.link;H&&(A.fcmOptions.link=H);const Q=R.fcmOptions.analytics_label;Q&&(A.fcmOptions.analyticsLabel=Q)}(R,A),R}function oc(A){return"object"==typeof A&&!!A&&Do in A}function ac(A,R){const H=[];for(let Q=0;Q<A.length;Q++)H.push(A.charAt(Q)),Q<R.length&&H.push(R.charAt(Q));return H.join("")}function Ca(A){return at.create("missing-app-config-values",{valueName:A})}ac("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ac("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qr{constructor(R,H,Q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ge=function ba(A){if(!A||!A.options)throw Ca("App Configuration Object");if(!A.name)throw Ca("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:H}=A;for(const Q of R)if(!H[Q])throw Ca(Q);return{appName:A.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:ge,installations:H,analyticsProvider:Q}}_delete(){return Promise.resolve()}}function Is(A){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,j.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(ws,{scope:Io}),A.swRegistration.update().catch(()=>{})}catch(R){throw at.create("failed-service-worker-registration",{browserErrorMessage:R.message})}})).apply(this,arguments)}function Yo(A,R){return vi.apply(this,arguments)}function vi(){return(vi=(0,j.Z)(function*(A,R){if(!R&&!A.swRegistration&&(yield Is(A)),R||!A.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw at.create("invalid-sw-registration");A.swRegistration=R}})).apply(this,arguments)}function Qo(A,R){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,j.Z)(function*(A,R){R?A.vapidKey=R:A.vapidKey||(A.vapidKey=yi)})).apply(this,arguments)}function Xo(){return(Xo=(0,j.Z)(function*(A,R){if(!navigator)throw at.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw at.create("permission-blocked");return yield Qo(A,null==R?void 0:R.vapidKey),yield Yo(A,null==R?void 0:R.serviceWorkerRegistration),Ea(A)})).apply(this,arguments)}function Eu(A,R,H){return ea.apply(this,arguments)}function ea(){return(ea=(0,j.Z)(function*(A,R,H){const Q=Qa(R);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(Q,{message_id:H[Do],message_name:H[va],message_time:H[wa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qa(A){switch(A){case Mr.NOTIFICATION_CLICKED:return"notification_open";case Mr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ta(){return(ta=(0,j.Z)(function*(A,R){const H=R.data;if(!H.isFirebaseMessaging)return;A.onMessageHandler&&H.messageType===Mr.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(qi(H)):A.onMessageHandler.next(qi(H)));const Q=H.data;oc(Q)&&"1"===Q[li]&&(yield Eu(A,H.messageType,Q))})).apply(this,arguments)}const na="@firebase/messaging",Gs=A=>{const R=new Qr(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function al(A,R){return ta.apply(this,arguments)}(R,H)),R},bu=A=>{const R=A.getProvider("messaging").getImmediate();return{getToken:Q=>function ol(A,R){return Xo.apply(this,arguments)}(R,Q)}};function Tu(){return io.apply(this,arguments)}function io(){return(io=(0,j.Z)(function*(){try{yield(0,ae.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cu(){(0,ce._registerComponent)(new de.wA("messaging",Gs,"PUBLIC")),(0,ce._registerComponent)(new de.wA("messaging-internal",bu,"PRIVATE")),(0,ce.registerVersion)(na,"0.9.11"),(0,ce.registerVersion)(na,"0.9.11","esm2017")}();const Ja="analytics",Du="firebase_id",Ia="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ia="https://www.googletagmanager.com/gtag/js",Or=new ye.Yd("@firebase/analytics");function ci(A){return Promise.all(A.map(R=>R.catch(H=>H)))}function Da(A,R){const H=document.createElement("script");H.src=`${ia}?l=${A}&id=${R}`,H.async=!0,document.head.appendChild(H)}function oo(A,R,H,Q,ge,be){return zs.apply(this,arguments)}function zs(){return(zs=(0,j.Z)(function*(A,R,H,Q,ge,be){const Ye=Q[ge];try{if(Ye)yield R[Ye];else{const Ot=(yield ci(H)).find(Zt=>Zt.measurementId===ge);Ot&&(yield R[Ot.appId])}}catch(It){Or.error(It)}A("config",ge,be)})).apply(this,arguments)}function ao(A,R,H,Q,ge){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,j.Z)(function*(A,R,H,Q,ge){try{let be=[];if(ge&&ge.send_to){let Ye=ge.send_to;Array.isArray(Ye)||(Ye=[Ye]);const It=yield ci(H);for(const Ot of Ye){const Zt=It.find(nn=>nn.measurementId===Ot),Un=Zt&&R[Zt.appId];if(!Un){be=[];break}be.push(Un)}}0===be.length&&(be=Object.values(R)),yield Promise.all(be),A("event",Q,ge||{})}catch(be){Or.error(be)}})).apply(this,arguments)}function _d(){const A=window.document.getElementsByTagName("script");for(const R of Object.values(A))if(R.src&&R.src.includes(ia))return R;return null}const zi=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),As=new class Ds{constructor(R={},H=1e3){this.throttleMetadata=R,this.intervalMillis=H}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,H){this.throttleMetadata[R]=H}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function Ou(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Er(A){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,j.Z)(function*(A){var R;const{appId:H,apiKey:Q}=A,ge={method:"GET",headers:Ou(Q)},be=Ia.replace("{app-id}",H),Ye=yield fetch(be,ge);if(200!==Ye.status&&304!==Ye.status){let It="";try{const Ot=yield Ye.json();(null===(R=Ot.error)||void 0===R?void 0:R.message)&&(It=Ot.error.message)}catch(Ot){}throw zi.create("config-fetch-failed",{httpStatus:Ye.status,responseMessage:It})}return Ye.json()})).apply(this,arguments)}function Ru(A){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,j.Z)(function*(A,R=As,H){const{appId:Q,apiKey:ge,measurementId:be}=A.options;if(!Q)throw zi.create("no-app-id");if(!ge){if(be)return{measurementId:be,appId:Q};throw zi.create("no-api-key")}const Ye=R.getThrottleMetadata(Q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},It=new lc;return setTimeout((0,j.Z)(function*(){It.abort()}),void 0!==H?H:6e4),sa({appId:Q,apiKey:ge,measurementId:be},Ye,It,R)})).apply(this,arguments)}function sa(A,R,H){return lo.apply(this,arguments)}function lo(){return(lo=(0,j.Z)(function*(A,{throttleEndTimeMillis:R,backoffCount:H},Q,ge=As){const{appId:be,measurementId:Ye}=A;try{yield Th(Q,R)}catch(It){if(Ye)return Or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${It.message}]`),{appId:be,measurementId:Ye};throw It}try{const It=yield Er(A);return ge.deleteThrottleMetadata(be),It}catch(It){if(!cl(It)){if(ge.deleteThrottleMetadata(be),Ye)return Or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${It.message}]`),{appId:be,measurementId:Ye};throw It}const Ot=503===Number(It.customData.httpStatus)?(0,ae.$s)(H,ge.intervalMillis,30):(0,ae.$s)(H,ge.intervalMillis),Zt={throttleEndTimeMillis:Date.now()+Ot,backoffCount:H+1};return ge.setThrottleMetadata(be,Zt),Or.debug(`Calling attemptFetch again in ${Ot} millis`),sa(A,Zt,Q,ge)}})).apply(this,arguments)}function Th(A,R){return new Promise((H,Q)=>{const ge=Math.max(R-Date.now(),0),be=setTimeout(H,ge);A.addEventListener(()=>{clearTimeout(be),Q(zi.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function cl(A){if(!(A instanceof ae.ZR&&A.customData))return!1;const R=Number(A.customData.httpStatus);return 429===R||500===R||503===R||504===R}class lc{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}function oa(){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,j.Z)(function*(){if(!(0,ae.hl)())return Or.warn(zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(A){return Or.warn(zi.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function ho(){return(ho=(0,j.Z)(function*(A,R,H,Q,ge,be,Ye){var It;const Ot=Ru(A);Ot.then(Gr=>{H[Gr.measurementId]=Gr.appId,A.options.measurementId&&Gr.measurementId!==A.options.measurementId&&Or.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${Gr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gr=>Or.error(Gr)),R.push(Ot);const Zt=oa().then(Gr=>{if(Gr)return Q.getId()}),[Un,nn]=yield Promise.all([Ot,Zt]);_d()||Da(be,Un.measurementId),ge("js",new Date);const ei=null!==(It=null==Ye?void 0:Ye.config)&&void 0!==It?It:{};return ei.origin="firebase",ei.update=!0,null!=nn&&(ei[Du]=nn),ge("config",Un.measurementId,ei),Un.measurementId})).apply(this,arguments)}class dl{constructor(R){this.app=R}_delete(){return delete Wi[this.app.options.appId],Promise.resolve()}}let Wi={},T=[];const w={};let P,B,_="dataLayer",Y=!1;function _t(A,R,H){!function Oe(){const A=[];if((0,ae.ru)()&&A.push("This is a browser extension environment."),(0,ae.zI)()||A.push("Cookies are not available."),A.length>0){const R=A.map((Q,ge)=>`(${ge+1}) ${Q}`).join(" "),H=zi.create("invalid-analytics-context",{errorInfo:R});Or.warn(H.message)}}();const Q=A.options.appId;if(!Q)throw zi.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw zi.create("no-api-key");Or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wi[Q])throw zi.create("already-exists",{id:Q});if(!Y){!function ls(A){let R=[];Array.isArray(window[A])?R=window[A]:window[A]=R}(_);const{wrappedGtag:be,gtagCore:Ye}=function Su(A,R,H,Q,ge){let be=function(...Ye){window[Q].push(arguments)};return window[ge]&&"function"==typeof window[ge]&&(be=window[ge]),window[ge]=function Au(A,R,H,Q){function be(){return(be=(0,j.Z)(function*(Ye,It,Ot){try{"event"===Ye?yield ao(A,R,H,It,Ot):"config"===Ye?yield oo(A,R,H,Q,It,Ot):A("set",It)}catch(Zt){Or.error(Zt)}})).apply(this,arguments)}return function ge(Ye,It,Ot){return be.apply(this,arguments)}}(be,A,R,H),{gtagCore:be,wrappedGtag:window[ge]}}(Wi,T,w,_,"gtag");B=be,P=Ye,Y=!0}return Wi[Q]=function co(A,R,H,Q,ge,be,Ye){return ho.apply(this,arguments)}(A,T,w,R,P,_,H),new dl(A)}function Tt(){return(Tt=(0,j.Z)(function*(A,R,H,Q,ge){if(ge&&ge.global)A("event",H,Q);else{const be=yield R;A("event",H,Object.assign(Object.assign({},Q),{send_to:be}))}})).apply(this,arguments)}function po(){return hl.apply(this,arguments)}function hl(){return(hl=(0,j.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(A){return!1}})).apply(this,arguments)}const Ed="@firebase/analytics";!function Zm(){(0,ce._registerComponent)(new de.wA(Ja,(R,{options:H})=>_t(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,ce._registerComponent)(new de.wA("analytics-internal",function A(R){try{const H=R.getProvider(Ja).getImmediate();return{logEvent:(Q,ge,be)=>function wd(A,R,H,Q){A=(0,ae.m9)(A),function cn(A,R,H,Q,ge){return Tt.apply(this,arguments)}(B,Wi[A.app.options.appId],R,H,Q).catch(ge=>Or.error(ge))}(H,Q,ge,be)}}catch(H){throw zi.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,ce.registerVersion)(Ed,"0.7.7"),(0,ce.registerVersion)(Ed,"0.7.7","esm2017")}();var Dh=k(4408),Ah=k(7565);const pl=new class Xr extends Ah.v{}(class fl extends Dh.o{constructor(R,H){super(R,H),this.scheduler=R,this.work=H}schedule(R,H=0){return H>0?super.schedule(R,H):(this.delay=H,this.state=R,this.scheduler.flush(this),this)}execute(R,H){return H>0||this.closed?super.execute(R,H):this._execute(R,H)}requestAsyncId(R,H,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(R,H,Q):R.flush(this)}});var Sh=k(4986),gl=k(8505),Ri=k(5363),Ks=k(9468);const eu=new b.GfV("7.3.0"),ua="__angularfire_symbol__analyticsIsSupportedValue",Yi="__angularfire_symbol__analyticsIsSupported",tu="__angularfire_symbol__remoteConfigIsSupportedValue",Nu="__angularfire_symbol__remoteConfigIsSupported",hc="__angularfire_symbol__messagingIsSupportedValue",Mh="__angularfire_symbol__messagingIsSupported";function Aa(A,R,H){if(R){if(1===R.length)return R[0];const be=R.filter(Ye=>Ye.app===H);if(1===be.length)return be[0]}return H.container.getProvider(A).getImmediate({optional:!0})}globalThis[Yi]||(globalThis[Yi]=po().then(A=>globalThis[ua]=A).catch(()=>globalThis[ua]=!1)),globalThis[Mh]||(globalThis[Mh]=Tu().then(A=>globalThis[hc]=A).catch(()=>globalThis[hc]=!1)),globalThis[Nu]||(globalThis[Nu]=Go().then(A=>globalThis[tu]=A).catch(()=>globalThis[tu]=!1));const Oh=(A,R)=>{const H=R?[R]:(0,h.C6)(),Q=[];return H.forEach(ge=>{ge.container.getProvider(A).instances.forEach(Ye=>{Q.includes(Ye)||Q.push(Ye)})}),Q};function Oo(){}class go{constructor(R,H=pl){this.zone=R,this.delegate=H}now(){return this.delegate.now()}schedule(R,H,Q){const ge=this.zone;return this.delegate.schedule(function(Ye){ge.runGuarded(()=>{R.apply(this,[Ye])})},H,Q)}}class pc{constructor(R){this.zone=R,this.task=null}call(R,H){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oo,{},Oo,Oo)),H.pipe((0,gl.b)({next:Q,complete:Q,error:Q})).subscribe(R).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ml=(()=>{class A{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new go(Zone.current)),this.insideAngular=H.run(()=>new go(Zone.current,Sh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(H){return new(H||A)(b.LFG(b.R0b))},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function nu(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Fu(A){return A.pipe((0,Ri.Q)(nu().outsideAngular))}function _l(A){return nu(),function ru(A){return function(H){return(H=H.lift(new pc(A.ngZone))).pipe((0,Ks.R)(A.outsideAngular),(0,Ri.Q)(A.insideAngular))}}(nu())(A)}},424:(vt,Ae,k)=>{k.d(Ae,{$:()=>Ea,A:()=>X,E:()=>sn,G:()=>Mn,I:()=>mi,K:()=>J,L:()=>ro,M:()=>sl,N:()=>Do,P:()=>ua,Q:()=>va,R:()=>Ih,T:()=>yi,U:()=>Mr,V:()=>os,W:()=>qo,X:()=>He,Y:()=>Rn,Z:()=>en,_:()=>Pn,a:()=>uo,a0:()=>Ko,a1:()=>sc,a2:()=>ze,a3:()=>Ka,a4:()=>Ya,a5:()=>Ts,a6:()=>So,a7:()=>oc,a8:()=>ac,a9:()=>Is,aA:()=>ei,aB:()=>Cd,aC:()=>Fn,aG:()=>As,aJ:()=>li,aa:()=>Yo,ab:()=>Qo,ae:()=>Eu,af:()=>Qa,ag:()=>al,aj:()=>Hi,ak:()=>Ta,am:()=>Ia,an:()=>oo,ao:()=>$n,ap:()=>he,aq:()=>Gt,ar:()=>ot,as:()=>rt,at:()=>Lh,au:()=>qp,av:()=>Ge,aw:()=>ve,ax:()=>Ie,ay:()=>oe,az:()=>Os,b:()=>Mu,c:()=>xh,d:()=>go,e:()=>Oh,f:()=>R,g:()=>It,h:()=>ge,i:()=>Oe,j:()=>Un,k:()=>wl,l:()=>Xr,m:()=>ny,n:()=>sy,o:()=>fe,r:()=>dc,s:()=>fl,t:()=>dr,u:()=>Ks,z:()=>$e});var b=k(5861),h=k(2090),j=k(9681),ce=k(655),ae=k(1877),de=k(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},X={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $e=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ke=function tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new ae.Yd("@firebase/auth");function gt(E,...p){Le.logLevel<=ae.in.ERROR&&Le.error(`Auth (${j.SDK_VERSION}): ${E}`,...p)}function rt(E,...p){throw je(E,...p)}function Ge(E,...p){return je(E,...p)}function qe(E,p,m){const I=Object.assign(Object.assign({},Ke()),{[p]:m});return new h.LL("auth","Firebase",I).create(p,{appName:E.name})}function Fe(E,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&rt(E,"argument-error"),qe(E,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(E,...p){if("string"!=typeof E){const m=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=E.name),E._errorFactory.create(m,...I)}return et.create(E,...p)}function ve(E,p,...m){if(!E)throw je(p,...m)}function mt(E){const p="INTERNAL ASSERTION FAILED: "+E;throw gt(p),new Error(p)}function he(E,p){E||mt(p)}const Te=new Map;function Ie(E){he(E instanceof Function,"Expected a class definition");let p=Te.get(E);return p?(he(p instanceof E,"Instance stored in cache mismatched with class"),p):(p=new E,Te.set(E,p),p)}function Ce(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Bt(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class St{constructor(p,m){this.shortDelay=p,this.longDelay=m,he(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function Kt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bt()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kn(E,p){he(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class xn{static initialize(p,m,I){this.fetchImpl=p,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yn=new St(3e4,6e4);function zt(E,p){return E.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:E.tenantId}):p}function Yt(E,p,m,I){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,b.Z)(function*(E,p,m,I,F={}){return jn(E,F,(0,b.Z)(function*(){let z={},_e={};I&&("GET"===p?_e=I:z={body:JSON.stringify(I)});const Ze=(0,h.xO)(Object.assign({key:E.config.apiKey},_e)).slice(1),Rt=yield E._getAdditionalHeaders();return Rt["Content-Type"]="application/json",E.languageCode&&(Rt["X-Firebase-Locale"]=E.languageCode),xn.fetch()(si(E,E.config.apiHost,m,Ze),Object.assign({method:p,headers:Rt,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function jn(E,p,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,b.Z)(function*(E,p,m){E._canInitEmulator=!1;const I=Object.assign(Object.assign({},kr),p);try{const F=new Dr(E),z=yield Promise.race([m(),F.promise]);F.clearNetworkTimeout();const _e=yield z.json();if("needConfirmation"in _e)throw Ar(E,"account-exists-with-different-credential",_e);if(z.ok&&!("errorMessage"in _e))return _e;{const Ze=z.ok?_e.errorMessage:_e.error.message,[Rt,qt]=Ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rt)throw Ar(E,"credential-already-in-use",_e);if("EMAIL_EXISTS"===Rt)throw Ar(E,"email-already-in-use",_e);const En=I[Rt]||Rt.toLowerCase().replace(/[_\s]+/g,"-");if(qt)throw qe(E,En,qt);rt(E,En)}}catch(F){if(F instanceof h.ZR)throw F;rt(E,"network-request-failed")}})).apply(this,arguments)}function _r(E,p,m,I){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,b.Z)(function*(E,p,m,I,F={}){const z=yield Yt(E,p,m,I,F);return"mfaPendingCredential"in z&&rt(E,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function si(E,p,m,I){const F=`${p}${m}?${I}`;return E.config.emulator?kn(E.config,F):`${E.config.apiScheme}://${F}`}class Dr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(Ge(this.auth,"network-request-failed")),yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ar(E,p,m){const I={appName:E.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const F=Ge(E,p,I);return F.customData._tokenResponse=m,F}function Mt(){return(Mt=(0,b.Z)(function*(E,p){return Yt(E,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Zr(E,p){return ur.apply(this,arguments)}function ur(){return(ur=(0,b.Z)(function*(E,p){return Yt(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dn(E,p){return er.apply(this,arguments)}function er(){return(er=(0,b.Z)(function*(E,p){return Yt(E,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function gi(E){if(E)try{const p=new Date(Number(E));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Br(){return(Br=(0,b.Z)(function*(E,p=!1){const m=(0,h.m9)(E),I=yield m.getIdToken(p),F=dt(I);ve(F&&F.exp&&F.auth_time&&F.iat,m.auth,"internal-error");const z="object"==typeof F.firebase?F.firebase:void 0,_e=null==z?void 0:z.sign_in_provider;return{claims:F,token:I,authTime:gi(jr(F.auth_time)),issuedAtTime:gi(jr(F.iat)),expirationTime:gi(jr(F.exp)),signInProvider:_e||null,signInSecondFactor:(null==z?void 0:z.sign_in_second_factor)||null}})).apply(this,arguments)}function jr(E){return 1e3*Number(E)}function dt(E){const[p,m,I]=E.split(".");if(void 0===p||void 0===m||void 0===I)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,h.tV)(m);return F?JSON.parse(F):(gt("Failed to decode base64 JWT payload"),null)}catch(F){return gt("Caught error parsing JWT payload as JSON",F),null}}function yt(E,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,b.Z)(function*(E,p,m=!1){if(m)return p;try{return yield p}catch(I){throw I instanceof h.ZR&&Mi(I)&&E.auth.currentUser===E&&(yield E.auth.signOut()),I}})).apply(this,arguments)}function Mi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class _n{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const F=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,b.Z)(function*(){yield m.iteration()}),I)}iteration(){var p=this;return(0,b.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class is{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nr(E){return hn.apply(this,arguments)}function hn(){return(hn=(0,b.Z)(function*(E){var p;const m=E.auth,I=yield E.getIdToken(),F=yield yt(E,Dn(m,{idToken:I}));ve(null==F?void 0:F.users.length,m,"internal-error");const z=F.users[0];E._notifyReloadListener(z);const _e=(null===(p=z.providerUserInfo)||void 0===p?void 0:p.length)?ht(z.providerUserInfo):[],Ze=fn(E.providerData,_e),En=!!E.isAnonymous&&!(E.email&&z.passwordHash||(null==Ze?void 0:Ze.length)),Pr={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:Ze,metadata:new is(z.createdAt,z.lastLoginAt),isAnonymous:En};Object.assign(E,Pr)})).apply(this,arguments)}function rr(){return(rr=(0,b.Z)(function*(E){const p=(0,h.m9)(E);yield nr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function fn(E,p){return[...E.filter(I=>!p.some(F=>F.providerId===I.providerId)),...p]}function ht(E){return E.map(p=>{var{providerId:m}=p,I=(0,ce._T)(p,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function ut(){return(ut=(0,b.Z)(function*(E,p){const m=yield jn(E,{},(0,b.Z)(function*(){const I=(0,h.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:F,apiKey:z}=E.config,_e=si(E,F,"/v1/token",`key=${z}`),Ze=yield E._getAdditionalHeaders();return Ze["Content-Type"]="application/x-www-form-urlencoded",xn.fetch()(_e,{method:"POST",headers:Ze,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ve(p.idToken,"internal-error"),ve(void 0!==p.idToken,"internal-error"),ve(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function xt(E){const p=dt(E);return ve(p,"internal-error"),ve(void 0!==p.exp,"internal-error"),ve(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var I=this;return(0,b.Z)(function*(){return ve(!I.accessToken||I.refreshToken,p,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var I=this;return(0,b.Z)(function*(){const{accessToken:F,refreshToken:z,expiresIn:_e}=yield function Pe(E,p){return ut.apply(this,arguments)}(p,m);I.updateTokensAndExpiration(F,z,Number(_e))})()}updateTokensAndExpiration(p,m,I){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,m){const{refreshToken:I,accessToken:F,expirationTime:z}=m,_e=new Nt;return I&&(ve("string"==typeof I,"internal-error",{appName:p}),_e.refreshToken=I),F&&(ve("string"==typeof F,"internal-error",{appName:p}),_e.accessToken=F),z&&(ve("number"==typeof z,"internal-error",{appName:p}),_e.expirationTime=z),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return mt("not implemented")}}function on(E,p){ve("string"==typeof E||void 0===E,"internal-error",{appName:p})}class rn{constructor(p){var{uid:m,auth:I,stsTokenManager:F}=p,z=(0,ce._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new is(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,b.Z)(function*(){const I=yield yt(m,m.stsTokenManager.getToken(m.auth,p));return ve(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(p){return function tr(E){return Br.apply(this,arguments)}(this,p)}reload(){return function kt(E){return rr.apply(this,arguments)}(this)}_assign(p){this!==p&&(ve(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new rn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var I=this;return(0,b.Z)(function*(){let F=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),F=!0),m&&(yield nr(I)),yield I.auth._persistUserIfCurrent(I),F&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,b.Z)(function*(){const m=yield p.getIdToken();return yield yt(p,function ms(E,p){return Mt.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var I,F,z,_e,Ze,Rt,qt,En;const Pr=null!==(I=m.displayName)&&void 0!==I?I:void 0,xa=null!==(F=m.email)&&void 0!==F?F:void 0,El=null!==(z=m.phoneNumber)&&void 0!==z?z:void 0,bl=null!==(_e=m.photoURL)&&void 0!==_e?_e:void 0,Ad=null!==(Ze=m.tenantId)&&void 0!==Ze?Ze:void 0,ju=null!==(Rt=m._redirectEventId)&&void 0!==Rt?Rt:void 0,iu=null!==(qt=m.createdAt)&&void 0!==qt?qt:void 0,tg=null!==(En=m.lastLoginAt)&&void 0!==En?En:void 0,{uid:Cl,emailVerified:Sd,isAnonymous:Md,providerData:cs,stsTokenManager:Bh}=m;ve(Cl&&Bh,p,"internal-error");const xd=Nt.fromJSON(this.name,Bh);ve("string"==typeof Cl,p,"internal-error"),on(Pr,p.name),on(xa,p.name),ve("boolean"==typeof Sd,p,"internal-error"),ve("boolean"==typeof Md,p,"internal-error"),on(El,p.name),on(bl,p.name),on(Ad,p.name),on(ju,p.name),on(iu,p.name),on(tg,p.name);const Hu=new rn({uid:Cl,auth:p,email:xa,emailVerified:Sd,displayName:Pr,isAnonymous:Md,photoURL:bl,phoneNumber:El,tenantId:Ad,stsTokenManager:xd,createdAt:iu,lastLoginAt:tg});return cs&&Array.isArray(cs)&&(Hu.providerData=cs.map(jh=>Object.assign({},jh))),ju&&(Hu._redirectEventId=ju),Hu}static _fromIdTokenResponse(p,m,I=!1){return(0,b.Z)(function*(){const F=new Nt;F.updateFromServerResponse(m);const z=new rn({uid:m.localId,auth:p,stsTokenManager:F,isAnonymous:I});return yield nr(z),z})()}}const J=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(m,I){var F=this;return(0,b.Z)(function*(){F.storage[m]=I})()}_get(m){var I=this;return(0,b.Z)(function*(){const F=I.storage[m];return void 0===F?null:F})()}_remove(m){var I=this;return(0,b.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return E.type="NONE",E})();function oe(E,p,m){return`firebase:${E}:${p}:${m}`}class Se{constructor(p,m,I){this.persistence=p,this.auth=m,this.userKey=I;const{config:F,name:z}=this.auth;this.fullUserKey=oe(this.userKey,F.apiKey,z),this.fullPersistenceKey=oe("persistence",F.apiKey,z),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,b.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?rn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,b.Z)(function*(){if(m.persistence===p)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,I="authUser"){return(0,b.Z)(function*(){if(!m.length)return new Se(Ie(J),p,I);const F=(yield Promise.all(m.map(function(){var qt=(0,b.Z)(function*(En){if(yield En._isAvailable())return En});return function(En){return qt.apply(this,arguments)}}()))).filter(qt=>qt);let z=F[0]||Ie(J);const _e=oe(I,p.config.apiKey,p.name);let Ze=null;for(const qt of m)try{const En=yield qt._get(_e);if(En){const Pr=rn._fromJSON(p,En);qt!==z&&(Ze=Pr),z=qt;break}}catch(En){}const Rt=F.filter(qt=>qt._shouldAllowMigration);return z._shouldAllowMigration&&Rt.length?(z=Rt[0],Ze&&(yield z._set(_e,Ze.toJSON())),yield Promise.all(m.map(function(){var qt=(0,b.Z)(function*(En){if(En!==z)try{yield En._remove(_e)}catch(Pr){}});return function(En){return qt.apply(this,arguments)}}())),new Se(z,p,I)):new Se(z,p,I)})()}}function q(E){const p=E.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ve(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Z(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ut(p))return"Blackberry";if(lt(p))return"Webos";if(K(p))return"Safari";if((p.includes("chrome/")||Ee(p))&&!p.includes("edge/"))return"Chrome";if(ot(p))return"Android";{const I=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Z(E=(0,h.z$)()){return/firefox\//i.test(E)}function K(E=(0,h.z$)()){const p=E.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ee(E=(0,h.z$)()){return/crios\//i.test(E)}function Ve(E=(0,h.z$)()){return/iemobile/i.test(E)}function ot(E=(0,h.z$)()){return/android/i.test(E)}function Ut(E=(0,h.z$)()){return/blackberry/i.test(E)}function lt(E=(0,h.z$)()){return/webos/i.test(E)}function Gt(E=(0,h.z$)()){return/iphone|ipad|ipod/i.test(E)}function $n(E=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function pr(E=(0,h.z$)()){return Gt(E)||ot(E)||lt(E)||Ut(E)||/windows phone/i.test(E)||Ve(E)}function On(E,p=[]){let m;switch(E){case"Browser":m=q((0,h.z$)());break;case"Worker":m=`${q((0,h.z$)())}-${E}`;break;default:m=E}const I=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${j.SDK_VERSION}/${I}`}class Us{constructor(p,m,I){this.app=p,this.heartbeatServiceProvider=m,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ct(this),this.idTokenSubscription=new ct(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(p,m){var I=this;return m&&(this._popupRedirectResolver=Ie(m)),this._initializationPromise=this.queue((0,b.Z)(function*(){var F,z;if(!I._deleted&&(I.persistenceManager=yield Se.create(I,p),!I._deleted)){if(null===(F=I._popupRedirectResolver)||void 0===F?void 0:F._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(_e){}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(z=I.currentUser)||void 0===z?void 0:z.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,b.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,b.Z)(function*(){var I;let F=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const z=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,_e=null==F?void 0:F._redirectEventId,Ze=yield m.tryRedirectSignIn(p);(!z||z===_e)&&(null==Ze?void 0:Ze.user)&&(F=Ze.user)}return F?F._redirectEventId?(ve(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===F._redirectEventId?m.directlySetCurrentUser(F):m.reloadAndSetCurrentUserOrClear(F)):m.reloadAndSetCurrentUserOrClear(F):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,b.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(F){yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,b.Z)(function*(){try{yield nr(p)}catch(I){if("auth/network-request-failed"!==I.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ct(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var p=this;return(0,b.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,b.Z)(function*(){const I=p?(0,h.m9)(p):null;return I&&ve(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,b.Z)(function*(){if(!m._deleted)return p&&ve(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,b.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,b.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,b.Z)(function*(){yield m.assertedPersistence.setPersistence(Ie(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new h.LL("auth","Firebase",p())}onAuthStateChanged(p,m,I){return this.registerStateListener(this.authStateSubscription,p,m,I)}onIdTokenChanged(p,m,I){return this.registerStateListener(this.idTokenSubscription,p,m,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var I=this;return(0,b.Z)(function*(){const F=yield I.getOrInitRedirectPersistenceManager(m);return null===p?F.removeCurrentUser():F.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,b.Z)(function*(){if(!m.redirectPersistenceManager){const I=p&&Ie(p)||m._popupRedirectResolver;ve(I,m,"argument-error"),m.redirectPersistenceManager=yield Se.create(m,[Ie(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,b.Z)(function*(){var I,F;return m._isInitialized&&(yield m.queue((0,b.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===p?m._currentUser:(null===(F=m.redirectUser)||void 0===F?void 0:F._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,b.Z)(function*(){if(p===m.currentUser)return m.queue((0,b.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,I,F){if(this._deleted)return()=>{};const z="function"==typeof m?m:m.next.bind(m),_e=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(_e,this,"internal-error"),_e.then(()=>z(this.currentUser)),"function"==typeof m?p.addObserver(m,I,F):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,b.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=On(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,b.Z)(function*(){var m;const I={"X-Client-Version":p.clientVersion};p.app.options.appId&&(I["X-Firebase-gmpid"]=p.app.options.appId);const F=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return F&&(I["X-Firebase-Client"]=F),I})()}}function Fn(E){return(0,h.m9)(E)}class ct{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,h.ne)(m=>this.observer=m)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sn(E,p,m){const I=Fn(E);ve(I._canInitEmulator,I,"emulator-config-failed"),ve(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const F=!!(null==m?void 0:m.disableWarnings),z=Ln(p),{host:_e,port:Ze}=function sr(E){const p=Ln(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(p.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(I);if(F){const z=F[1];return{host:z,port:Fr(I.substr(z.length+1))}}{const[z,_e]=I.split(":");return{host:z,port:Fr(_e)}}}(p);I.config.emulator={url:`${z}//${_e}${null===Ze?"":`:${Ze}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:_e,port:Ze,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function gr(){function E(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Ln(E){const p=E.indexOf(":");return p<0?"":E.substr(0,p+1)}function Fr(E){if(!E)return null;const p=Number(E);return isNaN(p)?null:p}class Mn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return mt("not implemented")}_getIdTokenResponse(p){return mt("not implemented")}_linkToIdToken(p,m){return mt("not implemented")}_getReauthenticationResolver(p){return mt("not implemented")}}function bn(E,p){return or.apply(this,arguments)}function or(){return(or=(0,b.Z)(function*(E,p){return Yt(E,"POST","/v1/accounts:resetPassword",zt(E,p))})).apply(this,arguments)}function eo(E,p){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,b.Z)(function*(E,p){return Yt(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Eo(E,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,b.Z)(function*(E,p){return Yt(E,"POST","/v1/accounts:update",zt(E,p))})).apply(this,arguments)}function oi(){return(oi=(0,b.Z)(function*(E,p){return _r(E,"POST","/v1/accounts:signInWithPassword",zt(E,p))})).apply(this,arguments)}function cr(E,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,b.Z)(function*(E,p){return Yt(E,"POST","/v1/accounts:sendOobCode",zt(E,p))})).apply(this,arguments)}function ai(E,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,b.Z)(function*(E,p){return cr(E,p)})).apply(this,arguments)}function Vn(E,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,b.Z)(function*(E,p){return cr(E,p)})).apply(this,arguments)}function ys(E,p){return $r.apply(this,arguments)}function $r(){return($r=(0,b.Z)(function*(E,p){return cr(E,p)})).apply(this,arguments)}function Ui(E,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,b.Z)(function*(E,p){return cr(E,p)})).apply(this,arguments)}function Bi(){return(Bi=(0,b.Z)(function*(E,p){return _r(E,"POST","/v1/accounts:signInWithEmailLink",zt(E,p))})).apply(this,arguments)}function js(){return(js=(0,b.Z)(function*(E,p){return _r(E,"POST","/v1/accounts:signInWithEmailLink",zt(E,p))})).apply(this,arguments)}class Hs extends Mn{constructor(p,m,I,F=null){super("password",I),this._email=p,this._password=m,this._tenantId=F}static _fromEmailAndPassword(p,m){return new Hs(p,m,"password")}static _fromEmailAndCode(p,m,I=null){return new Hs(p,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,b.Z)(function*(){switch(m.signInMethod){case"password":return function bo(E,p){return oi.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function vs(E,p){return Bi.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:rt(p,"internal-error")}})()}_linkToIdToken(p,m){var I=this;return(0,b.Z)(function*(){switch(I.signInMethod){case"password":return eo(p,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function ui(E,p){return js.apply(this,arguments)}(p,{idToken:m,email:I._email,oobCode:I._password});default:rt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ss(E,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,b.Z)(function*(E,p){return _r(E,"POST","/v1/accounts:signInWithIdp",zt(E,p))})).apply(this,arguments)}class mi extends Mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new mi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):rt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:F}=m,z=(0,ce._T)(m,["providerId","signInMethod"]);if(!I||!F)return null;const _e=new mi(I,F);return _e.idToken=z.idToken||void 0,_e.accessToken=z.accessToken||void 0,_e.secret=z.secret,_e.nonce=z.nonce,_e.pendingToken=z.pendingToken||null,_e}_getIdTokenResponse(p){return ss(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,ss(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ss(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,h.xO)(m)}return p}}function _u(E,p){return to.apply(this,arguments)}function to(){return(to=(0,b.Z)(function*(E,p){return Yt(E,"POST","/v1/accounts:sendVerificationCode",zt(E,p))})).apply(this,arguments)}function Kr(){return(Kr=(0,b.Z)(function*(E,p){return _r(E,"POST","/v1/accounts:signInWithPhoneNumber",zt(E,p))})).apply(this,arguments)}function $o(){return($o=(0,b.Z)(function*(E,p){const m=yield _r(E,"POST","/v1/accounts:signInWithPhoneNumber",zt(E,p));if(m.temporaryProof)throw Ar(E,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ic={USER_NOT_FOUND:"user-not-found"};function To(){return(To=(0,b.Z)(function*(E,p){return _r(E,"POST","/v1/accounts:signInWithPhoneNumber",zt(E,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ic)})).apply(this,arguments)}class no extends Mn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new no({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new no({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Co(E,p){return Kr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function ar(E,p){return $o.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function vu(E,p){return To.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:I,verificationCode:F}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:I,code:F}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:I,phoneNumber:F,temporaryProof:z}=p;return I||m||F||z?new no({verificationId:m,verificationCode:I,phoneNumber:F,temporaryProof:z}):null}}class xi{constructor(p){var m,I,F,z,_e,Ze;const Rt=(0,h.zd)((0,h.pd)(p)),qt=null!==(m=Rt.apiKey)&&void 0!==m?m:null,En=null!==(I=Rt.oobCode)&&void 0!==I?I:null,Pr=function Za(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=Rt.mode)&&void 0!==F?F:null);ve(qt&&En&&Pr,"argument-error"),this.apiKey=qt,this.operation=Pr,this.code=En,this.continueUrl=null!==(z=Rt.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(_e=Rt.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(Ze=Rt.tenantId)&&void 0!==Ze?Ze:null}static parseLink(p){const m=function _a(E){const p=(0,h.zd)((0,h.pd)(E)).link,m=p?(0,h.zd)((0,h.pd)(p)).deep_link_id:null,I=(0,h.zd)((0,h.pd)(E)).deep_link_id;return(I?(0,h.zd)((0,h.pd)(I)).link:null)||I||m||p||E}(p);try{return new xi(m)}catch(I){return null}}}let ro=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,I){return Hs._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const F=xi.parseLink(I);return ve(F,"argument-error"),Hs._fromEmailAndCode(m,F.code,F.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ws{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Io extends ws{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class yi extends Io{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ve("providerId"in m&&"signInMethod"in m,"argument-error"),mi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ve(p.idToken||p.accessToken,"argument-error"),mi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return yi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return yi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:F,pendingToken:z,nonce:_e,providerId:Ze}=p;if(!I&&!F&&!m&&!z||!Ze)return null;try{return new yi(Ze)._credential({idToken:m,accessToken:I,nonce:_e,pendingToken:z})}catch(Rt){return null}}}let sl=(()=>{class E extends Io{constructor(){super("facebook.com")}static credential(m){return mi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch(I){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Do=(()=>{class E extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return mi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:F}=m;if(!I&&!F)return null;try{return E.credential(I,F)}catch(z){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),va=(()=>{class E extends Io{constructor(){super("github.com")}static credential(m){return mi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch(I){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class li extends Mn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ss(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,ss(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ss(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:F,pendingToken:z}=m;return I&&F&&z&&I===F?new li(I,z):null}static _create(p,m){return new li(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mr extends ws{constructor(p){ve(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Mr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Mr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=li.fromJSON(p);return ve(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:I}=p;if(!m||!I)return null;try{return li._create(I,m)}catch(F){return null}}}let os=(()=>{class E extends Io{constructor(){super("twitter.com")}static credential(m,I){return mi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:F}=m;if(!I||!F)return null;try{return E.credential(I,F)}catch(z){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function $s(E,p){return as.apply(this,arguments)}function as(){return(as=(0,b.Z)(function*(E,p){return _r(E,"POST","/v1/accounts:signUp",zt(E,p))})).apply(this,arguments)}class Gn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,I,F=!1){return(0,b.Z)(function*(){const z=yield rn._fromIdTokenResponse(p,I,F),_e=_i(I);return new Gn({user:z,providerId:_e,_tokenResponse:I,operationType:m})})()}static _forOperation(p,m,I){return(0,b.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const F=_i(I);return new Gn({user:p,providerId:F,_tokenResponse:I,operationType:m})})()}}function _i(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function qo(E){return Es.apply(this,arguments)}function Es(){return(Es=(0,b.Z)(function*(E){var p;const m=Fn(E);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Gn({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield $s(m,{returnSecureToken:!0}),F=yield Gn._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(F.user),F})).apply(this,arguments)}class ji extends h.ZR{constructor(p,m,I,F){var z;super(m.code,m.message),this.operationType=I,this.user=F,Object.setPrototypeOf(this,ji.prototype),this.customData={appName:p.name,tenantId:null!==(z=p.tenantId)&&void 0!==z?z:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,m,I,F){return new ji(p,m,I,F)}}function zo(E,p,m,I){return("reauthenticate"===p?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?ji._fromErrorAndOperation(E,z,p,I):z})}function Wo(E){return new Set(E.map(({providerId:p})=>p).filter(p=>!!p))}function Hi(E,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,b.Z)(function*(E,p){const m=(0,h.m9)(E);yield O(!0,m,p);const{providerUserInfo:I}=yield Zr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),F=Wo(I||[]);return m.providerData=m.providerData.filter(z=>F.has(z.providerId)),F.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Zo(E,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,b.Z)(function*(E,p,m=!1){const I=yield yt(E,p._linkToIdToken(E.auth,yield E.getIdToken()),m);return Gn._forOperation(E,"link",I)})).apply(this,arguments)}function O(E,p,m){return U.apply(this,arguments)}function U(){return(U=(0,b.Z)(function*(E,p,m){yield nr(p);const F=!1===E?"provider-already-linked":"no-such-provider";ve(Wo(p.providerData).has(m)===E,p.auth,F)})).apply(this,arguments)}function x(E,p){return $.apply(this,arguments)}function $(){return($=(0,b.Z)(function*(E,p,m=!1){const{auth:I}=E,F="reauthenticate";try{const z=yield yt(E,zo(I,F,p,E),m);ve(z.idToken,I,"internal-error");const _e=dt(z.idToken);ve(_e,I,"internal-error");const{sub:Ze}=_e;return ve(E.uid===Ze,I,"user-mismatch"),Gn._forOperation(E,F,z)}catch(z){throw"auth/user-not-found"===(null==z?void 0:z.code)&&rt(I,"user-mismatch"),z}})).apply(this,arguments)}function ne(E,p){return De.apply(this,arguments)}function De(){return(De=(0,b.Z)(function*(E,p,m=!1){const I="signIn",F=yield zo(E,I,p),z=yield Gn._fromIdTokenResponse(E,I,F);return m||(yield E._updateCurrentUser(z.user)),z})).apply(this,arguments)}function He(E,p){return at.apply(this,arguments)}function at(){return(at=(0,b.Z)(function*(E,p){return ne(Fn(E),p)})).apply(this,arguments)}function Rn(E,p){return In.apply(this,arguments)}function In(){return(In=(0,b.Z)(function*(E,p){const m=(0,h.m9)(E);return yield O(!1,m,p.providerId),Zo(m,p)})).apply(this,arguments)}function en(E,p){return tn.apply(this,arguments)}function tn(){return(tn=(0,b.Z)(function*(E,p){return x((0,h.m9)(E),p)})).apply(this,arguments)}function Qn(E,p){return wn.apply(this,arguments)}function wn(){return(wn=(0,b.Z)(function*(E,p){return _r(E,"POST","/v1/accounts:signInWithCustomToken",zt(E,p))})).apply(this,arguments)}function Pn(E,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,b.Z)(function*(E,p){const m=Fn(E),I=yield Qn(m,{token:p,returnSecureToken:!0}),F=yield Gn._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(F.user),F})).apply(this,arguments)}class xr{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Lt._fromServerResponse(p,m):rt(p,"internal-error")}}class Lt extends xr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Lt(m)}}function $i(E,p,m){var I;ve((null===(I=m.url)||void 0===I?void 0:I.length)>0,E,"invalid-continue-uri"),ve(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ve(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ve(m.android.packageName.length>0,E,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ea(E,p,m){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,b.Z)(function*(E,p,m){const I=(0,h.m9)(E),F={requestType:"PASSWORD_RESET",email:p};m&&$i(I,F,m),yield Vn(I,F)})).apply(this,arguments)}function Ko(E,p,m){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,b.Z)(function*(E,p,m){yield bn((0,h.m9)(E),{oobCode:p,newPassword:m})})).apply(this,arguments)}function sc(E,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,b.Z)(function*(E,p){yield Eo((0,h.m9)(E),{oobCode:p})})).apply(this,arguments)}function ze(E,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,b.Z)(function*(E,p){const m=(0,h.m9)(E),I=yield bn(m,{oobCode:p}),F=I.requestType;switch(ve(F,m,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(I.mfaInfo,m,"internal-error");default:ve(I.email,m,"internal-error")}let z=null;return I.mfaInfo&&(z=xr._fromServerResponse(Fn(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:z},operation:F}})).apply(this,arguments)}function Ka(E,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,b.Z)(function*(E,p){const{data:m}=yield ze((0,h.m9)(E),p);return m.email})).apply(this,arguments)}function Ya(E,p,m){return qi.apply(this,arguments)}function qi(){return(qi=(0,b.Z)(function*(E,p,m){const I=Fn(E),F=yield $s(I,{returnSecureToken:!0,email:p,password:m}),z=yield Gn._fromIdTokenResponse(I,"signIn",F);return yield I._updateCurrentUser(z.user),z})).apply(this,arguments)}function Ts(E,p,m){return He((0,h.m9)(E),ro.credential(p,m))}function So(E,p,m){return us.apply(this,arguments)}function us(){return(us=(0,b.Z)(function*(E,p,m){const I=(0,h.m9)(E),F={requestType:"EMAIL_SIGNIN",email:p};ve(m.handleCodeInApp,I,"argument-error"),m&&$i(I,F,m),yield ys(I,F)})).apply(this,arguments)}function oc(E,p){const m=xi.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function ac(E,p,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,b.Z)(function*(E,p,m){const I=(0,h.m9)(E),F=ro.credentialWithLink(p,m||Ce());return ve(F._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),He(I,F)})).apply(this,arguments)}function Ca(E,p){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,b.Z)(function*(E,p){return Yt(E,"POST","/v1/accounts:createAuthUri",zt(E,p))})).apply(this,arguments)}function Is(E,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,b.Z)(function*(E,p){const I={identifier:p,continueUri:Bt()?Ce():"http://localhost"},{signinMethods:F}=yield Ca((0,h.m9)(E),I);return F||[]})).apply(this,arguments)}function Yo(E,p){return vi.apply(this,arguments)}function vi(){return(vi=(0,b.Z)(function*(E,p){const m=(0,h.m9)(E),F={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};p&&$i(m.auth,F,p);const{email:z}=yield ai(m.auth,F);z!==E.email&&(yield E.reload())})).apply(this,arguments)}function Qo(E,p,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,b.Z)(function*(E,p,m){const I=(0,h.m9)(E),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:p};m&&$i(I.auth,z,m);const{email:_e}=yield Ui(I.auth,z);_e!==E.email&&(yield E.reload())})).apply(this,arguments)}function ol(E,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,b.Z)(function*(E,p){return Yt(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Eu(E,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,b.Z)(function*(E,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const I=(0,h.m9)(E),z={idToken:yield I.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},_e=yield yt(I,ol(I.auth,z));I.displayName=_e.displayName||null,I.photoURL=_e.photoUrl||null;const Ze=I.providerData.find(({providerId:Rt})=>"password"===Rt);Ze&&(Ze.displayName=I.displayName,Ze.photoURL=I.photoURL),yield I._updateTokensIfNecessary(_e)})).apply(this,arguments)}function Qa(E,p){return ta((0,h.m9)(E),p,null)}function al(E,p){return ta((0,h.m9)(E),null,p)}function ta(E,p,m){return na.apply(this,arguments)}function na(){return(na=(0,b.Z)(function*(E,p,m){const{auth:I}=E,z={idToken:yield E.getIdToken(),returnSecureToken:!0};p&&(z.email=p),m&&(z.password=m);const _e=yield yt(E,eo(I,z));yield E._updateTokensIfNecessary(_e,!0)})).apply(this,arguments)}class Gs{constructor(p,m,I={}){this.isNewUser=p,this.providerId=m,this.profile=I}}class bu extends Gs{constructor(p,m,I,F){super(p,m,I),this.username=F}}class Cu extends Gs{constructor(p,m){super(p,"facebook.com",m)}}class Tu extends bu{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class io extends Gs{constructor(p,m){super(p,"google.com",m)}}class ul extends bu{constructor(p,m,I){super(p,"twitter.com",m,I)}}function Ta(E){const{user:p,_tokenResponse:m}=E;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function xo(E){var p,m;if(!E)return null;const{providerId:I}=E,F=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},z=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!I&&(null==E?void 0:E.idToken)){const _e=null===(m=null===(p=dt(E.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(_e)return new Gs(z,"anonymous"!==_e&&"custom"!==_e?_e:null)}if(!I)return null;switch(I){case"facebook.com":return new Cu(z,F);case"github.com":return new Tu(z,F);case"google.com":return new io(z,F);case"twitter.com":return new ul(z,F,E.screenName||null);case"custom":case"anonymous":return new Gs(z,null);default:return new Gs(z,I,F)}}(m)}function dr(E,p,m,I){return(0,h.m9)(E).onAuthStateChanged(p,m,I)}class qs{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new qs("enroll",p)}static _fromMfaPendingCredential(p){return new qs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,I;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return qs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(I=p.multiFactorSession)||void 0===I?void 0:I.idToken)return qs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ra{constructor(p,m,I){this.session=p,this.hints=m,this.signInResolver=I}static _fromError(p,m){const I=Fn(p),F=m.customData._serverResponse,z=(F.mfaInfo||[]).map(Ze=>xr._fromServerResponse(I,Ze));ve(F.mfaPendingCredential,I,"internal-error");const _e=qs._fromMfaPendingCredential(F.mfaPendingCredential);return new ra(_e,z,function(){var Ze=(0,b.Z)(function*(Rt){const qt=yield Rt._process(I,_e);delete F.mfaInfo,delete F.mfaPendingCredential;const En=Object.assign(Object.assign({},F),{idToken:qt.idToken,refreshToken:qt.refreshToken});switch(m.operationType){case"signIn":const Pr=yield Gn._fromIdTokenResponse(I,m.operationType,En);return yield I._updateCurrentUser(Pr.user),Pr;case"reauthenticate":return ve(m.user,I,"internal-error"),Gn._forOperation(m.user,m.operationType,En);default:rt(I,"internal-error")}});return function(Rt){return Ze.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,b.Z)(function*(){return m.signInResolver(p)})()}}function Ia(E,p){var m;const I=(0,h.m9)(E),F=p;return ve(p.customData.operationType,I,"argument-error"),ve(null===(m=F.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),ra._fromError(I,F)}function ia(E,p){return Yt(E,"POST","/v2/accounts/mfaEnrollment:start",zt(E,p))}class Da{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>xr._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new Da(p)}getSession(){var p=this;return(0,b.Z)(function*(){return qs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var I=this;return(0,b.Z)(function*(){const F=p,z=yield I.getSession(),_e=yield yt(I.user,F._process(I.user.auth,z,m));return yield I.user._updateTokensIfNecessary(_e),I.user.reload()})()}unenroll(p){var m=this;return(0,b.Z)(function*(){const I="string"==typeof p?p:p.uid,F=yield m.user.getIdToken(),z=yield yt(m.user,function ci(E,p){return Yt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(E,p))}(m.user.auth,{idToken:F,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:_e})=>_e!==I),yield m.user._updateTokensIfNecessary(z);try{yield m.user.reload()}catch(_e){if("auth/user-token-expired"!==_e.code)throw _e}})()}}const ls=new WeakMap;function oo(E){const p=(0,h.m9)(E);return ls.has(p)||ls.set(p,Da._fromUser(p)),ls.get(p)}const zs="__sak";class ao{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(zs,"1"),this.storage.removeItem(zs),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mu=(()=>{class E extends ao{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Oi(){const E=(0,h.z$)();return K(E)||Gt(E)}()&&function ir(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=pr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const F=this.storage.getItem(I),z=this.localCache[I];F!==z&&m(I,z,F)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((Ze,Rt,qt)=>{this.notifyListeners(Ze,qt)});const F=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ze=this.storage.getItem(F);if(m.newValue!==Ze)null!==m.newValue?this.storage.setItem(F,m.newValue):this.storage.removeItem(F);else if(this.localCache[F]===m.newValue&&!I)return}const z=()=>{const Ze=this.storage.getItem(F);!I&&this.localCache[F]===Ze||this.notifyListeners(F,Ze)},_e=this.storage.getItem(F);!function Ft(){return(0,h.w1)()&&10===document.documentMode}()||_e===m.newValue||m.newValue===m.oldValue?z():setTimeout(z,10)}notifyListeners(m,I){this.localCache[m]=I;const F=this.listeners[m];if(F)for(const z of Array.from(F))z(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var F=()=>super._set,z=this;return(0,b.Z)(function*(){yield F().call(z,m,I),z.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,F=this;return(0,b.Z)(function*(){const z=yield I().call(F,m);return F.localCache[m]=JSON.stringify(z),z})()}_remove(m){var I=()=>super._remove,F=this;return(0,b.Z)(function*(){yield I().call(F,m),delete F.localCache[m]})()}}return E.type="LOCAL",E})(),uo=(()=>{class E extends ao{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return E.type="SESSION",E})();let Ds=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(z=>z.isListeningto(m));if(I)return I;const F=new E(m);return this.receivers.push(F),F}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,b.Z)(function*(){const F=m,{eventId:z,eventType:_e,data:Ze}=F.data,Rt=I.handlersMap[_e];if(!(null==Rt?void 0:Rt.size))return;F.ports[0].postMessage({status:"ack",eventId:z,eventType:_e});const qt=Array.from(Rt).map(function(){var Pr=(0,b.Z)(function*(xa){return xa(F.origin,Ze)});return function(xa){return Pr.apply(this,arguments)}}()),En=yield function xu(E){return Promise.all(E.map(function(){var p=(0,b.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return p.apply(this,arguments)}}()))}(qt);F.ports[0].postMessage({status:"done",eventId:z,eventType:_e,response:En})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function As(E="",p=10){let m="";for(let I=0;I<p;I++)m+=Math.floor(10*Math.random());return E+m}class Ou{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,I=50){var F=this;return(0,b.Z)(function*(){const z="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let _e,Ze;return new Promise((Rt,qt)=>{const En=As("",20);z.port1.start();const Pr=setTimeout(()=>{qt(new Error("unsupported_event"))},I);Ze={messageChannel:z,onMessage(xa){const El=xa;if(El.data.eventId===En)switch(El.data.status){case"ack":clearTimeout(Pr),_e=setTimeout(()=>{qt(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),Rt(El.data.response);break;default:clearTimeout(Pr),clearTimeout(_e),qt(new Error("invalid_response"))}}},F.handlers.add(Ze),z.port1.addEventListener("message",Ze.onMessage),F.target.postMessage({eventType:p,eventId:En,data:m},[z.port2])}).finally(()=>{Ze&&F.removeMessageHandler(Ze)})})()}}function Er(){return window}function Ru(){return void 0!==Er().WorkerGlobalScope&&"function"==typeof Er().importScripts}function sa(){return(sa=(0,b.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const cl="firebaseLocalStorageDb",oa="firebaseLocalStorage",Xa="fbase_key";class co{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ho(E,p){return E.transaction([oa],p?"readwrite":"readonly").objectStore(oa)}function Wi(){const E=indexedDB.open(cl,1);return new Promise((p,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const I=E.result;try{I.createObjectStore(oa,{keyPath:Xa})}catch(F){m(F)}}),E.addEventListener("success",(0,b.Z)(function*(){const I=E.result;I.objectStoreNames.contains(oa)?p(I):(I.close(),yield function dl(){const E=indexedDB.deleteDatabase(cl);return new co(E).toPromise()}(),p(yield Wi()))}))})}function T(E,p,m){return w.apply(this,arguments)}function w(){return(w=(0,b.Z)(function*(E,p,m){const I=ho(E,!0).put({[Xa]:p,value:m});return new co(I).toPromise()})).apply(this,arguments)}function M(){return(M=(0,b.Z)(function*(E,p){const m=ho(E,!1).get(p),I=yield new co(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function P(E,p){const m=ho(E,!0).delete(p);return new co(m).toPromise()}const Oe=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,b.Z)(function*(){return m.db||(m.db=yield Wi()),m.db})()}_withRetries(m){var I=this;return(0,b.Z)(function*(){let F=0;for(;;)try{const z=yield I._openDb();return yield m(z)}catch(z){if(F++>3)throw z;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,b.Z)(function*(){return Ru()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,b.Z)(function*(){m.receiver=Ds._getInstance(function Th(){return Ru()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,b.Z)(function*(F,z){return{keyProcessed:(yield m._poll()).includes(z.key)}});return function(F,z){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,b.Z)(function*(F,z){return["keyChanged"]});return function(F,z){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,b.Z)(function*(){var I,F;if(m.activeServiceWorker=yield function Zs(){return sa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ou(m.activeServiceWorker);const z=yield m.sender._send("ping",{},800);!z||(null===(I=z[0])||void 0===I?void 0:I.fulfilled)&&(null===(F=z[0])||void 0===F?void 0:F.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,b.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function lo(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch(F){}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Wi();return yield T(m,zs,"1"),yield P(m,zs),!0}catch(m){}return!1})()}_withPendingWrite(m){var I=this;return(0,b.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var F=this;return(0,b.Z)(function*(){return F._withPendingWrite((0,b.Z)(function*(){return yield F._withRetries(z=>T(z,m,I)),F.localCache[m]=I,F.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,b.Z)(function*(){const F=yield I._withRetries(z=>function _(E,p){return M.apply(this,arguments)}(z,m));return I.localCache[m]=F,F})()}_remove(m){var I=this;return(0,b.Z)(function*(){return I._withPendingWrite((0,b.Z)(function*(){return yield I._withRetries(F=>P(F,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,b.Z)(function*(){const I=yield m._withRetries(_e=>{const Ze=ho(_e,!1).getAll();return new co(Ze).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const F=[],z=new Set;for(const{fbase_key:_e,value:Ze}of I)z.add(_e),JSON.stringify(m.localCache[_e])!==JSON.stringify(Ze)&&(m.notifyListeners(_e,Ze),F.push(_e));for(const _e of Object.keys(m.localCache))m.localCache[_e]&&!z.has(_e)&&(m.notifyListeners(_e,null),F.push(_e));return F})()}notifyListeners(m,I){this.localCache[m]=I;const F=this.listeners[m];if(F)for(const z of Array.from(F))z(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function _t(E,p){return Yt(E,"POST","/v2/accounts/mfaSignIn:start",zt(E,p))}function gn(){return(gn=(0,b.Z)(function*(E){return(yield Yt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zi(E){return new Promise((p,m)=>{const I=document.createElement("script");I.setAttribute("src",E),I.onload=p,I.onerror=F=>{const z=Ge("internal-error");z.customData=F,m(z)},I.type="text/javascript",I.charset="UTF-8",function Cn(){var E,p;return null!==(p=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==p?p:document}().appendChild(I)})}function Ki(E){return`__${E}${Math.floor(1e6*Math.random())}`}const wi=1e12;class fo{constructor(p){this.auth=p,this.counter=wi,this._widgets=new Map}render(p,m){const I=this.counter;return this._widgets.set(I,new Pu(p,this.auth.name,m||{})),this.counter++,I}reset(p){var m;const I=p||wi;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(p){var m;return(null===(m=this._widgets.get(p||wi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,b.Z)(function*(){var I;return null===(I=m._widgets.get(p||wi))||void 0===I||I.execute(),""})()}}class Pu{constructor(p,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof p?document.getElementById(p):p;ve(F,"argument-error",{appName:m}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function br(E){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<E;I++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const po=Ki("rcb"),hl=new St(3e4,6e4);class Rr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Er().grecaptcha}load(p,m=""){return ve(function vd(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Er().grecaptcha):new Promise((I,F)=>{const z=Er().setTimeout(()=>{F(Ge(p,"network-request-failed"))},hl.get());Er()[po]=()=>{Er().clearTimeout(z),delete Er()[po];const Ze=Er().grecaptcha;if(!Ze)return void F(Ge(p,"internal-error"));const Rt=Ze.render;Ze.render=(qt,En)=>{const Pr=Rt(qt,En);return this.counter++,Pr},this.hostLanguage=m,I(Ze)},Zi(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:po,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(z),F(Ge(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Er().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wm{load(p){return(0,b.Z)(function*(){return new fo(p)})()}clearedOneInstance(){}}const wd="recaptcha",Ed={theme:"light",type:"image"};class Ih{constructor(p,m=Object.assign({},Ed),I){this.parameters=m,this.type=wd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(I),this.isInvisible="invisible"===this.parameters.size,ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof p?document.getElementById(p):p;ve(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wm:new Rr,this.validateStartingState()}verify(){var p=this;return(0,b.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(m)||new Promise(z=>{const _e=Ze=>{!Ze||(p.tokenChangeListeners.delete(_e),z(Ze))};p.tokenChangeListeners.add(_e),p.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof p)p(m);else if("string"==typeof p){const I=Er()[p];"function"==typeof I&&I(m)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,b.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,b.Z)(function*(){ve(Bt()&&!Ru(),p.auth,"internal-error"),yield function Zm(){let E=null;return new Promise(p=>{"complete"!==document.readyState?(E=()=>p(),window.addEventListener("load",E)):p()}).catch(p=>{throw E&&window.removeEventListener("load",E),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Tt(E){return gn.apply(this,arguments)}(p.auth);ve(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dh{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=no._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function fl(E,p,m){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,b.Z)(function*(E,p,m){const I=Fn(E),F=yield gl(I,p,(0,h.m9)(m));return new Dh(F,z=>He(I,z))})).apply(this,arguments)}function Xr(E,p,m){return pl.apply(this,arguments)}function pl(){return(pl=(0,b.Z)(function*(E,p,m){const I=(0,h.m9)(E);yield O(!1,I,"phone");const F=yield gl(I.auth,p,(0,h.m9)(m));return new Dh(F,z=>Rn(I,z))})).apply(this,arguments)}function dc(E,p,m){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,b.Z)(function*(E,p,m){const I=(0,h.m9)(E),F=yield gl(I.auth,p,(0,h.m9)(m));return new Dh(F,z=>en(I,z))})).apply(this,arguments)}function gl(E,p,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,b.Z)(function*(E,p,m){var I;const F=yield m.verify();try{let z;if(ve("string"==typeof F,E,"argument-error"),ve(m.type===wd,E,"argument-error"),z="string"==typeof p?{phoneNumber:p}:p,"session"in z){const _e=z.session;if("phoneNumber"in z)return ve("enroll"===_e.type,E,"internal-error"),(yield ia(E,{idToken:_e.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{ve("signin"===_e.type,E,"internal-error");const Ze=(null===(I=z.multiFactorHint)||void 0===I?void 0:I.uid)||z.multiFactorUid;return ve(Ze,E,"missing-multi-factor-info"),(yield _t(E,{mfaPendingCredential:_e.credential,mfaEnrollmentId:Ze,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_e}=yield _u(E,{phoneNumber:z.phoneNumber,recaptchaToken:F});return _e}}finally{m._reset()}})).apply(this,arguments)}function Ks(E,p){return eu.apply(this,arguments)}function eu(){return(eu=(0,b.Z)(function*(E,p){yield Zo((0,h.m9)(E),p)})).apply(this,arguments)}let ua=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=Fn(m)}verifyPhoneNumber(m,I){return gl(this.auth,m,(0,h.m9)(I))}static credential(m,I){return no._fromVerification(m,I)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:F}=m;return I&&F?no._fromTokenResponse(I,F):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Yi(E,p){return p?Ie(p):(ve(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class tu extends Mn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ss(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ss(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ss(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Nu(E){return ne(E.auth,new tu(E),E.bypassAuthState)}function hc(E){const{auth:p,user:m}=E;return ve(m,p,"internal-error"),x(m,new tu(E),E.bypassAuthState)}function Mh(E){return fc.apply(this,arguments)}function fc(){return(fc=(0,b.Z)(function*(E){const{auth:p,user:m}=E;return ve(m,p,"internal-error"),Zo(m,new tu(E),E.bypassAuthState)})).apply(this,arguments)}class bd{constructor(p,m,I,F,z=!1){this.auth=p,this.resolver=I,this.user=F,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,b.Z)(function*(I,F){p.pendingPromise={resolve:I,reject:F};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(z){p.reject(z)}});return function(I,F){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,b.Z)(function*(){const{urlResponse:I,sessionId:F,postBody:z,tenantId:_e,error:Ze,type:Rt}=p;if(Ze)return void m.reject(Ze);const qt={auth:m.auth,requestUri:I,sessionId:F,tenantId:_e||void 0,postBody:z||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Rt)(qt))}catch(En){m.reject(En)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Nu;case"linkViaPopup":case"linkViaRedirect":return Mh;case"reauthViaPopup":case"reauthViaRedirect":return hc;default:rt(this.auth,"internal-error")}}resolve(p){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ms=new St(2e3,1e4);function xh(E,p,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,b.Z)(function*(E,p,m){const I=Fn(E);Fe(E,p,ws);const F=Yi(I,m);return new ml(I,"signInViaPopup",p,F).executeNotNull()})).apply(this,arguments)}function Oh(E,p,m){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,b.Z)(function*(E,p,m){const I=(0,h.m9)(E);Fe(I.auth,p,ws);const F=Yi(I.auth,m);return new ml(I.auth,"reauthViaPopup",p,F,I).executeNotNull()})).apply(this,arguments)}function go(E,p,m){return pc.apply(this,arguments)}function pc(){return(pc=(0,b.Z)(function*(E,p,m){const I=(0,h.m9)(E);Fe(I.auth,p,ws);const F=Yi(I.auth,m);return new ml(I.auth,"linkViaPopup",p,F,I).executeNotNull()})).apply(this,arguments)}let ml=(()=>{class E extends bd{constructor(m,I,F,z,_e){super(m,I,z,_e),this.provider=F,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,b.Z)(function*(){const I=yield m.execute();return ve(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,b.Z)(function*(){he(1===m.filter.length,"Popup operations only handle one event");const I=As();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(F=>{m.reject(F)}),m.resolver._isIframeWebStorageSupported(m.auth,F=>{F||m.reject(Ge(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,F;this.pollId=(null===(F=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===F?void 0:F.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ms.get())};m()}}return E.currentPopupAction=null,E})();const ku=new Map;class xs extends bd{constructor(p,m,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,b.Z)(function*(){let I=ku.get(m.auth._key());if(!I){try{const z=(yield function Fu(E,p){return yl.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;I=()=>Promise.resolve(z)}catch(F){I=()=>Promise.reject(F)}ku.set(m.auth._key(),I)}return m.bypassAuthState||ku.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,I=this;return(0,b.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(I,p);if("unknown"!==p.type){if(p.eventId){const F=yield I.auth._redirectUserForId(p.eventId);if(F)return I.user=F,m().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function yl(){return(yl=(0,b.Z)(function*(E,p){const m=A(p),I=gc(E);if(!(yield I._isAvailable()))return!1;const F="true"===(yield I._get(m));return yield I._remove(m),F})).apply(this,arguments)}function _l(E,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,b.Z)(function*(E,p){return gc(E)._set(A(p),"true")})).apply(this,arguments)}function Cd(){ku.clear()}function gc(E){return Ie(E._redirectPersistence)}function A(E){return oe("pendingRedirect",E.config.apiKey,E.name)}function R(E,p,m){return function H(E,p,m){return Q.apply(this,arguments)}(E,p,m)}function Q(){return(Q=(0,b.Z)(function*(E,p,m){const I=Fn(E);Fe(E,p,ws);const F=Yi(I,m);return yield _l(F,I),F._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function ge(E,p,m){return function be(E,p,m){return Ye.apply(this,arguments)}(E,p,m)}function Ye(){return(Ye=(0,b.Z)(function*(E,p,m){const I=(0,h.m9)(E);Fe(I.auth,p,ws);const F=Yi(I.auth,m);yield _l(F,I.auth);const z=yield Lu(I);return F._openRedirect(I.auth,p,"reauthViaRedirect",z)})).apply(this,arguments)}function It(E,p,m){return function Ot(E,p,m){return Zt.apply(this,arguments)}(E,p,m)}function Zt(){return(Zt=(0,b.Z)(function*(E,p,m){const I=(0,h.m9)(E);Fe(I.auth,p,ws);const F=Yi(I.auth,m);yield O(!1,I,p.providerId),yield _l(F,I.auth);const z=yield Lu(I);return F._openRedirect(I.auth,p,"linkViaRedirect",z)})).apply(this,arguments)}function Un(E,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,b.Z)(function*(E,p){return yield Fn(E)._initializationPromise,ei(E,p,!1)})).apply(this,arguments)}function ei(E,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,b.Z)(function*(E,p,m=!1){const I=Fn(E),F=Yi(I,p),_e=yield new xs(I,F,m).execute();return _e&&!m&&(delete _e.user._redirectEventId,yield I._persistUserIfCurrent(_e.user),yield I._setRedirectUser(null,p)),_e})).apply(this,arguments)}function Lu(E){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,b.Z)(function*(E){const p=As(`${E.uid}:::`);return E._redirectEventId=p,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),p})).apply(this,arguments)}class Os{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(m=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function w0(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sa(E);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var I;if(p.error&&!Sa(p)){const F=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(Ge(this.auth,F))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const I=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ca(p))}saveEventToCache(p){this.cachedEventUids.add(ca(p)),this.lastProcessedEventTime=Date.now()}}function ca(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(p=>p).join("-")}function Sa({type:E,error:p}){return"unknown"===E&&"auth/no-auth-event"===(null==p?void 0:p.code)}function qp(E){return mc.apply(this,arguments)}function mc(){return(mc=(0,b.Z)(function*(E,p={}){return Yt(E,"GET","/v1/projects",p)})).apply(this,arguments)}const Td=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yc=/^https?/;function Id(){return(Id=(0,b.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:p}=yield qp(E);for(const m of p)try{if(vl(m))return}catch(I){}rt(E,"unauthorized-domain")})).apply(this,arguments)}function vl(E){const p=Ce(),{protocol:m,hostname:I}=new URL(p);if(E.startsWith("chrome-extension://")){const _e=new URL(E);return""===_e.hostname&&""===I?"chrome-extension:"===m&&E.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&_e.hostname===I}if(!yc.test(m))return!1;if(Td.test(E))return I===E;const F=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(I)}const _c=new St(3e4,6e4);function Wp(){const E=Er().___jsl;if(null==E?void 0:E.H)for(const p of Object.keys(E.H))if(E.H[p].r=E.H[p].r||[],E.H[p].L=E.H[p].L||[],E.H[p].r=[...E.H[p].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let vc=null;function Km(E){return vc=vc||function E0(E){return new Promise((p,m)=>{var I,F,z;function _e(){Wp(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Wp(),m(Ge(E,"network-request-failed"))},timeout:_c.get()})}if(null===(F=null===(I=Er().gapi)||void 0===I?void 0:I.iframes)||void 0===F?void 0:F.Iframe)p(gapi.iframes.getContext());else{if(!(null===(z=Er().gapi)||void 0===z?void 0:z.load)){const Ze=Ki("iframefcb");return Er()[Ze]=()=>{gapi.load?_e():m(Ge(E,"network-request-failed"))},Zi(`https://apis.google.com/js/api.js?onload=${Ze}`).catch(Rt=>m(Rt))}_e()}}).catch(p=>{throw vc=null,p})}(E),vc}const Rh=new St(5e3,15e3),Jm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ph=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nh(E){const p=E.config;ve(p.authDomain,E,"auth-domain-config-required");const m=p.emulator?kn(p,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,I={apiKey:p.apiKey,appName:E.name,v:j.SDK_VERSION},F=Ph.get(E.config.apiHost);F&&(I.eid=F);const z=E._getFrameworks();return z.length&&(I.fw=z.join(",")),`${m}?${(0,h.xO)(I).slice(1)}`}function Zp(){return Zp=(0,b.Z)(function*(E){const p=yield Km(E),m=Er().gapi;return ve(m,E,"internal-error"),p.open({where:document.body,url:Nh(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jm,dontclear:!0},I=>new Promise(function(){var F=(0,b.Z)(function*(z,_e){yield I.restyle({setHideOnLeave:!1});const Ze=Ge(E,"network-request-failed"),Rt=Er().setTimeout(()=>{_e(Ze)},Rh.get());function qt(){Er().clearTimeout(Rt),z(I)}I.ping(qt).then(qt,()=>{_e(Ze)})});return function(z,_e){return F.apply(this,arguments)}}()))}),Zp.apply(this,arguments)}const kh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Lh(E,p,m,I,F,z){ve(E.config.authDomain,E,"auth-domain-config-required"),ve(E.config.apiKey,E,"invalid-api-key");const _e={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:I,v:j.SDK_VERSION,eventId:F};if(p instanceof ws){p.setDefaultLanguage(E.languageCode),_e.providerId=p.providerId||"",(0,h.xb)(p.getCustomParameters())||(_e.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Rt,qt]of Object.entries(z||{}))_e[Rt]=qt}if(p instanceof Io){const Rt=p.getScopes().filter(qt=>""!==qt);Rt.length>0&&(_e.scopes=Rt.join(","))}E.tenantId&&(_e.tid=E.tenantId);const Ze=_e;for(const Rt of Object.keys(Ze))void 0===Ze[Rt]&&delete Ze[Rt];return`${function ty({config:E}){return E.emulator?kn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,h.xO)(Ze).slice(1)}`}const Vh="webStorageSupport",wl=class Ma{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uo,this._completeRedirectFn=ei}_openPopup(p,m,I,F){var z=this;return(0,b.Z)(function*(){var _e;he(null===(_e=z.eventManagers[p._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const Ze=Lh(p,m,I,Ce(),F);return function Yp(E,p,m,I=500,F=600){const z=Math.max((window.screen.availHeight-F)/2,0).toString(),_e=Math.max((window.screen.availWidth-I)/2,0).toString();let Ze="";const Rt=Object.assign(Object.assign({},kh),{width:I.toString(),height:F.toString(),top:z,left:_e}),qt=(0,h.z$)().toLowerCase();m&&(Ze=Ee(qt)?"_blank":m),Z(qt)&&(p=p||"http://localhost",Rt.scrollbars="yes");const En=Object.entries(Rt).reduce((xa,[El,bl])=>`${xa}${El}=${bl},`,"");if(function fr(E=(0,h.z$)()){var p;return Gt(E)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(qt)&&"_self"!==Ze)return function Bu(E,p){const m=document.createElement("a");m.href=E,m.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(p||"",Ze),new Fh(null);const Pr=window.open(p||"",Ze,En);ve(Pr,E,"popup-blocked");try{Pr.focus()}catch(xa){}return new Fh(Pr)}(p,Ze,As())})()}_openRedirect(p,m,I,F){var z=this;return(0,b.Z)(function*(){return yield z._originValidation(p),function Ws(E){Er().location.href=E}(Lh(p,m,I,Ce(),F)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:F,promise:z}=this.eventManagers[m];return F?Promise.resolve(F):(he(z,"If manager is not set, promise should be"),z)}const I=this.initAndGetManager(p);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(p){var m=this;return(0,b.Z)(function*(){const I=yield function wc(E){return Zp.apply(this,arguments)}(p),F=new Os(p);return I.register("authEvent",z=>(ve(null==z?void 0:z.authEvent,p,"invalid-auth-event"),{status:F.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:F},m.iframes[p._key()]=I,F})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Vh,{type:Vh},F=>{var z;const _e=null===(z=null==F?void 0:F[0])||void 0===z?void 0:z[Vh];void 0!==_e&&m(!!_e),rt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function zp(E){return Id.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return pr()||K()||Gt()}};class Uh extends class Qp{constructor(p){this.factorId=p}_process(p,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,I);case"signin":return this._finalizeSignIn(p,m.credential);default:return mt("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Uh(p)}_finalizeEnroll(p,m,I){return function Or(E,p){return Yt(E,"POST","/v2/accounts/mfaEnrollment:finalize",zt(E,p))}(p,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function cn(E,p){return Yt(E,"POST","/v2/accounts/mfaSignIn:finalize",zt(E,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ny=(()=>{class E{constructor(){}static assertion(m){return Uh._fromCredential(m)}}return E.FACTOR_ID="phone",E})();var Jp="@firebase/auth",Xp="0.19.11";class ry{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,b.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(I=>{var F;p((null===(F=I)||void 0===F?void 0:F.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sy(E=(0,j.getApp)()){const p=(0,j._getProvider)(E,"auth");return p.isInitialized()?p.getImmediate():function xe(E,p){const m=(0,j._getProvider)(E,"auth");if(m.isInitialized()){const F=m.getImmediate(),z=m.getOptions();if((0,h.vZ)(z,null!=p?p:{}))return F;rt(F,"already-initialized")}return m.initialize({options:p})}(E,{popupRedirectResolver:wl,persistence:[Oe,Mu,uo]})}!function iy(E){(0,j._registerComponent)(new de.wA("auth",(p,{options:m})=>{const I=p.getProvider("app").getImmediate(),F=p.getProvider("heartbeat"),{apiKey:z,authDomain:_e}=I.options;return((Ze,Rt)=>{ve(z&&!z.includes(":"),"invalid-api-key",{appName:Ze.name}),ve(!(null==_e?void 0:_e.includes(":")),"argument-error",{appName:Ze.name});const qt={apiKey:z,authDomain:_e,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:On(E)},En=new Us(Ze,Rt,qt);return function Je(E,p){const m=(null==p?void 0:p.persistence)||[],I=(Array.isArray(m)?m:[m]).map(Ie);(null==p?void 0:p.errorMap)&&E._updateErrorMap(p.errorMap),E._initializeWithPersistence(I,null==p?void 0:p.popupRedirectResolver)}(En,m),En})(I,F)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,I)=>{p.getProvider("auth-internal").initialize()})),(0,j._registerComponent)(new de.wA("auth-internal",p=>{const m=Fn(p.getProvider("auth").getImmediate());return new ry(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)(Jp,Xp,function eg(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,j.registerVersion)(Jp,Xp,"esm2017")}("Browser")},2090:(vt,Ae,k)=>{k.d(Ae,{$s:()=>is,BH:()=>$e,G6:()=>mt,L:()=>we,LL:()=>Bt,Lj:()=>on,Mn:()=>je,Sg:()=>Ke,UG:()=>Le,US:()=>ye,X3:()=>Nt,ZB:()=>pe,ZR:()=>Ce,b$:()=>Ge,d:()=>qe,eu:()=>Te,hl:()=>he,jU:()=>gt,m9:()=>kt,ne:()=>Mt,pd:()=>Ar,r3:()=>Yt,ru:()=>rt,tV:()=>te,uI:()=>Me,vZ:()=>_r,w1:()=>Fe,xO:()=>si,xb:()=>jn,z$:()=>et,zI:()=>Ie,zd:()=>Dr});var b=k(5861);const ae=function(se){const J=[];let oe=0;for(let Se=0;Se<se.length;Se++){let q=se.charCodeAt(Se);q<128?J[oe++]=q:q<2048?(J[oe++]=q>>6|192,J[oe++]=63&q|128):55296==(64512&q)&&Se+1<se.length&&56320==(64512&se.charCodeAt(Se+1))?(q=65536+((1023&q)<<10)+(1023&se.charCodeAt(++Se)),J[oe++]=q>>18|240,J[oe++]=q>>12&63|128,J[oe++]=q>>6&63|128,J[oe++]=63&q|128):(J[oe++]=q>>12|224,J[oe++]=q>>6&63|128,J[oe++]=63&q|128)}return J},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,J){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let q=0;q<se.length;q+=3){const Z=se[q],K=q+1<se.length,Ee=K?se[q+1]:0,Ve=q+2<se.length,ot=Ve?se[q+2]:0;let Gt=(15&Ee)<<2|ot>>6,$n=63&ot;Ve||($n=64,K||(Gt=64)),Se.push(oe[Z>>2],oe[(3&Z)<<4|Ee>>4],oe[Gt],oe[$n])}return Se.join("")},encodeString(se,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(se):this.encodeByteArray(ae(se),J)},decodeString(se,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(se):function(se){const J=[];let oe=0,Se=0;for(;oe<se.length;){const q=se[oe++];if(q<128)J[Se++]=String.fromCharCode(q);else if(q>191&&q<224){const Z=se[oe++];J[Se++]=String.fromCharCode((31&q)<<6|63&Z)}else if(q>239&&q<365){const Ve=((7&q)<<18|(63&se[oe++])<<12|(63&se[oe++])<<6|63&se[oe++])-65536;J[Se++]=String.fromCharCode(55296+(Ve>>10)),J[Se++]=String.fromCharCode(56320+(1023&Ve))}else{const Z=se[oe++],K=se[oe++];J[Se++]=String.fromCharCode((15&q)<<12|(63&Z)<<6|63&K)}}return J.join("")}(this.decodeStringToByteArray(se,J))},decodeStringToByteArray(se,J){this.init_();const oe=J?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let q=0;q<se.length;){const Z=oe[se.charAt(q++)],Ee=q<se.length?oe[se.charAt(q)]:0;++q;const ot=q<se.length?oe[se.charAt(q)]:64;++q;const lt=q<se.length?oe[se.charAt(q)]:64;if(++q,null==Z||null==Ee||null==ot||null==lt)throw Error();Se.push(Z<<2|Ee>>4),64!==ot&&(Se.push(Ee<<4&240|ot>>2),64!==lt&&Se.push(ot<<6&192|lt))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},we=function(se){return function(se){const J=ae(se);return ye.encodeByteArray(J,!0)}(se).replace(/\./g,"")},te=function(se){try{return ye.decodeString(se,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function pe(se,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return J}for(const oe in J)!J.hasOwnProperty(oe)||!tt(oe)||(se[oe]=pe(se[oe],J[oe]));return se}function tt(se){return"__proto__"!==se}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,oe)=>{this.resolve=J,this.reject=oe})}wrapCallback(J){return(oe,Se)=>{oe?this.reject(oe):this.resolve(Se),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(oe):J(oe,Se))}}}function Ke(se,J){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=J||"demo-project",q=se.iat||0,Z=se.sub||se.user_id;if(!Z)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const K=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:q,exp:q+3600,auth_time:q,sub:Z,user_id:Z,firebase:{sign_in_provider:"custom",identities:{}}},se);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(K)),""].join(".")}function et(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function Le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(se){return!1}}function gt(){return"object"==typeof self&&self.self===self}function rt(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){return et().indexOf("Electron/")>=0}function Fe(){const se=et();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function je(){return et().indexOf("MSAppHost/")>=0}function mt(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"object"==typeof indexedDB}function Te(){return new Promise((se,J)=>{try{let oe=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Se);q.onsuccess=()=>{q.result.close(),oe||self.indexedDB.deleteDatabase(Se),se(!0)},q.onupgradeneeded=()=>{oe=!1},q.onerror=()=>{var Z;J((null===(Z=q.error)||void 0===Z?void 0:Z.message)||"")}}catch(oe){J(oe)}})}function Ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ce extends Error{constructor(J,oe,Se){super(oe),this.code=J,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}}class Bt{constructor(J,oe,Se){this.service=J,this.serviceName=oe,this.errors=Se}create(J,...oe){const Se=oe[0]||{},q=`${this.service}/${J}`,Z=this.errors[J],K=Z?function Tn(se,J){return se.replace(Kt,(oe,Se)=>{const q=J[Se];return null!=q?String(q):`<${Se}?>`})}(Z,Se):"Error";return new Ce(q,`${this.serviceName}: ${K} (${q}).`,Se)}}const Kt=/\{\$([^}]+)}/g;function Yt(se,J){return Object.prototype.hasOwnProperty.call(se,J)}function jn(se){for(const J in se)if(Object.prototype.hasOwnProperty.call(se,J))return!1;return!0}function _r(se,J){if(se===J)return!0;const oe=Object.keys(se),Se=Object.keys(J);for(const q of oe){if(!Se.includes(q))return!1;const Z=se[q],K=J[q];if(Wr(Z)&&Wr(K)){if(!_r(Z,K))return!1}else if(Z!==K)return!1}for(const q of Se)if(!oe.includes(q))return!1;return!0}function Wr(se){return null!==se&&"object"==typeof se}function si(se){const J=[];for(const[oe,Se]of Object.entries(se))Array.isArray(Se)?Se.forEach(q=>{J.push(encodeURIComponent(oe)+"="+encodeURIComponent(q))}):J.push(encodeURIComponent(oe)+"="+encodeURIComponent(Se));return J.length?"&"+J.join("&"):""}function Dr(se){const J={};return se.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[q,Z]=Se.split("=");J[decodeURIComponent(q)]=decodeURIComponent(Z)}}),J}function Ar(se){const J=se.indexOf("?");if(!J)return"";const oe=se.indexOf("#",J);return se.substring(J,oe>0?oe:void 0)}function Mt(se,J){const oe=new Zr(se,J);return oe.subscribe.bind(oe)}class Zr{constructor(J,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{J(this)}).catch(Se=>{this.error(Se)})}next(J){this.forEachObserver(oe=>{oe.next(J)})}error(J){this.forEachObserver(oe=>{oe.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,oe,Se){let q;if(void 0===J&&void 0===oe&&void 0===Se)throw new Error("Missing Observer.");q=function Dn(se,J){if("object"!=typeof se||null===se)return!1;for(const oe of J)if(oe in se&&"function"==typeof se[oe])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:oe,complete:Se},void 0===q.next&&(q.next=er),void 0===q.error&&(q.error=er),void 0===q.complete&&(q.complete=er);const Z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(K){}}),this.observers.push(q),Z}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,J)}sendOne(J,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{oe(this.observers[J])}catch(Se){"undefined"!=typeof console&&console.error&&console.error(Se)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function er(){}function is(se,J=1e3,oe=2){const Se=J*Math.pow(oe,se),q=Math.round(.5*Se*(Math.random()-.5)*2);return Math.min(144e5,Se+q)}function kt(se){return se&&se._delegate?se._delegate:se}function rr(se,J){return new Promise((oe,Se)=>{se.onsuccess=q=>{oe(q.target.result)},se.onerror=q=>{var Z;Se(`${J}: ${null===(Z=q.target.error)||void 0===Z?void 0:Z.message}`)}})}class fn{constructor(J){this._db=J,this.objectStoreNames=this._db.objectStoreNames}transaction(J,oe){return new ht(this._db.transaction.call(this._db,J,oe))}createObjectStore(J,oe){return new Pe(this._db.createObjectStore(J,oe))}close(){this._db.close()}}class ht{constructor(J){this._transaction=J,this.complete=new Promise((oe,Se)=>{this._transaction.oncomplete=function(){oe()},this._transaction.onerror=()=>{Se(this._transaction.error)},this._transaction.onabort=()=>{Se(this._transaction.error)}})}objectStore(J){return new Pe(this._transaction.objectStore(J))}}class Pe{constructor(J){this._store=J}index(J){return new ut(this._store.index(J))}createIndex(J,oe,Se){return new ut(this._store.createIndex(J,oe,Se))}get(J){return rr(this._store.get(J),"Error reading from IndexedDB")}put(J,oe){return rr(this._store.put(J,oe),"Error writing to IndexedDB")}delete(J){return rr(this._store.delete(J),"Error deleting from IndexedDB")}clear(){return rr(this._store.clear(),"Error clearing IndexedDB object store")}}class ut{constructor(J){this._index=J}get(J){return rr(this._index.get(J),"Error reading from IndexedDB")}}function Nt(se,J,oe){return new Promise((Se,q)=>{try{const Z=indexedDB.open(se,J);Z.onsuccess=K=>{Se(new fn(K.target.result))},Z.onerror=K=>{var Ee;q(`Error opening indexedDB: ${null===(Ee=K.target.error)||void 0===Ee?void 0:Ee.message}`)},Z.onupgradeneeded=K=>{oe(new fn(Z.result),K.oldVersion,K.newVersion,new ht(Z.transaction))}}catch(Z){q(`Error opening indexedDB: ${Z.message}`)}})}function on(se){return rn.apply(this,arguments)}function rn(){return(rn=(0,b.Z)(function*(se){return new Promise((J,oe)=>{try{const Se=indexedDB.deleteDatabase(se);Se.onsuccess=()=>{J()},Se.onerror=q=>{var Z;oe(`Error deleting indexedDB database "${se}": ${null===(Z=q.target.error)||void 0===Z?void 0:Z.message}`)}}catch(Se){oe(`Error deleting indexedDB database "${se}": ${Se.message}`)}})})).apply(this,arguments)}},8263:(vt,Ae,k)=>{k.d(Ae,{O:()=>j});var b=k(5e3),h=k(3809);let j=(()=>{class ce{constructor(de){this.router=de}ngOnInit(){}navigateUrl(de){this.router.navigate([de])}}return ce.\u0275fac=function(de){return new(de||ce)(b.Y36(h.F0))},ce.\u0275cmp=b.Xpm({type:ce,selectors:[["app-home"]],decls:55,vars:0,consts:[[1,"py-5","text-center","container"],[1,"row","py-lg-5"],[1,"col-lg-6","col-md-8","mx-auto"],[1,"fw-light","text-white","align-items-center"],["routerLink","/about"],[1,"album","py-5"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],[1,"col"],[1,"card","shadow-sm"],["src","../../../assets/gameIcons/hangman.jpg","alt","hangman","width","100%","height","225"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"text-muted"],["src","../../../assets/gameIcons/mayorOMenor.jpg","alt","mayorOMenor","width","100%","height","225"],["src","../../../assets/gameIcons/chat.jpg","alt","chat","width","100%","height","225"],[1,"text-muted","py-5"],[1,"float-end","mb-1"],["href","#"],[1,"mb-1"]],template:function(de,ye){1&de&&(b.TgZ(0,"main")(1,"section",0)(2,"div",1)(3,"div",2)(4,"h1",3),b._uU(5,"Sitio creado por"),b.qZA(),b.TgZ(6,"a",4)(7,"h1",3),b._uU(8,"Ezequiel Archilla"),b.qZA()()()()(),b.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9),b._UZ(14,"img",10),b.TgZ(15,"div",11)(16,"p",12),b._uU(17,"Ahorcado: Intenta adivinar la palabra secreta en menos de 5 intentos"),b.qZA(),b.TgZ(18,"div",13)(19,"div",14)(20,"button",15),b.NdJ("click",function(){return ye.navigateUrl("/games/ahorcado")}),b._uU(21,"Jugar"),b.qZA()(),b.TgZ(22,"small",16),b._uU(23,"9 mins"),b.qZA()()()()(),b.TgZ(24,"div",8)(25,"div",9),b._UZ(26,"img",17),b.TgZ(27,"div",11)(28,"p",12),b._uU(29,"Mayor o Menor: Intenta adivinar si la siguiente carta sera mayor o menor a la actual."),b.qZA(),b.TgZ(30,"div",13)(31,"div",14)(32,"button",15),b.NdJ("click",function(){return ye.navigateUrl("/games/mayorOMenor")}),b._uU(33,"Jugar"),b.qZA()(),b.TgZ(34,"small",16),b._uU(35,"9 mins"),b.qZA()()()()(),b.TgZ(36,"div",8)(37,"div",9),b._UZ(38,"img",18),b.TgZ(39,"div",11)(40,"p",12),b._uU(41,"Chat"),b.qZA(),b.TgZ(42,"div",13)(43,"div",14)(44,"button",15),b.NdJ("click",function(){return ye.navigateUrl("chat")}),b._uU(45,"Jugar"),b.qZA()(),b.TgZ(46,"small",16),b._uU(47,"9 mins"),b.qZA()()()()()()()()(),b.TgZ(48,"footer",19)(49,"div",6)(50,"p",20)(51,"a",21),b._uU(52,"Back to top"),b.qZA()(),b.TgZ(53,"p",22),b._uU(54,"Ezequiel Archilla 2022"),b.qZA()()())},directives:[h.yS],styles:[".card[_ngcontent-%COMP%]{background:rgb(255,255,255);border-radius:.4em;box-shadow:.3em .3em .7em #00000015;transition:border .5s cubic-bezier(.175,.885,.32,1.275);border:rgb(250,250,250) .2em solid}.card[_ngcontent-%COMP%]:hover{border:#4f9bff .2em solid}.text-white[_ngcontent-%COMP%]{color:#fff}"]}),ce})()},1205:(vt,Ae,k)=>{var b=k(9808),h=k(5e3);class j extends b.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends j{static makeCurrent(){(0,b.HT)(new ce)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function de(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==t?null:function fe(n){ye=ye||document.createElement("a"),ye.setAttribute("href",n);const e=ye.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,b.Mx)(document.cookie,e)}}let ye,ae=null;const we=new h.OlP("TRANSITION_ID"),X=[{provide:h.ip1,useFactory:function te(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=(0,b.q)(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[we,b.K0,h.zs3],multi:!0}];class pe{static init(){(0,h.VLi)(new pe)}addToWindow(e){h.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const g=function(v){d=d||v,u--,0==u&&r(d)};o.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?(0,b.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let tt=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const $e=new h.OlP("EventManagerPlugins");let Ke=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($e),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class et{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=(0,b.q)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Me=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n extends Me{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(gt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gt))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(b.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function gt(n){(0,b.q)().remove(n)}const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ge=/%COMP%/g;function Te(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Te(n,o,t):(o=o.replace(Ge,n),t.push(o))}return t}function Ie(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Je=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ce(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Kt(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case h.ifc.ShadowDom:return new Ct(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Te(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ke),h.LFG(Le),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ce{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(rt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=rt[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=rt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,o&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ie(r)):this.eventManager.addEventListener(e,t,Ie(r))}}class Kt extends Ce{constructor(e,t,r,o){super(e),this.component=r;const u=Te(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function mt(n){return"_ngcontent-%COMP%".replace(Ge,n)}(o+"-"+r.id),this.hostAttr=function he(n){return"_nghost-%COMP%".replace(Ge,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ct extends Ce{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Te(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const g=document.createElement("style");g.textContent=u[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let St=(()=>{class n extends et{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(b.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const kn=["alt","control","meta","shift"],kr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yt=(()=>{class n extends et{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.q)().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="";if(kn.forEach(v=>{const S=r.indexOf(v);S>-1&&(r.splice(S,1),d+=v+".")}),d+=u,0!=r.length||0===u.length)return null;const g={};return g.domEventName=o,g.fullKey=d,g}static getEventFullKey(t){let r="",o=function Zn(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&yn.hasOwnProperty(e)&&(e=yn[e]))}return kr[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),kn.forEach(u=>{u!=o&&zt[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(b.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const si=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:b.bD},{provide:h.g9A,useValue:function jn(){ce.makeCurrent(),pe.init()},multi:!0},{provide:b.K0,useFactory:function _r(){return(0,h.RDi)(document),document},deps:[]}]),Dr=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Yn(){return new h.qLn},deps:[]},{provide:$e,useClass:St,multi:!0,deps:[b.K0,h.R0b,h.Lbi]},{provide:$e,useClass:Yt,multi:!0,deps:[b.K0]},{provide:Je,useClass:Je,deps:[Ke,Le,h.AFp]},{provide:h.FYo,useExisting:Je},{provide:Me,useExisting:Le},{provide:Le,useClass:Le,deps:[b.K0]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:Ke,useClass:Ke,deps:[$e,h.R0b]},{provide:b.JF,useClass:tt,deps:[]}];let Ar=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:we,useExisting:h.AFp},X]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Dr,imports:[b.ez,h.hGG]}),n})();"undefined"!=typeof window&&window;let oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(q),r},providedIn:"root"}),n})(),q=(()=>{class n extends oe{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(r),(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(b.K0))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Se(n){return new q(n.get(b.K0))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var K=k(8996),Ee=k(8306),Ve=k(4742),ot=k(8421),Ut=k(7669),lt=k(5403),Gt=k(3268),$n=k(1810),Ft=k(4004);let pr=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),ir=(()=>{class n extends pr{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const On=new h.OlP("NgValueAccessor"),ct={provide:On,useExisting:(0,h.Gpc)(()=>sr),multi:!0},Ln=new h.OlP("CompositionEventMode");let sr=(()=>{class n extends pr{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sn(){const n=(0,b.q)()?(0,b.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ln,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([ct]),h.qOj]}),n})();const Mn=new h.OlP("NgValidators"),bn=new h.OlP("NgAsyncValidators");function Vn(n){return null!=n}function Bs(n){const e=(0,h.QGY)(n)?(0,K.D)(n):n;return(0,h.CqO)(e),e}function ys(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function $r(n,e){return e.map(t=>t(n))}function _s(n){return n.map(e=>function Ui(n){return!n.validate}(e)?e:t=>e.validate(t))}function Bi(n){return null!=n?function vs(n){if(!n)return null;const e=n.filter(Vn);return 0==e.length?null:function(t){return ys($r(t,e))}}(_s(n)):null}function js(n){return null!=n?function ui(n){if(!n)return null;const e=n.filter(Vn);return 0==e.length?null:function(t){return function fr(...n){const e=(0,Ut.jO)(n),{args:t,keys:r}=(0,Ve.D)(n),o=new Ee.y(u=>{const{length:d}=t;if(!d)return void u.complete();const g=new Array(d);let v=d,S=d;for(let V=0;V<d;V++){let G=!1;(0,ot.Xf)(t[V]).subscribe((0,lt.x)(u,ee=>{G||(G=!0,S--),g[V]=ee},()=>v--,void 0,()=>{(!v||!G)&&(S||u.next(r?(0,$n.n)(r,g):g),u.complete())}))}});return e?o.pipe((0,Gt.Z)(e)):o}($r(t,e).map(Bs)).pipe((0,Ft.U)(ys))}}(_s(n)):null}function Hs(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Wa(n){return n?Array.isArray(n)?n:[n]:[]}function mi(n,e){return Array.isArray(n)?n.includes(e):n===e}function _u(n,e){const t=Wa(e);return Wa(n).forEach(o=>{mi(t,o)||t.push(o)}),t}function to(n,e){return Wa(e).filter(t=>!mi(n,t))}class Co{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Bi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=js(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kr extends Co{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ar extends Co{get formDirective(){return null}get path(){return null}}let To=(()=>{class n extends class $o{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Kr,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})();function as(n,e){(function Es(n,e){const t=function ss(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Hs(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function wr(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Hs(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();_i(e._rawValidators,o),_i(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),function zo(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Hi(n,e)})}(n,e),function bs(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Wo(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Hi(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qo(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _i(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Hi(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Rn(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const tn="VALID",Qn="INVALID",wn="PENDING",Pn="DISABLED";function xr(n){return(Gi(n)?n.validators:n)||null}function Lt(n){return Array.isArray(n)?Bi(n):n||null}function $i(n,e){return(Gi(e)?e.asyncValidators:n)||null}function Ea(n){return Array.isArray(n)?js(n):n||null}function Gi(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Cs=n=>n instanceof Ya;function Ao(n){return(n=>n instanceof zn)(n)?n.value:n.getRawValue()}function ze(n,e){const t=Cs(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function pn(n,e){Cs(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new h.vHH(1002,"")})}class Ka{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Lt(this._rawValidators),this._composedAsyncValidatorFn=Ea(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tn}get invalid(){return this.status===Qn}get pending(){return this.status==wn}get disabled(){return this.status===Pn}get enabled(){return this.status!==Pn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Lt(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ea(e)}addValidators(e){this.setValidators(_u(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_u(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(to(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(to(e,this._rawAsyncValidators))}hasValidator(e){return mi(this._rawValidators,e)}hasAsyncValidator(e){return mi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pn,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tn,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tn||this.status===wn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pn:tn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wn,this._hasOwnPendingAsyncValidator=!0;const t=Bs(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Yr(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Cs(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof qi)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Pn:this.errors?Qn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wn)?wn:this._anyControlsHaveStatus(Qn)?Qn:tn}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gi(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class zn extends Ka{constructor(e=null,t,r){super(xr(t),$i(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gi(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Rn(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Rn(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ya extends Ka{constructor(e,t,r){super(xr(t),$i(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pn(this,e),Object.keys(e).forEach(r=>{ze(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Ao(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class qi extends Ka{constructor(e,t,r){super(xr(t),$i(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){pn(this,e),e.forEach((r,o)=>{ze(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Ao(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Yo={provide:Kr,useExisting:(0,h.Gpc)(()=>Qo)},vi=(()=>Promise.resolve(null))();let Qo=(()=>{class n extends Kr{constructor(t,r,o,u,d){super(),this._changeDetectorRef=d,this.control=new zn,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function at(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===sr?t=u:function De(n){return Object.getPrototypeOf(n.constructor)===ir}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ne(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){as(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){vi.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;vi.then(()=>{var u;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?function $s(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ar,9),h.Y36(Mn,10),h.Y36(bn,10),h.Y36(On,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Yo]),h.qOj,h.TTD]}),n})(),Qa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Qa]]}),n})(),Xa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[oa]}),n})();var T=k(9646),w=k(4351),_=k(9300);class M{}class P{}class B{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof B?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new B;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof B?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(g=>-1===u.indexOf(g)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Y{encodeKey(e){return cn(e)}encodeValue(e){return cn(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Oe=/%(\d[a-f0-9])/gi,_t={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function cn(n){return encodeURIComponent(n).replace(Oe,(e,t)=>{var r;return null!==(r=_t[t])&&void 0!==r?r:e})}function Tt(n){return`${n}`}class gn{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Y,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ie(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[d,g]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],v=t.get(d)||[];v.push(g),t.set(d,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gn({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Tt(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Tt(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Zi{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function aa(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Ss(n){return"undefined"!=typeof Blob&&n instanceof Blob}function wi(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Pu{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ki(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new B),this.context||(this.context=new Zi),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+d}}else this.params=new gn,this.urlWithParams=t}serializeBody(){return null===this.body?null:aa(this.body)||Ss(this.body)||wi(this.body)||function fo(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wi(this.body)?null:Ss(this.body)?this.body.type||null:aa(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,u=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,g=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,v=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let S=e.headers||this.headers,V=e.params||this.params;const G=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(S=Object.keys(e.setHeaders).reduce((ee,ue)=>ee.set(ue,e.setHeaders[ue]),S)),e.setParams&&(V=Object.keys(e.setParams).reduce((ee,ue)=>ee.set(ue,e.setParams[ue]),V)),new Pu(r,o,d,{params:V,headers:S,context:G,reportProgress:v,responseType:u,withCredentials:g})}}var br=(()=>((br=br||{})[br.Sent=0]="Sent",br[br.UploadProgress=1]="UploadProgress",br[br.ResponseHeader=2]="ResponseHeader",br[br.DownloadProgress=3]="DownloadProgress",br[br.Response=4]="Response",br[br.User=5]="User",br))();class po{constructor(e,t=200,r="OK"){this.headers=e.headers||new B,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hl extends po{constructor(e={}){super(e),this.type=br.ResponseHeader}clone(e={}){return new hl({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cc extends po{constructor(e={}){super(e),this.type=br.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new cc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Rr extends po{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function vd(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Wm=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof Pu)u=t;else{let v,S;v=o.headers instanceof B?o.headers:new B(o.headers),o.params&&(S=o.params instanceof gn?o.params:new gn({fromObject:o.params})),u=new Pu(t,r,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:S,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=(0,T.of)(u).pipe((0,w.b)(v=>this.handler.handle(v)));if(t instanceof Pu||"events"===o.observe)return d;const g=d.pipe((0,_.h)(v=>v instanceof cc));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,Ft.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,Ft.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,Ft.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return g.pipe((0,Ft.U)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new gn).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,vd(o,r))}post(t,r,o={}){return this.request("POST",t,vd(o,r))}put(t,r,o={}){return this.request("PUT",t,vd(o,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(M))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class wd{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Ed=new h.OlP("HTTP_INTERCEPTORS");let Ih=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const gl=/^\)\]\}',?\n/;let Ks=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ee.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((ue,le)=>o.setRequestHeader(ue,le.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ue=t.detectContentTypeHeader();null!==ue&&o.setRequestHeader("Content-Type",ue)}if(t.responseType){const ue=t.responseType.toLowerCase();o.responseType="json"!==ue?ue:"text"}const u=t.serializeBody();let d=null;const g=()=>{if(null!==d)return d;const ue=o.statusText||"OK",le=new B(o.getAllResponseHeaders()),Ne=function Ri(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return d=new hl({headers:le,status:o.status,statusText:ue,url:Ne}),d},v=()=>{let{headers:ue,status:le,statusText:Ne,url:Xe}=g(),bt=null;204!==le&&(bt=void 0===o.response?o.responseText:o.response),0===le&&(le=bt?200:0);let Et=le>=200&&le<300;if("json"===t.responseType&&"string"==typeof bt){const Ht=bt;bt=bt.replace(gl,"");try{bt=""!==bt?JSON.parse(bt):null}catch(pt){bt=Ht,Et&&(Et=!1,bt={error:pt,text:bt})}}Et?(r.next(new cc({body:bt,headers:ue,status:le,statusText:Ne,url:Xe||void 0})),r.complete()):r.error(new Rr({error:bt,headers:ue,status:le,statusText:Ne,url:Xe||void 0}))},S=ue=>{const{url:le}=g(),Ne=new Rr({error:ue,status:o.status||0,statusText:o.statusText||"Unknown Error",url:le||void 0});r.error(Ne)};let V=!1;const G=ue=>{V||(r.next(g()),V=!0);let le={type:br.DownloadProgress,loaded:ue.loaded};ue.lengthComputable&&(le.total=ue.total),"text"===t.responseType&&!!o.responseText&&(le.partialText=o.responseText),r.next(le)},ee=ue=>{let le={type:br.UploadProgress,loaded:ue.loaded};ue.lengthComputable&&(le.total=ue.total),r.next(le)};return o.addEventListener("load",v),o.addEventListener("error",S),o.addEventListener("timeout",S),o.addEventListener("abort",S),t.reportProgress&&(o.addEventListener("progress",G),null!==u&&o.upload&&o.upload.addEventListener("progress",ee)),o.send(u),r.next({type:br.Sent}),()=>{o.removeEventListener("error",S),o.removeEventListener("abort",S),o.removeEventListener("load",v),o.removeEventListener("timeout",S),t.reportProgress&&(o.removeEventListener("progress",G),null!==u&&o.upload&&o.upload.removeEventListener("progress",ee)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(b.JF))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const eu=new h.OlP("XSRF_COOKIE_NAME"),ua=new h.OlP("XSRF_HEADER_NAME");class Yi{}let tu=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,b.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(b.K0),h.LFG(h.Lbi),h.LFG(eu))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Nu=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Yi),h.LFG(ua))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),hc=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Ed,[]);this.chain=r.reduceRight((o,u)=>new wd(o,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(P),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),bd=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Nu,useClass:Ih}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:eu,useValue:t.cookieName}:[],t.headerName?{provide:ua,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Nu,{provide:Ed,useExisting:Nu,multi:!0},{provide:Yi,useClass:tu},{provide:eu,useValue:"XSRF-TOKEN"},{provide:ua,useValue:"X-XSRF-TOKEN"}]}),n})(),Ms=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Wm,{provide:M,useClass:hc},Ks,{provide:P,useExisting:Ks}],imports:[[bd.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();class Oh{}const go="*";function pc(n,e){return{type:7,name:n,definitions:e,options:{}}}function ml(n,e=null){return{type:4,styles:e,timings:n}}function ku(n,e=null){return{type:2,steps:n,options:e}}function xs(n){return{type:6,styles:n,offset:null}}function Fu(n,e,t){return{type:0,name:n,styles:e,options:t}}function _l(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function H(n){Promise.resolve(null).then(n)}class Q{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){H(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ge{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const u=this.players.length;0==u?H(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==u&&this._onFinish()}),d.onDestroy(()=>{++r==u&&this._onDestroy()}),d.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((d,g)=>Math.max(d,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var Ye=k(7579);const It=["toast-component",""];function Ot(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().remove()}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function Zt(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function Un(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,Zt,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function nn(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function ei(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function Gr(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}function Lu(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().remove()}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function Vu(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function la(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,Vu,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function Os(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function ca(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function Sa(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}class mc{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class yc{constructor(e,t,r,o,u,d){this.toastId=e,this.config=t,this.message=r,this.title=o,this.toastType=u,this.toastRef=d,this._onTap=new Ye.x,this._onAction=new Ye.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const zp={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},Id=new h.OlP("ToastConfig");class vl{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Ye.x,this._activate=new Ye.x,this._manualClose=new Ye.x,this._resetTimeout=new Ye.x,this._countDuplicate=new Ye.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class _c{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===yc?this._toastPackage:this._parentInjector.get(e,t,r)}}class Wp extends class Td{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let o;return o=r.create(e.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class E0{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let vc=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(b.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Km=(()=>{class n{constructor(t,r,o,u){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=o,this._document=u,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(t),o.classList.add("toast-container"),r?r.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(t){return new Wp(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new E0(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(vc),h.LFG(h._Vd),h.LFG(h.z2F),h.LFG(b.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rh=(()=>{class n{constructor(t,r,o,u,d){this.overlay=r,this._injector=o,this.sanitizer=u,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,o={},u=""){return this._preBuildNotification(u,t,r,this.applyConfig(o))}success(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(o))}error(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(o))}info(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(o))}warning(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(o))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(t="",r="",o,u){const{includeTitleDuplicates:d}=this.toastrConfig;for(const g of this.toasts){const v=d&&g.title===t;if((!d||v)&&g.message===r)return g.toastRef.onDuplicate(o,u),g}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,o,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,o,u)):this._buildNotification(t,r,o,u)}_buildNotification(t,r,o,u){if(!u.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(o,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||r)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=r;let g=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(g=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const v=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let S=r;r&&u.enableHtml&&(S=this.sanitizer.sanitize(h.q3G.HTML,r));const V=new vl(v),G=new yc(this.index,u,S,o,t,V),ee=new _c(G,this._injector),ue=new mc(u.toastComponent,ee),le=v.attach(ue,this.toastrConfig.newestOnTop);V.componentInstance=le.instance;const Ne={toastId:this.index,title:o||"",message:r||"",toastRef:V,onShown:V.afterActivate(),onHidden:V.afterClosed(),onTap:G.onTap(),onAction:G.onAction(),portal:le};return g||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ne.toastRef.activate()})),this.toasts.push(Ne),Ne}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Id),h.LFG(Km),h.LFG(h.zs3),h.LFG(oe),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ym=(()=>{class n{constructor(t,r,o){this.toastrService=t,this.toastPackage=r,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Rh),h.Y36(yc),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.d8E("@flyInOut",r.state),h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:It,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,Ot,3,0,"button",0),h.YNc(1,Un,3,5,"div",1),h.YNc(2,nn,1,3,"div",2),h.YNc(3,ei,2,4,"div",3),h.YNc(4,Gr,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},directives:[b.O5],encapsulation:2,data:{animation:[pc("flyInOut",[Fu("inactive",xs({opacity:0})),Fu("active",xs({opacity:1})),Fu("removed",xs({opacity:0})),_l("inactive => active",ml("{{ easeTime }}ms {{ easing }}")),_l("active => removed",ml("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const Qm=Object.assign(Object.assign({},zp),{toastComponent:Ym});let Jm=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:Id,useValue:{default:Qm,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[b.ez]]}),n})(),Nh=(()=>{class n{constructor(t,r,o){this.toastrService=t,this.toastPackage=r,this.appRef=o,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Rh),h.Y36(yc),h.Y36(h.z2F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:It,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,Lu,3,0,"button",0),h.YNc(1,la,3,5,"div",1),h.YNc(2,Os,1,3,"div",2),h.YNc(3,ca,2,4,"div",3),h.YNc(4,Sa,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},directives:[b.O5],encapsulation:2}),n})();Object.assign(Object.assign({},zp),{toastComponent:Nh});const kh_firebaseConfig={apiKey:"AIzaSyAPmEQssZjFvB5eW8TWq1mEP98ld7u7-_I",authDomain:"angulararchillaezequiel.firebaseapp.com",projectId:"angulararchillaezequiel",storageBucket:"angulararchillaezequiel.appspot.com",messagingSenderId:"414373398409",appId:"1:414373398409:web:76e74afa7f9f1782ad4358"},Nn=!1;function Dd(n){return new h.vHH(3e3,Nn)}function Ad(){return"undefined"!=typeof window&&void 0!==window.document}function ju(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function iu(n){switch(n.length){case 0:return new Q;case 1:return n[0];default:return new ge(n)}}function tg(n,e,t,r,o={},u={}){const d=[],g=[];let v=-1,S=null;if(r.forEach(V=>{const G=V.offset,ee=G==v,ue=ee&&S||{};Object.keys(V).forEach(le=>{let Ne=le,Xe=V[le];if("offset"!==le)switch(Ne=e.normalizePropertyName(Ne,d),Xe){case"!":Xe=o[le];break;case go:Xe=u[le];break;default:Xe=e.normalizeStyleValue(le,Ne,Xe,d)}ue[Ne]=Xe}),ee||g.push(ue),S=ue,v=G}),d.length)throw function I(n){return new h.vHH(3502,Nn)}();return g}function Cl(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Sd(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Sd(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Sd(t,"destroy",n)))}}function Sd(n,e,t){const r=t.totalTime,u=Md(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(u._data=d),u}function Md(n,e,t,r,o="",u=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:u,disabled:!!d}}function cs(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Bh(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let xd=(n,e)=>!1,Hu=(n,e,t)=>[],jh=null;function Hh(n){const e=n.parentNode||n.host;return e===jh?null:e}(ju()||"undefined"!=typeof Element)&&(Ad()?(jh=(()=>document.documentElement)(),xd=(n,e)=>{for(;e;){if(e===n)return!0;e=Hh(e)}return!1}):xd=(n,e)=>n.contains(e),Hu=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Tl=null,b0=!1;function ng(n){Tl||(Tl=function C0(){return"undefined"!=typeof document?document.body:null}()||{},b0=!!Tl.style&&"WebkitAppearance"in Tl.style);let e=!0;return Tl.style&&!function di(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Tl.style,!e&&b0&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Tl.style)),e}const T0=xd,I0=Hu;let D0=(()=>{class n{validateStyleProperty(t){return ng(t)}matchesElement(t,r){return!1}containsElement(t,r){return T0(t,r)}getParentElement(t){return Hh(t)}query(t,r,o){return I0(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,u,d,g=[],v){return new Q(o,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),oy=(()=>{class n{}return n.NOOP=new D0,n})();const ds="ng-enter",Od="ng-leave",Gh="ng-trigger",qh=".ng-trigger",hs="ng-animating",Ec=".ng-animating";function $u(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ay(parseFloat(e[1]),e[2])}function ay(n,e){return"s"===e?1e3*n:n}function rg(n,e,t){return n.hasOwnProperty("duration")?n:function A0(n,e,t){let o,u=0,d="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(Dd()),{duration:0,delay:0,easing:""};o=ay(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(u=ay(parseFloat(v),g[4]));const S=g[5];S&&(d=S)}else o=n;if(!t){let g=!1,v=e.length;o<0&&(e.push(function Kp(){return new h.vHH(3100,Nn)}()),g=!0),u<0&&(e.push(function Fh(){return new h.vHH(3101,Nn)}()),g=!0),g&&e.splice(v,0,Dd())}return{duration:o,delay:u,easing:d}}(n,e,t)}function Rd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Il(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Rd(n,t);return t}function ly(n,e,t){return t?e+":"+t+";":""}function S0(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ly(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ly(0,MC(t),n.style[t]));n.setAttribute("style",e)}function su(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=cy(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),ju()&&S0(n))}function Gu(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=cy(t);n.style[r]=""}),ju()&&S0(n))}function zh(n){return Array.isArray(n)?1==n.length?n[0]:ku(n):n}const Wh=new RegExp("{{\\s*(.+?)\\s*}}","g");function M0(n){let e=[];if("string"==typeof n){let t;for(;t=Wh.exec(n);)e.push(t[1]);Wh.lastIndex=0}return e}function ig(n,e,t){const r=n.toString(),o=r.replace(Wh,(u,d)=>{let g=e[d];return e.hasOwnProperty(d)||(t.push(function Bu(n){return new h.vHH(3003,Nn)}()),g=""),g.toString()});return o==r?n:o}function bc(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const SC=/-+([a-z0-9])/g;function cy(n){return n.replace(SC,(...e)=>e[1].toUpperCase())}function MC(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Xm(n){return new h.vHH(3004,Nn)}()}}function x0(n,e){return window.getComputedStyle(n)[e]}function ou(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function lA(n,e,t){if(":"==n[0]){const v=function cA(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function sy(n){return new h.vHH(3016,Nn)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function iy(n){return new h.vHH(3015,Nn)}()),e;const o=r[1],u=r[2],d=r[3];e.push(Oa(o,d));"<"==u[0]&&!("*"==o&&"*"==d)&&e.push(Oa(d,o))}(r,t,e)):t.push(n),t}const Zh=new Set(["true","1"]),dy=new Set(["false","0"]);function Oa(n,e){const t=Zh.has(n)||dy.has(n),r=Zh.has(e)||dy.has(e);return(o,u)=>{let d="*"==n||n==o,g="*"==e||e==u;return!d&&t&&"boolean"==typeof o&&(d=o?Zh.has(n):dy.has(n)),!g&&r&&"boolean"==typeof u&&(g=u?Zh.has(e):dy.has(e)),d&&g}}const hy=new RegExp("s*:selfs*,?","g");function fy(n,e,t,r){return new Kh(n).build(e,t,r)}class Kh{constructor(e){this._driver=e}build(e,t,r){const o=new gy(t);this._resetContextStyleTimingState(o);const u=mo(this,zh(e),o);return o.unsupportedCSSPropertiesFound.size&&o.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function Lh(){return new h.vHH(3006,Nn)}()),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const v=g,S=v.name;S.toString().split(/\s*,\s*/).forEach(V=>{v.name=V,u.push(this.visitState(v,t))}),v.name=S}else if(1==g.type){const v=this.visitTransition(g,t);r+=v.queryCount,o+=v.depCount,d.push(v)}else t.errors.push(function ty(){return new h.vHH(3007,Nn)}())}),{type:7,name:e.name,states:u,transitions:d,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,d=o||{};r.styles.forEach(g=>{if(Yh(g)){const v=g;Object.keys(v).forEach(S=>{M0(v[S]).forEach(V=>{d.hasOwnProperty(V)||u.add(V)})})}}),u.size&&(bc(u.values()),t.errors.push(function Vh(n,e){return new h.vHH(3008,Nn)}()))}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=mo(this,zh(e.animation),t);return{type:1,matchers:ou(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:da(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>mo(this,r,t)),options:da(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const u=e.steps.map(d=>{t.currentTime=r;const g=mo(this,d,t);return o=Math.max(o,t.currentTime),g});return t.currentTime=o,{type:3,steps:u,options:da(e.options)}}visitAnimate(e,t){const r=function dA(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Qh(rg(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Qh(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||rg(r,e),Qh(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,u=e.styles?e.styles:xs({});if(5==u.type)o=this.visitKeyframes(u,t);else{let d=e.styles,g=!1;if(!d){g=!0;const S={};r.easing&&(S.easing=r.easing),d=xs(S)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(d,t);v.isEmptyStep=g,o=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==go?r.push(d):t.errors.push(function Ma(n){return new h.vHH(3002,Nn)}()):r.push(d)}):r.push(e.styles);let o=!1,u=null;return r.forEach(d=>{if(Yh(d)){const g=d,v=g.easing;if(v&&(u=v,delete g.easing),!o)for(let S in g)if(g[S].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(g=>{if(!this._driver.validateStyleProperty(g))return delete d[g],void t.unsupportedCSSPropertiesFound.add(g);const v=t.collectedStyles[t.currentQuerySelector],S=v[g];let V=!0;S&&(u!=o&&u>=S.startTime&&o<=S.endTime&&(t.errors.push(function Qp(n,e,t,r,o){return new h.vHH(3010,Nn)}()),V=!1),u=S.startTime),V&&(v[g]={startTime:u,endTime:o}),t.options&&function AC(n,e,t){const r=e.params||{},o=M0(n);o.length&&o.forEach(u=>{r.hasOwnProperty(u)||t.push(function Yp(n){return new h.vHH(3001,Nn)}())})}(d[g],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Uh(){return new h.vHH(3011,Nn)}()),r;let u=0;const d=[];let g=!1,v=!1,S=0;const V=e.steps.map(bt=>{const Et=this._makeStyleAst(bt,t);let Ht=null!=Et.offset?Et.offset:function my(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Yh(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Yh(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Et.styles),pt=0;return null!=Ht&&(u++,pt=Et.offset=Ht),v=v||pt<0||pt>1,g=g||pt<S,S=pt,d.push(pt),Et});v&&t.errors.push(function ny(){return new h.vHH(3012,Nn)}()),g&&t.errors.push(function Jp(){return new h.vHH(3200,Nn)}());const G=e.steps.length;let ee=0;u>0&&u<G?t.errors.push(function Xp(){return new h.vHH(3202,Nn)}()):0==u&&(ee=1/(G-1));const ue=G-1,le=t.currentTime,Ne=t.currentAnimateTimings,Xe=Ne.duration;return V.forEach((bt,Et)=>{const Ht=ee>0?Et==ue?1:ee*Et:d[Et],pt=Ht*Xe;t.currentTime=le+Ne.delay+pt,Ne.duration=pt,this._validateStyleAst(bt,t),bt.offset=Ht,r.styles.push(bt)}),r}visitReference(e,t){return{type:8,animation:mo(this,zh(e.animation),t),options:da(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:da(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:da(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[u,d]=function O0(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(hy,"")),n=n.replace(/@\*/g,qh).replace(/@\w+/g,t=>qh+"-"+t.substr(1)).replace(/:animating/g,Ec),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,cs(t.collectedStyles,t.currentQuerySelector,{});const g=mo(this,zh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:d,animation:g,originalSelector:e.selector,options:da(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function ry(){return new h.vHH(3013,Nn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:rg(e.timings,t.errors,!0);return{type:12,animation:mo(this,zh(e.animation),t),timings:r,options:null}}}class gy{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yh(n){return!Array.isArray(n)&&"object"==typeof n}function da(n){return n?(n=Rd(n)).params&&(n.params=function R0(n){return n?Rd(n):null}(n.params)):n={},n}function Qh(n,e,t){return{duration:n,delay:e,easing:t}}function ug(n,e,t,r,o,u,d=null,g=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:u,totalTime:o+u,easing:d,subTimeline:g}}class lg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const FC=new RegExp(":enter","g"),VC=new RegExp(":leave","g");function _y(n,e,t,r,o,u={},d={},g,v,S=[]){return(new UC).buildKeyframes(n,e,t,r,o,u,d,g,v,S)}class UC{buildKeyframes(e,t,r,o,u,d,g,v,S,V=[]){S=S||new lg;const G=new Xh(e,t,S,o,u,V,[]);G.options=v,G.currentTimeline.setStyles([d],null,G.errors,v),mo(this,r,G);const ee=G.timelines.filter(ue=>ue.containsAnimation());if(Object.keys(g).length){let ue;for(let le=ee.length-1;le>=0;le--){const Ne=ee[le];if(Ne.element===t){ue=Ne;break}}ue&&!ue.allowOnlyTimelineStyles()&&ue.setStyles([g],null,G.errors,v)}return ee.length?ee.map(ue=>ue.buildKeyframes()):[ug(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const o=t.createSubContext(e.options),u=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,o,o.options);u!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const d=null!=r.duration?$u(r.duration):null,g=null!=r.delay?$u(r.delay):null;return 0!==d&&e.forEach(v=>{const S=t.appendInstructionToTimeline(v,d,g);u=Math.max(u,S.duration+S.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),mo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const u=e.options;if(u&&(u.params||u.delay)&&(o=t.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Jh);const d=$u(u.delay);o.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>mo(this,d,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?$u(e.options.delay):0;e.steps.forEach(d=>{const g=t.createSubContext(e.options);u&&g.delayNextStep(u),mo(this,d,g),o=Math.max(o,g.currentTimeline.currentTime),r.push(g.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return rg(t.params?ig(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,u=r.duration,g=t.createSubContext().currentTimeline;g.easing=r.easing,e.styles.forEach(v=>{g.forwardTime((v.offset||0)*u),g.setStyles(v.styles,v.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(o+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},u=o.delay?$u(o.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Jh);let d=r;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=g.length;let v=null;g.forEach((S,V)=>{t.currentQueryIndex=V;const G=t.createSubContext(e.options,S);u&&G.delayNextStep(u),S===t.element&&(v=G.currentTimeline),mo(this,e.animation,G),G.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,G.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,u=e.timings,d=Math.abs(u.duration),g=d*(t.currentQueryTotal-1);let v=d*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":v=g-v;break;case"full":v=r.currentStaggerTime}const V=t.currentTimeline;v&&V.delayNextStep(v);const G=V.currentTime;mo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-G+(o.startTime-r.currentTimeline.startTime)}}const Jh={};class Xh{constructor(e,t,r,o,u,d,g,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=u,this.errors=d,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new ef(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=$u(r.duration)),null!=r.delay&&(o.delay=$u(r.delay));const u=r.params;if(u){let d=o.params;d||(d=this.options.params={}),Object.keys(u).forEach(g=>{(!t||!d.hasOwnProperty(g))&&(d[g]=ig(u[g],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,u=new Xh(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=Jh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new vy(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,u,d){let g=[];if(o&&g.push(this.element),e.length>0){e=(e=e.replace(FC,"."+this._enterClassName)).replace(VC,"."+this._leaveClassName);let S=this._driver.query(this.element,e,1!=r);0!==r&&(S=r<0?S.slice(S.length+r,S.length):S.slice(0,r)),g.push(...S)}return!u&&0==g.length&&d.push(function eg(n){return new h.vHH(3014,Nn)}()),g}}class ef{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ef(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||go,this._currentKeyframe[t]=go}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const u=o&&o.params||{},d=function BC(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(u=>{t[u]=go})):Il(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(g=>{const v=ig(d[g],u,r);this._pendingStyles[g]=v,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:go),this._updateStyle(g,v)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,v)=>{const S=Il(g,!0);Object.keys(S).forEach(V=>{const G=S[V];"!"==G?e.add(V):G==go&&t.add(V)}),r||(S.offset=v/this.duration),o.push(S)});const u=e.size?bc(e.values()):[],d=t.size?bc(t.values()):[];if(r){const g=o[0],v=Rd(g);g.offset=0,v.offset=1,o=[g,v]}return ug(this.element,o,u,d,this.duration,this.startTime,this.easing,!1)}}class vy extends ef{constructor(e,t,r,o,u,d,g=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=g,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],d=r+t,g=t/d,v=Il(e[0],!1);v.offset=0,u.push(v);const S=Il(e[0],!1);S.offset=P0(g),u.push(S);const V=e.length-1;for(let G=1;G<=V;G++){let ee=Il(e[G],!1);ee.offset=P0((t+ee.offset*r)/d),u.push(ee)}r=d,t=0,o="",e=u}return ug(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function P0(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class cg{}class N0 extends cg{normalizePropertyName(e,t){return cy(e)}normalizeStyleValue(e,t,r,o){let u="";const d=r.toString().trim();if(k0[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const g=r.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(function ey(n,e){return new h.vHH(3005,Nn)}())}return d+u}}const k0=(()=>function HC(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function tf(n,e,t,r,o,u,d,g,v,S,V,G,ee){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:u,toState:r,toStyles:d,timelines:g,queriedElements:v,preStyleProps:S,postStyleProps:V,totalTime:G,errors:ee}}const wy={};class Ey{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function F0(n,e,t,r,o){return n.some(u=>u(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],u=this._stateStyles[e],d=o?o.buildStyles(t,r):{};return u?u.buildStyles(t,r):d}build(e,t,r,o,u,d,g,v,S,V){const G=[],ee=this.ast.options&&this.ast.options.params||wy,le=this.buildStyles(r,g&&g.params||wy,G),Ne=v&&v.params||wy,Xe=this.buildStyles(o,Ne,G),bt=new Set,Et=new Map,Ht=new Map,pt="void"===o,un={params:Object.assign(Object.assign({},ee),Ne)},$t=V?[]:_y(e,t,this.ast.animation,u,d,le,Xe,un,S,G);let hr=0;if($t.forEach(Li=>{hr=Math.max(Li.duration+Li.delay,hr)}),G.length)return tf(t,this._triggerName,r,o,pt,le,Xe,[],[],Et,Ht,hr,G);$t.forEach(Li=>{const yr=Li.element,Ur=cs(Et,yr,{});Li.preStyleProps.forEach(Hp=>Ur[Hp]=!0);const yu=cs(Ht,yr,{});Li.postStyleProps.forEach(Hp=>yu[Hp]=!0),yr!==t&&bt.add(yr)});const mr=bc(bt.values());return tf(t,this._triggerName,r,o,pt,le,Xe,$t,mr,Et,Ht,hr)}}class L0{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=Rd(this.defaultParams);return Object.keys(e).forEach(u=>{const d=e[u];null!=d&&(o[u]=d)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const d=u;Object.keys(d).forEach(g=>{let v=d[g];v.length>1&&(v=ig(v,o,t));const S=this.normalizer.normalizePropertyName(g,t);v=this.normalizer.normalizeStyleValue(g,S,v,t),r[S]=v})}}),r}}class V0{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new L0(o.style,o.options&&o.options.params||{},r)}),nf(this.states,"true","1"),nf(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new Ey(e,o,this.states))}),this.fallbackTransition=function dg(n,e,t){return new Ey(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(d=>d.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function nf(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const U0=new lg;class Cy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=fy(this._driver,t,r,[]);if(r.length)throw function F(n){return new h.vHH(3503,Nn)}();this._animations[e]=u}_buildPlayer(e,t,r){const o=e.element,u=tg(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],u=this._animations[e];let d;const g=new Map;if(u?(d=_y(this._driver,t,u,ds,Od,{},{},r,U0,o),d.forEach(V=>{const G=cs(g,V.element,{});V.postStyleProps.forEach(ee=>G[ee]=null)})):(o.push(function z(){return new h.vHH(3300,Nn)}()),d=[]),o.length)throw function _e(n){return new h.vHH(3504,Nn)}();g.forEach((V,G)=>{Object.keys(V).forEach(ee=>{V[ee]=this._driver.computeStyle(G,ee,go)})});const S=iu(d.map(V=>{const G=g.get(V.element);return this._buildPlayer(V,{},G)}));return this._playersById[e]=S,S.onDestroy(()=>this.destroy(e)),this.players.push(S),S}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Ze(n){return new h.vHH(3301,Nn)}();return t}listen(e,t,r,o){const u=Md(t,"","","");return Cl(this._getPlayer(e),r,u,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const Ty="ng-animate-queued",Cc="ng-animate-disabled",qC=[],Dy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ay={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ro="__ng_removed";class j0{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function WC(n){return null!=n?n:null}(r?e.value:e),r){const u=Rd(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const Nd="void",Sy=new j0(Nd);class H0{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Po(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw function Rt(n,e){return new h.vHH(3302,Nn)}();if(null==r||0==r.length)throw function qt(n){return new h.vHH(3303,Nn)}();if(!function ZC(n){return"start"==n||"done"==n}(r))throw function En(n,e){return new h.vHH(3400,Nn)}();const u=cs(this._elementListeners,e,[]),d={name:t,phase:r,callback:o};u.push(d);const g=cs(this._engine.statesByElement,e,{});return g.hasOwnProperty(t)||(Po(e,Gh),Po(e,Gh+"-"+t),g[t]=Sy),()=>{this._engine.afterFlush(()=>{const v=u.indexOf(d);v>=0&&u.splice(v,1),this._triggers[t]||delete g[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Pr(n){return new h.vHH(3401,Nn)}();return t}trigger(e,t,r,o=!0){const u=this._getTrigger(t),d=new My(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(Po(e,Gh),Po(e,Gh+"-"+t),this._engine.statesByElement.set(e,g={}));let v=g[t];const S=new j0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&S.absorbOptions(v.options),g[t]=S,v||(v=Sy),S.value!==Nd&&v.value===S.value){if(!function z0(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const u=t[o];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(v.params,S.params)){const Ne=[],Xe=u.matchStyles(v.value,v.params,Ne),bt=u.matchStyles(S.value,S.params,Ne);Ne.length?this._engine.reportError(Ne):this._engine.afterFlush(()=>{Gu(e,Xe),su(e,bt)})}return}const ee=cs(this._engine.playersByElement,e,[]);ee.forEach(Ne=>{Ne.namespaceId==this.id&&Ne.triggerName==t&&Ne.queued&&Ne.destroy()});let ue=u.matchTransition(v.value,S.value,e,S.params),le=!1;if(!ue){if(!o)return;ue=u.fallbackTransition,le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ue,fromState:v,toState:S,player:d,isFallbackTransition:le}),le||(Po(e,Ty),d.onStart(()=>{kd(e,Ty)})),d.onDone(()=>{let Ne=this.players.indexOf(d);Ne>=0&&this.players.splice(Ne,1);const Xe=this._engine.playersByElement.get(e);if(Xe){let bt=Xe.indexOf(d);bt>=0&&Xe.splice(bt,1)}}),this.players.push(d),ee.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,qh,!0);r.forEach(o=>{if(o[Ro])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(d=>d.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const u=this._engine.statesByElement.get(e),d=new Map;if(u){const g=[];if(Object.keys(u).forEach(v=>{if(d.set(v,u[v].value),this._triggers[v]){const S=this.trigger(e,v,Nd,o);S&&g.push(S)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&iu(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(u=>{const d=u.name;if(o.has(d))return;o.add(d);const v=this._triggers[d].fallbackTransition,S=r[d]||Sy,V=new j0(Nd),G=new My(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:v,fromState:S,toState:V,player:G,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)o=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Ro];(!u||u===Dy)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Po(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const u=r.element,d=this._elementListeners.get(u);d&&d.forEach(g=>{if(g.name==r.triggerName){const v=Md(u,r.triggerName,r.fromState.value,r.toState.value);v._data=e,Cl(r.player,g.phase,v,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const u=r.transition.ast.depCount,d=o.transition.ast.depCount;return 0==u||0==d?u-d:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class zC{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new H0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,o=this.namespacesByHostElement,u=r.length-1;if(u>=0){let d=!1;if(void 0!==this.driver.getParentElement){let g=this.driver.getParentElement(t);for(;g;){const v=o.get(g);if(v){const S=r.indexOf(v);r.splice(S+1,0,e),d=!0;break}g=this.driver.getParentElement(g)}}else for(let g=u;g>=0;g--)if(this.driver.containsElement(r[g].hostElement,t)){r.splice(g+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return o.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let u=0;u<o.length;u++){const d=r[o[u]].namespaceId;if(d){const g=this._fetchNamespace(d);g&&t.add(g)}}}return t}trigger(e,t,r,o){if(rf(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!rf(t))return;const u=t[Ro];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Po(e,Cc)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),kd(e,Cc))}removeNode(e,t,r,o){if(rf(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o,u){this.collectedLeaveElements.push(t),t[Ro]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,o,u){return rf(t)?this._fetchNamespace(e).listen(t,r,o,u):()=>{}}_buildInstruction(e,t,r,o,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,qh,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Ec,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return iu(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Ro];if(r&&r.setForRemoval){if(e[Ro]=Dy,r.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Cc))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Po(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?iu(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw function xa(n){return new h.vHH(3402,Nn)}()}_flushAnimations(e,t){const r=new lg,o=[],u=new Map,d=[],g=new Map,v=new Map,S=new Map,V=new Set;this.disabledNodes.forEach(Vt=>{V.add(Vt);const Xt=this.driver.query(Vt,".ng-animate-queued",!0);for(let dn=0;dn<Xt.length;dn++)V.add(Xt[dn])});const G=this.bodyNode,ee=Array.from(this.statesByElement.keys()),ue=q0(ee,this.collectedEnterElements),le=new Map;let Ne=0;ue.forEach((Vt,Xt)=>{const dn=ds+Ne++;le.set(Xt,dn),Vt.forEach(Jn=>Po(Jn,dn))});const Xe=[],bt=new Set,Et=new Set;for(let Vt=0;Vt<this.collectedLeaveElements.length;Vt++){const Xt=this.collectedLeaveElements[Vt],dn=Xt[Ro];dn&&dn.setForRemoval&&(Xe.push(Xt),bt.add(Xt),dn.hasAnimation?this.driver.query(Xt,".ng-star-inserted",!0).forEach(Jn=>bt.add(Jn)):Et.add(Xt))}const Ht=new Map,pt=q0(ee,Array.from(bt));pt.forEach((Vt,Xt)=>{const dn=Od+Ne++;Ht.set(Xt,dn),Vt.forEach(Jn=>Po(Jn,dn))}),e.push(()=>{ue.forEach((Vt,Xt)=>{const dn=le.get(Xt);Vt.forEach(Jn=>kd(Jn,dn))}),pt.forEach((Vt,Xt)=>{const dn=Ht.get(Xt);Vt.forEach(Jn=>kd(Jn,dn))}),Xe.forEach(Vt=>{this.processLeaveNode(Vt)})});const un=[],$t=[];for(let Vt=this._namespaceList.length-1;Vt>=0;Vt--)this._namespaceList[Vt].drainQueuedTransitions(t).forEach(dn=>{const Jn=dn.player,Vs=dn.element;if(un.push(Jn),this.collectedEnterElements.length){const Ho=Vs[Ro];if(Ho&&Ho.setForMove){if(Ho.previousTriggersValues&&Ho.previousTriggersValues.has(dn.triggerName)){const $p=Ho.previousTriggersValues.get(dn.triggerName),Ch=this.statesByElement.get(dn.element);Ch&&Ch[dn.triggerName]&&(Ch[dn.triggerName].value=$p)}return void Jn.destroy()}}const rc=!G||!this.driver.containsElement(G,Vs),za=Ht.get(Vs),bh=le.get(Vs),pi=this._buildInstruction(dn,r,bh,za,rc);if(pi.errors&&pi.errors.length)return void $t.push(pi);if(rc)return Jn.onStart(()=>Gu(Vs,pi.fromStyles)),Jn.onDestroy(()=>su(Vs,pi.toStyles)),void o.push(Jn);if(dn.isFallbackTransition)return Jn.onStart(()=>Gu(Vs,pi.fromStyles)),Jn.onDestroy(()=>su(Vs,pi.toStyles)),void o.push(Jn);const Z1=[];pi.timelines.forEach(Ho=>{Ho.stretchStartingKeyframe=!0,this.disabledNodes.has(Ho.element)||Z1.push(Ho)}),pi.timelines=Z1,r.append(Vs,pi.timelines),d.push({instruction:pi,player:Jn,element:Vs}),pi.queriedElements.forEach(Ho=>cs(g,Ho,[]).push(Jn)),pi.preStyleProps.forEach((Ho,$p)=>{const Ch=Object.keys(Ho);if(Ch.length){let Gp=v.get($p);Gp||v.set($p,Gp=new Set),Ch.forEach(rA=>Gp.add(rA))}}),pi.postStyleProps.forEach((Ho,$p)=>{const Ch=Object.keys(Ho);let Gp=S.get($p);Gp||S.set($p,Gp=new Set),Ch.forEach(rA=>Gp.add(rA))})});if($t.length){const Vt=[];$t.forEach(Xt=>{Vt.push(function bl(n,e){return new h.vHH(3505,Nn)}())}),un.forEach(Xt=>Xt.destroy()),this.reportError(Vt)}const hr=new Map,mr=new Map;d.forEach(Vt=>{const Xt=Vt.element;r.has(Xt)&&(mr.set(Xt,Xt),this._beforeAnimationBuild(Vt.player.namespaceId,Vt.instruction,hr))}),o.forEach(Vt=>{const Xt=Vt.element;this._getPreviousPlayers(Xt,!1,Vt.namespaceId,Vt.triggerName,null).forEach(Jn=>{cs(hr,Xt,[]).push(Jn),Jn.destroy()})});const Li=Xe.filter(Vt=>xy(Vt,v,S)),yr=new Map;G0(yr,this.driver,Et,S,go).forEach(Vt=>{xy(Vt,v,S)&&Li.push(Vt)});const yu=new Map;ue.forEach((Vt,Xt)=>{G0(yu,this.driver,new Set(Vt),v,"!")}),Li.forEach(Vt=>{const Xt=yr.get(Vt),dn=yu.get(Vt);yr.set(Vt,Object.assign(Object.assign({},Xt),dn))});const Hp=[],z1=[],W1={};d.forEach(Vt=>{const{element:Xt,player:dn,instruction:Jn}=Vt;if(r.has(Xt)){if(V.has(Xt))return dn.onDestroy(()=>su(Xt,Jn.toStyles)),dn.disabled=!0,dn.overrideTotalTime(Jn.totalTime),void o.push(dn);let Vs=W1;if(mr.size>1){let za=Xt;const bh=[];for(;za=za.parentNode;){const pi=mr.get(za);if(pi){Vs=pi;break}bh.push(za)}bh.forEach(pi=>mr.set(pi,Vs))}const rc=this._buildAnimation(dn.namespaceId,Jn,hr,u,yu,yr);if(dn.setRealPlayer(rc),Vs===W1)Hp.push(dn);else{const za=this.playersByElement.get(Vs);za&&za.length&&(dn.parentPlayer=iu(za)),o.push(dn)}}else Gu(Xt,Jn.fromStyles),dn.onDestroy(()=>su(Xt,Jn.toStyles)),z1.push(dn),V.has(Xt)&&o.push(dn)}),z1.forEach(Vt=>{const Xt=u.get(Vt.element);if(Xt&&Xt.length){const dn=iu(Xt);Vt.setRealPlayer(dn)}}),o.forEach(Vt=>{Vt.parentPlayer?Vt.syncPlayerEvents(Vt.parentPlayer):Vt.destroy()});for(let Vt=0;Vt<Xe.length;Vt++){const Xt=Xe[Vt],dn=Xt[Ro];if(kd(Xt,Od),dn&&dn.hasAnimation)continue;let Jn=[];if(g.size){let rc=g.get(Xt);rc&&rc.length&&Jn.push(...rc);let za=this.driver.query(Xt,Ec,!0);for(let bh=0;bh<za.length;bh++){let pi=g.get(za[bh]);pi&&pi.length&&Jn.push(...pi)}}const Vs=Jn.filter(rc=>!rc.destroyed);Vs.length?KC(this,Xt,Vs):this.processLeaveNode(Xt)}return Xe.length=0,Hp.forEach(Vt=>{this.players.push(Vt),Vt.onDone(()=>{Vt.destroy();const Xt=this.players.indexOf(Vt);this.players.splice(Xt,1)}),Vt.play()}),Hp}elementContainsData(e,t){let r=!1;const o=t[Ro];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,u){let d=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(d=g)}else{const g=this.playersByElement.get(e);if(g){const v=!u||u==Nd;g.forEach(S=>{S.queued||!v&&S.triggerName!=o||d.push(S)})}}return(r||o)&&(d=d.filter(g=>!(r&&r!=g.namespaceId||o&&o!=g.triggerName))),d}_beforeAnimationBuild(e,t,r){const u=t.element,d=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const S=v.element,V=S!==u,G=cs(r,S,[]);this._getPreviousPlayers(S,V,d,g,t.toState).forEach(ue=>{const le=ue.getRealPlayer();le.beforeDestroy&&le.beforeDestroy(),ue.destroy(),G.push(ue)})}Gu(u,t.fromStyles)}_buildAnimation(e,t,r,o,u,d){const g=t.triggerName,v=t.element,S=[],V=new Set,G=new Set,ee=t.timelines.map(le=>{const Ne=le.element;V.add(Ne);const Xe=Ne[Ro];if(Xe&&Xe.removedBeforeQueried)return new Q(le.duration,le.delay);const bt=Ne!==v,Et=function YC(n){const e=[];return mn(n,e),e}((r.get(Ne)||qC).map(hr=>hr.getRealPlayer())).filter(hr=>!!hr.element&&hr.element===Ne),Ht=u.get(Ne),pt=d.get(Ne),un=tg(0,this._normalizer,0,le.keyframes,Ht,pt),$t=this._buildPlayer(le,un,Et);if(le.subTimeline&&o&&G.add(Ne),bt){const hr=new My(e,g,Ne);hr.setRealPlayer($t),S.push(hr)}return $t});S.forEach(le=>{cs(this.playersByQueriedElement,le.element,[]).push(le),le.onDone(()=>function Ra(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,le.element,le))}),V.forEach(le=>Po(le,hs));const ue=iu(ee);return ue.onDestroy(()=>{V.forEach(le=>kd(le,hs)),su(v,t.toStyles)}),G.forEach(le=>{cs(o,le,[]).push(ue)}),ue}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Q(e.duration,e.delay)}}class My{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Q,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Cl(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){cs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function rf(n){return n&&1===n.nodeType}function $0(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function G0(n,e,t,r,o){const u=[];t.forEach(v=>u.push($0(v)));const d=[];r.forEach((v,S)=>{const V={};v.forEach(G=>{const ee=V[G]=e.computeStyle(S,G,o);(!ee||0==ee.length)&&(S[Ro]=Ay,d.push(S))}),n.set(S,V)});let g=0;return t.forEach(v=>$0(v,u[g++])),d}function q0(n,e){const t=new Map;if(n.forEach(g=>t.set(g,[])),0==e.length)return t;const o=new Set(e),u=new Map;function d(g){if(!g)return 1;let v=u.get(g);if(v)return v;const S=g.parentNode;return v=t.has(S)?S:o.has(S)?1:d(S),u.set(g,v),v}return e.forEach(g=>{const v=d(g);1!==v&&t.get(v).push(g)}),t}function Po(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function kd(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function KC(n,e,t){iu(t).onDone(()=>n.processLeaveNode(e))}function mn(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ge?mn(r.players,e):e.push(r)}}function xy(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(u=>o.add(u)):e.set(n,r),t.delete(n),!0}class sf{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new zC(e,t,r),this._timelineEngine=new Cy(e,t,r),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(e,t,r,o,u){const d=e+"-"+o;let g=this._triggerCache[d];if(!g){const v=[],V=fy(this._driver,u,v,[]);if(v.length)throw function m(n,e){return new h.vHH(3404,Nn)}();g=function by(n,e,t){return new V0(n,e,t)}(o,V,this._normalizer),this._triggerCache[d]=g}this._transitionEngine.registerTrigger(t,o,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[u,d]=Bh(r);this._timelineEngine.command(u,t,d,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,u){if("@"==r.charAt(0)){const[d,g]=Bh(r);return this._timelineEngine.listen(d,t,g,u)}return this._transitionEngine.listen(e,t,r,o,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Pa=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&su(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(su(this._element,this._initialStyles),this._endStyles&&(su(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gu(this._element,this._endStyles),this._endStyles=null),su(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function fg(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];QC(o)&&(e=e||{},e[o]=n[o])}return e}function QC(n){return"display"===n||"position"===n}class pg{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:x0(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class zu{validateStyleProperty(e){return ng(e)}matchesElement(e,t){return!1}containsElement(e,t){return T0(e,t)}getParentElement(e){return Hh(e)}query(e,t,r){return I0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,o,u,d=[]){const v={duration:r,delay:o,fill:0==o?"both":"forwards"};u&&(v.easing=u);const S={},V=d.filter(ee=>ee instanceof pg);(function xC(n,e){return 0===n||0===e})(r,o)&&V.forEach(ee=>{let ue=ee.currentSnapshot;Object.keys(ue).forEach(le=>S[le]=ue[le])}),t=function OC(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],d=[];if(r.forEach(g=>{u.hasOwnProperty(g)||d.push(g),u[g]=t[g]}),d.length)for(var o=1;o<e.length;o++){let g=e[o];d.forEach(function(v){g[v]=x0(n,v)})}}return e}(e,t=t.map(ee=>Il(ee,!1)),S);const G=function hg(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=fg(e[0]),e.length>1&&(r=fg(e[e.length-1]))):e&&(t=fg(e)),t||r?new Pa(n,t,r):null}(e,t);return new pg(e,t,v,G)}}let Oy=(()=>{class n extends Oh{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?ku(t):t;return JC(this._renderer,null,r,"register",[o]),new W0(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(b.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class W0 extends class Oo{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ry(this._id,e,t||{},this._renderer)}}class Ry{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return JC(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function JC(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const XC="@.disabled";let gg=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,d)=>{const g=null==d?void 0:d.parentNode(u);g&&d.removeChild(g,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let V=this._rendererCache.get(u);return V||(V=new uf("",u,this.engine),this._rendererCache.set(u,V)),V}const d=r.id,g=r.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const v=V=>{Array.isArray(V)?V.forEach(v):this.engine.registerTrigger(d,g,t,V.name,V)};return r.data.animation.forEach(v),new Py(this,g,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[d,g]=u;d(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(sf),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class uf{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==XC?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Py extends uf{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==XC?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function Ny(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),d="";return"@"!=u.charAt(0)&&([u,d]=function ky(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,o,u,d,g=>{this.factory.scheduleListenerCallback(g._data||-1,r,g)})}return this.delegate.listen(e,t,r)}}let hA=(()=>{class n extends sf{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(b.K0),h.LFG(oy),h.LFG(cg))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Z0=new h.OlP("AnimationModuleType"),K0=[{provide:Oh,useClass:Oy},{provide:cg,useFactory:function eT(){return new N0}},{provide:sf,useClass:hA},{provide:h.FYo,useFactory:function tT(n,e,t){return new gg(n,e,t)},deps:[Je,sf,h.R0b]}],Fy=[{provide:oy,useFactory:()=>new zu},{provide:Z0,useValue:"BrowserAnimations"},...K0],fA=[{provide:oy,useClass:D0},{provide:Z0,useValue:"NoopAnimations"},...K0];let nT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fA:Fy}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Fy,imports:[Ar]}),n})();var Na=k(3809);let Y0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-about"]],decls:137,vars:0,consts:[["name","viewport","content","width=device-width, initial-scale=1, maximum-scale=1"],[1,"resume-wrapper"],[1,"profile","section-padding"],[1,"container"],[1,"picture-resume-wrapper"],[1,"picture-resume"],["src","../../assets/fotoPerfil.jpg","alt",""],["version","1.1","viewBox","0 0 350 350"],["id","goo"],["in","SourceGraphic","stdDeviation","8","result","blur"],["in","blur","mode","matrix","values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -9","result","cm"],[1,"clearfix"],[1,"name-wrapper"],[1,"contact-info","clearfix"],[1,"list-titles"],[1,"list-content"],["href","www.linkedin.com/in/ezequiel-archilla/"],[1,"contact-presentation"],[1,"bold"],[1,"experience","section-padding"],[1,"experience-title"],[1,"experience-wrapper"],[1,"company-wrapper","clearfix"],[1,"time"],[1,"job-wrapper","clearfix"],[1,"company-description"],[1,"section-wrapper","clearfix"],[1,"section-title"]],template:function(t,r){1&t&&(h._UZ(0,"meta",0),h.TgZ(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span"),h._UZ(7,"img",6),h.qZA(),h.O4$(),h.TgZ(8,"svg",7)(9,"defs")(10,"filter",8),h._UZ(11,"feGaussianBlur",9)(12,"feColorMatrix",10),h.qZA()()()(),h.kcU(),h._UZ(13,"div",11),h.qZA(),h.TgZ(14,"div",12)(15,"h1"),h._uU(16,"Ezequiel "),h._UZ(17,"br"),h._uU(18,"Archilla"),h.qZA()(),h._UZ(19,"div",11),h.TgZ(20,"div",13)(21,"ul",14)(22,"li"),h._uU(23,"Telefono"),h.qZA(),h.TgZ(24,"li"),h._uU(25,"Mail"),h.qZA(),h.TgZ(26,"li"),h._uU(27,"LinkedIn"),h.qZA(),h.TgZ(28,"li"),h._uU(29,"Direccion"),h.qZA()(),h.TgZ(30,"ul",15)(31,"li"),h._uU(32,"11 6121 4906"),h.qZA(),h.TgZ(33,"li"),h._uU(34,"ezequiel.a.archilla@gmail.com"),h.qZA(),h.TgZ(35,"li")(36,"a",16),h._uU(37,"@EzequielArchilla"),h.qZA()(),h.TgZ(38,"li"),h._uU(39,"Avellaneda, Buenos Aires"),h.qZA()()(),h.TgZ(40,"div",17)(41,"p")(42,"span",18),h._uU(43,"Juego propio: "),h.qZA(),h._uU(44," Hare un juego utilizando el canva de JS en el cual controlaremos un vehiculo que debe recorrer la mayor distancia posible sin chocar a otros autos que se iran generando aleatoriamente. "),h.qZA()()()(),h.TgZ(45,"section",19)(46,"div",3)(47,"h3",20),h._uU(48,"Experiencia"),h.qZA(),h.TgZ(49,"div",21)(50,"div",22)(51,"div",20),h._uU(52,"Calidra"),h.qZA(),h.TgZ(53,"div",23),h._uU(54,"Feb 2022 - Presente"),h.qZA()(),h.TgZ(55,"div",24)(56,"div",20),h._uU(57,"Analista BI"),h.qZA(),h.TgZ(58,"div",25)(59,"p"),h._uU(60,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce a elit facilisis, adipiscing leo in, dignissim magna."),h.qZA()()(),h.TgZ(61,"div",22)(62,"div",20),h._uU(63,"Accenture"),h.qZA(),h.TgZ(64,"div",23),h._uU(65,"Nov 2010 - Present"),h.qZA()(),h.TgZ(66,"div",24)(67,"div",20),h._uU(68,"Analista de Operaciones IT"),h.qZA(),h.TgZ(69,"div",25)(70,"p")(71,"li"),h._uU(72,"Automatizacion de procesos con C# y Selenium"),h.qZA(),h.TgZ(73,"li"),h._uU(74,"Desarrollo de aplicaciones de escritorio"),h.qZA(),h.TgZ(75,"li"),h._uU(76,"Analisis de datos con Power BI"),h.qZA(),h.TgZ(77,"li"),h._uU(78,"RPA usando Automation Anywhere"),h.qZA()()()(),h.TgZ(79,"div",22)(80,"div",20),h._uU(81,"Martina Di Trento"),h.qZA(),h.TgZ(82,"div",23),h._uU(83,"Sept 2017 - Ene 2020"),h.qZA()(),h.TgZ(84,"div",24)(85,"div",20),h._uU(86,"Tecnologia e infraestructura "),h.qZA(),h.TgZ(87,"div",25)(88,"p")(89,"li"),h._uU(90,"Soporte de aplicaciones/infraestructura"),h.qZA(),h.TgZ(91,"li"),h._uU(92,"Manejo integral de software BI (Microstrategy)"),h.qZA(),h.TgZ(93,"li"),h._uU(94,"Generacion de reportes en bases Relacionales"),h.qZA()()()(),h.TgZ(95,"div",22)(96,"div",20),h._uU(97,"Urbaser Argentina S.A."),h.qZA(),h.TgZ(98,"div",23),h._uU(99,"Abr 2016 - Sept 2017"),h.qZA()(),h.TgZ(100,"div",24)(101,"div",20),h._uU(102,"Responsable de Sistemas "),h.qZA(),h.TgZ(103,"div",25)(104,"p")(105,"li"),h._uU(106,"Mantenimiento de software y hardware"),h.qZA(),h.TgZ(107,"li"),h._uU(108,"Administracion de Windows Server"),h.qZA(),h.TgZ(109,"li"),h._uU(110,"Infraestructura de red"),h.qZA(),h.TgZ(111,"li"),h._uU(112,"Manejo de flota Nextel"),h.qZA(),h.TgZ(113,"li"),h._uU(114,"Incorporacion de nuevas tecnologias"),h.qZA()()()()(),h.TgZ(115,"div",26)(116,"h3",27),h._uU(117,"Skills"),h.qZA(),h.TgZ(118,"ul")(119,"li"),h._uU(120,"Angular"),h.qZA(),h.TgZ(121,"li"),h._uU(122,"React"),h.qZA(),h.TgZ(123,"li"),h._uU(124,"Javascript"),h.qZA(),h.TgZ(125,"li"),h._uU(126,"Power BI"),h.qZA(),h.TgZ(127,"li"),h._uU(128,"MicroStrategy"),h.qZA()()(),h.TgZ(129,"div",26)(130,"h3",27),h._uU(131,"Hobbies"),h.qZA(),h.TgZ(132,"p"),h._uU(133,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce a elit facilisis, adipiscing leo in, dignissim magna."),h.qZA(),h.TgZ(134,"p"),h._uU(135,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce a elit facilisis, adipiscing leo in, dignissim magna."),h.qZA()()()(),h._UZ(136,"div",11),h.qZA())},styles:['@import"https://fonts.googleapis.com/css?family=Varela+Round";@import"https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700";*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:after, *[_ngcontent-%COMP%]:before{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:16px;line-height:1.5em}a[_ngcontent-%COMP%]{color:#1f2523;text-decoration:none}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.bold[_ngcontent-%COMP%]{color:#4a4e51;font-weight:400}.resume-wrapper[_ngcontent-%COMP%]{position:relative;text-align:center;height:100%}.container[_ngcontent-%COMP%]{min-height:600px}.profile[_ngcontent-%COMP%]{background:#fff;width:40%;float:left;color:#202224}@media (max-width: 850px){.profile[_ngcontent-%COMP%]{width:100%}}.profile[_ngcontent-%COMP%]   .name-wrapper[_ngcontent-%COMP%]{float:left;width:60%}.profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;text-align:left;font-family:Varela Round,sans-serif;color:#4a4e51;text-transform:uppercase;line-height:1em;padding-top:40px}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:20px}}@media (max-width: 450px){.profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8em;padding-top:20px}}.profile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.profile[_ngcontent-%COMP%]   .picture-resume-wrapper[_ngcontent-%COMP%]{width:40%;display:block;float:left}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   .picture-resume-wrapper[_ngcontent-%COMP%]{width:100%}}.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]{width:220px;height:220px;background-size:cover;border-radius:50%;margin-right:0;display:table;position:relative;vertical-align:middle}.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;position:relative;margin:0 auto;z-index:10;text-align:center}.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:130px}@media (max-width: 1500px){.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px}}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}}@media (max-width: 1500px){.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]{width:150px;height:150px}}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]{width:200px;height:200px}}@media (max-width: 450px){.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]{width:180px;height:180px}}.profile[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{margin-top:30px;font-weight:300}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{margin-top:70px}}@media (max-width: 450px){.profile[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{margin-top:50px}}.profile[_ngcontent-%COMP%]   .list-titles[_ngcontent-%COMP%]{float:left;text-align:left;font-weight:600;width:40%;color:#4a4e51}.profile[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]{list-style-type:none;float:left;width:60%;text-align:left;font-weight:300}.profile[_ngcontent-%COMP%]   .contact-presentation[_ngcontent-%COMP%]{text-align:left;font-weight:300;margin-top:50px;margin-bottom:50px}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   .contact-presentation[_ngcontent-%COMP%]{margin-top:70px;margin-bottom:70px}}@media (max-width: 850px){.profile[_ngcontent-%COMP%]   .contact-presentation[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:50px}}.profile[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0}.profile[_ngcontent-%COMP%]   .st0[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]   .st1[_ngcontent-%COMP%]{fill:#6c9}.experience[_ngcontent-%COMP%]{background:#3d3e42;width:60%;float:left;position:relative;color:#9099a0;font-weight:300;min-height:100%;min-height:100vh}@media (max-width: 850px){.experience[_ngcontent-%COMP%]{width:100%}}.experience[_ngcontent-%COMP%]   h3.experience-title[_ngcontent-%COMP%]{color:#6c9;text-align:left;text-transform:uppercase;font-size:1.2em;margin-bottom:20px;font-weight:400}.experience[_ngcontent-%COMP%]   .company-wrapper[_ngcontent-%COMP%]{width:30%;float:left;text-align:left;padding-right:5%;margin-bottom:60px}@media (max-width: 450px){.experience[_ngcontent-%COMP%]   .company-wrapper[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}}.experience[_ngcontent-%COMP%]   .job-wrapper[_ngcontent-%COMP%]{width:70%;float:left;text-align:left;padding-right:5%;margin-bottom:60px}@media (max-width: 450px){.experience[_ngcontent-%COMP%]   .job-wrapper[_ngcontent-%COMP%]{width:100%;margin-bottom:40px}}.experience[_ngcontent-%COMP%]   .experience-title[_ngcontent-%COMP%]{color:#fff;margin-bottom:15px}.section-padding[_ngcontent-%COMP%]{padding:60px 60px 40px 40px}@media (max-width: 850px){.section-padding[_ngcontent-%COMP%]{padding:80px 15% 40px 10%}}@media (max-width: 450px){.section-padding[_ngcontent-%COMP%]{padding:40px 10% 20px 5%}}.section-wrapper[_ngcontent-%COMP%]{width:50%;float:left;text-align:left;color:#9099a0;font-weight:300;margin-bottom:20px}@media (max-width: 450px){.section-wrapper[_ngcontent-%COMP%]{width:100%}}.section-wrapper[_ngcontent-%COMP%]:nth-child(3){padding-right:8%}.section-wrapper[_ngcontent-%COMP%]   h3.section-title[_ngcontent-%COMP%]{color:#6c9;text-align:left;text-transform:uppercase;font-size:1.2em;margin-bottom:20px;font-weight:400}']}),n})();var Pt,Ue=k(5861),Ys=k(9681),lf=k(4859),Tc=k(1877),ln=k(2090),pA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Dl={},Q0=Q0||{},vn=pA||self;function Ly(){}function J0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ha(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Uy="closure_uid_"+(1e9*Math.random()>>>0),X0=0;function By(n,e,t){return n.call.apply(n.bind,arguments)}function ew(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Pi(n,e,t){return(Pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?By:ew).apply(null,arguments)}function mg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Lr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[o].apply(r,d)}}function Wu(){this.s=this.s,this.o=this.o}var jy={};Wu.prototype.s=!1,Wu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Vy(n){return Object.prototype.hasOwnProperty.call(n,Uy)&&n[Uy]||(n[Uy]=++X0)}(this);delete jy[n]}},Wu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Hy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function nw(n){return Array.prototype.concat.apply([],arguments)}function Ic(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Zu(n){return/^[\s\xa0]*$/.test(n)}var bi,yg=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ei(n,e){return-1!=n.indexOf(e)}function Dc(n,e){return n<e?-1:n>e?1:0}e:{var rw=vn.navigator;if(rw){var $y=rw.userAgent;if($y){bi=$y;break e}}bi=""}function _g(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function vg(n){const e={};for(const t in n)e[t]=n[t];return e}var wg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gy(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<wg.length;u++)t=wg[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Fd(n){return Fd[" "](n),n}Fd[" "]=Ly;var bg,n,iw=Ei(bi,"Opera"),cf=Ei(bi,"Trident")||Ei(bi,"MSIE"),qy=Ei(bi,"Edge"),Eg=qy||cf,sw=Ei(bi,"Gecko")&&!(Ei(bi.toLowerCase(),"webkit")&&!Ei(bi,"Edge"))&&!(Ei(bi,"Trident")||Ei(bi,"MSIE"))&&!Ei(bi,"Edge"),ow=Ei(bi.toLowerCase(),"webkit")&&!Ei(bi,"Edge");function aw(){var n=vn.document;return n?n.documentMode:void 0}e:{var Qs="",zy=(n=bi,sw?/rv:([^\);]+)(\)|;)/.exec(n):qy?/Edge\/([\d\.]+)/.exec(n):cf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ow?/WebKit\/(\S+)/.exec(n):iw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zy&&(Qs=zy?zy[1]:""),cf){var Wy=aw();if(null!=Wy&&Wy>parseFloat(Qs)){bg=String(Wy);break e}}bg=Qs}var gA={};var aT=vn.document&&cf&&(aw()||parseInt(bg,10))||void 0,Zy=function(){if(!vn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vn.addEventListener("test",Ly,e),vn.removeEventListener("test",Ly,e)}catch(t){}return n}();function fs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function df(n,e){if(fs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(sw){e:{try{Fd(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&df.Z.h.call(this)}}fs.prototype.h=function(){this.defaultPrevented=!0},Lr(df,fs);var uT={2:"touch",3:"pen",4:"mouse"};df.prototype.h=function(){df.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hf="closure_listenable_"+(1e6*Math.random()|0),uw=0;function lT(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++uw,this.ca=this.fa=!1}function ff(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Tg(n){this.src=n,this.g={},this.h=0}function Ky(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=tw(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(ff(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ig(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Tg.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Ig(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new lT(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var Dg="closure_lm_"+(1e6*Math.random()|0),Yy={};function ka(n,e,t,r,o){if(r&&r.once)return lw(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)ka(n,e[u],t,r,o);return null}return t=Jy(t),n&&n[hf]?n.N(e,t,ha(r)?!!r.capture:!!r,o):Ag(n,e,t,!1,r,o)}function Ag(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=ha(o)?!!o.capture:!!o,g=Qy(n);if(g||(n[Dg]=g=new Tg(n)),(t=g.add(e,t,r,d,u)).proxy)return t;if(r=function cT(){var e=hT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Zy||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(cw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function lw(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)lw(n,e[u],t,r,o);return null}return t=Jy(t),n&&n[hf]?n.O(e,t,ha(r)?!!r.capture:!!r,o):Ag(n,e,t,!0,r,o)}function dT(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)dT(n,e[u],t,r,o);else r=ha(r)?!!r.capture:!!r,t=Jy(t),n&&n[hf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ig(u=n.g[e],t,r,o))&&(ff(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Qy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ig(e,t,r,o)),(t=-1<n?e[n]:null)&&Sg(t))}function Sg(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[hf])Ky(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(cw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Qy(e))?(Ky(t,n),0==t.h&&(t.src=null,e[Dg]=null)):ff(n)}}}function cw(n){return n in Yy?Yy[n]:Yy[n]="on"+n}function hT(n,e){if(n.ca)n=!0;else{e=new df(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Sg(n),n=t.call(r,e)}return n}function Qy(n){return(n=n[Dg])instanceof Tg?n:null}var pf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jy(n){return"function"==typeof n?n:(n[pf]||(n[pf]=function(e){return n.handleEvent(e)}),n[pf])}function Qi(){Wu.call(this),this.i=new Tg(this),this.P=this,this.I=null}function Ci(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new fs(e,n);else if(e instanceof fs)e.target=e.target||n;else{var o=e;Gy(e=new fs(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=Ld(d,r,!0,e)&&o}if(o=Ld(d=e.g=n,r,!0,e)&&o,o=Ld(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Ld(d=e.g=t[u],r,!1,e)&&o}function Ld(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var g=d.listener,v=d.ia||d.src;d.fa&&Ky(n.i,d),o=!1!==g.call(v,r)&&o}}return o&&!r.defaultPrevented}Lr(Qi,Wu),Qi.prototype[hf]=!0,Qi.prototype.removeEventListener=function(n,e,t,r){dT(this,n,e,t,r)},Qi.prototype.M=function(){if(Qi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ff(t[r]);delete n.g[e],n.h--}}this.I=null},Qi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Xy=vn.JSON.stringify;function e_(){var n=r_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dw,n_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fT,n=>n.reset());class fT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pT(n){vn.setTimeout(()=>{throw n},0)}function gf(n,e){dw||function gT(){var n=vn.Promise.resolve(void 0);dw=function(){n.then(hw)}}(),Mg||(dw(),Mg=!0),r_.add(n,e)}var Mg=!1,r_=new class t_{constructor(){this.h=this.g=null}add(e,t){const r=n_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function hw(){for(var n;n=e_();){try{n.h.call(n.g)}catch(t){pT(t)}var e=n_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Mg=!1}function mf(n,e){Qi.call(this),this.h=n||1,this.g=e||vn,this.j=Pi(this.kb,this),this.l=Date.now()}function xg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Fa(n,e,t){if("function"==typeof n)t&&(n=Pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:vn.setTimeout(n,e||0)}function yf(n){n.g=Fa(()=>{n.g=null,n.i&&(n.i=!1,yf(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Lr(mf,Qi),(Pt=mf.prototype).da=!1,Pt.S=null,Pt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ci(this,"tick"),this.da&&(xg(this),this.start()))}},Pt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pt.M=function(){mf.Z.M.call(this),xg(this),delete this.g};class mT extends Wu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yf(this)}M(){super.M(),this.g&&(vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _f(n){Wu.call(this),this.h=n,this.g={}}Lr(_f,Wu);var yT=[];function Og(n,e,t,r){Array.isArray(t)||(t&&(yT[0]=t.toString()),t=yT);for(var o=0;o<t.length;o++){var u=ka(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function i_(n){_g(n.g,function(e,t){this.g.hasOwnProperty(t)&&Sg(e)},n),n.g={}}function Vd(){this.g=!0}function Al(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return Xy(t)}catch(g){return e}}(n,t)+(r?" "+r:"")})}_f.prototype.M=function(){_f.Z.M.call(this),i_(this)},_f.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vd.prototype.Aa=function(){this.g=!1},Vd.prototype.info=function(){};var Sl={},gw=null;function Ud(){return gw=gw||new Qi}function mw(n){fs.call(this,Sl.Ma,n)}function wf(n){const e=Ud();Ci(e,new mw(e,n))}function s_(n,e){fs.call(this,Sl.STAT_EVENT,n),this.stat=e}function Ti(n){const e=Ud();Ci(e,new s_(e,n))}function o_(n,e){fs.call(this,Sl.Na,n),this.size=e}function Ef(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vn.setTimeout(function(){n()},e)}Sl.Ma="serverreachability",Lr(mw,fs),Sl.STAT_EVENT="statevent",Lr(s_,fs),Sl.Na="timingevent",Lr(o_,fs);var Rg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ac={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function a_(){}function _w(){}a_.prototype.h=null;var Pg,bf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function No(){fs.call(this,"d")}function Cf(){fs.call(this,"c")}function Tf(){}function Bd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new _f(this),this.P=vT,this.W=new mf(n=Eg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new u_}function u_(){this.i=null,this.g="",this.h=!1}Lr(No,fs),Lr(Cf,fs),Lr(Tf,a_),Tf.prototype.g=function(){return new XMLHttpRequest},Tf.prototype.i=function(){return{}},Pg=new Tf;var vT=45e3,l_={},Ng={};function c_(n,e,t){n.K=1,n.v=Fg(Ku(e)),n.s=t,n.U=!0,d_(n,null)}function d_(n,e){n.F=Date.now(),If(n),n.A=Ku(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ps(t.h,"t",r),n.C=0,t=n.l.H,n.h=new u_,n.g=C_(n.l,t?e:null,!n.s),0<n.O&&(n.L=new mT(Pi(n.Ia,n,n.g),n.O)),Og(n.V,n.g,"readystatechange",n.gb),e=n.H?vg(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),wf(1),function vf(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",g=u.split("&"),v=0;v<g.length;v++){var S=g[v].split("=");if(1<S.length){var V=S[0];S=S[1];var G=V.split("_");d=2<=G.length&&"type"==G[1]?d+(V+"=")+S+"&":d+(V+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function wT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function h_(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=ET(n,t),o==Ng){4==e&&(n.o=4,Ti(14),r=!1),Al(n.j,n.m,null,"[Incomplete Response]");break}if(o==l_){n.o=4,Ti(15),Al(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Al(n.j,n.m,o,null),kg(n,o)}wT(n)&&o!=Ng&&o!=l_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ti(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Yd(e),e.L=!0,Ti(11))):(Al(n.j,n.m,t,"[Invalid Chunked Response]"),Mc(n),Sc(n))}function ET(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ng:(t=Number(e.substring(t,r)),isNaN(t)?l_:(r+=1)+t>e.length?Ng:(e=e.substr(r,t),n.C=r+t,e))}function If(n){n.Y=Date.now()+n.P,bT(n,n.P)}function bT(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ef(Pi(n.eb,n),e)}function f_(n){n.B&&(vn.clearTimeout(n.B),n.B=null)}function Sc(n){0==n.l.G||n.I||kw(n.l,n)}function Mc(n){f_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,xg(n.W),i_(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function kg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||xl(t.i,n)))if(t.I=n.N,!n.J&&xl(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(S){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ef(Pi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Lf(t),w_(t)}Hg(t),Ti(18)}if(1>=Oc(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else kc(t,11)}else if((n.J||t.g==n)&&Lf(t),!Zu(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let S=o[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const V=S[3];null!=V&&(t.ma=V,t.h.info("VER="+t.ma));const G=S[4];null!=G&&(t.za=G,t.h.info("SVER="+t.za));const ee=S[5];null!=ee&&"number"==typeof ee&&0<ee&&(t.K=r=1.5*ee,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ue=n.g;if(ue){const le=ue.g?ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(le){var u=r.i;!u.g&&(Ei(le,"spdy")||Ei(le,"quic")||Ei(le,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Ol(u,u.h),u.h=null))}if(r.D){const Ne=ue.g?ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(r.sa=Ne,Cr(r.F,r.D,Ne))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=Vw(r,r.H?r.la:null,r.W),d.J){Rc(r.i,d);var g=d,v=r.K;v&&g.setTimeout(v),g.B&&(f_(g),If(g)),r.g=d}else Pw(r);0<t.l.length&&E_(t)}else"stop"!=S[0]&&"close"!=S[0]||kc(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?kc(t,7):Ow(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}wf(4)}catch(S){}}function ww(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(J0(n)||"string"==typeof n)Hy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(J0(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function vw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(J0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function Rs(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Rs)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Ew(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];jd(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)jd(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function jd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Pt=Bd.prototype).setTimeout=function(n){this.P=n},Pt.gb=function(n){n=n.target;const e=this.L;e&&3==Pl(n)?e.l():this.Ia(n)},Pt.Ia=function(n){try{if(n==this.g)e:{const V=Pl(this.g);var e=this.g.Da();const G=this.g.ba();if(!(3>V)&&(3!=V||Eg||this.g&&(this.h.h||this.g.ga()||xw(this.g)))){this.I||4!=V||7==e||wf(8==e||0>=G?3:2),f_(this);var t=this.g.ba();this.N=t;t:if(wT(this)){var r=xw(this.g);n="";var o=r.length,u=4==Pl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Mc(this),Sc(this);var d="";break t}this.h.i=new vn.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function _T(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,V,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zu(g)){var S=g;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Ti(12),Mc(this),Sc(this);break e}Al(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kg(this,t)}this.U?(h_(this,V,d),Eg&&this.i&&3==V&&(Og(this.V,this.W,"tick",this.fb),this.W.start())):(Al(this.j,this.m,d,null),kg(this,d)),4==V&&Mc(this),this.i&&!this.I&&(4==V?kw(this.l,this):(this.i=!1,If(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ti(12)):(this.o=0,Ti(13)),Mc(this),Sc(this)}}}catch(V){}},Pt.fb=function(){if(this.g){var n=Pl(this.g),e=this.g.ga();this.C<e.length&&(f_(this),h_(this,n,e),this.i&&4!=n&&If(this))}},Pt.cancel=function(){this.I=!0,Mc(this)},Pt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function fw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wf(3),Ti(17)),Mc(this),this.o=2,Sc(this)):bT(this,this.Y-n)},(Pt=Rs.prototype).R=function(){Ew(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Pt.T=function(){return Ew(this),this.g.concat()},Pt.get=function(n,e){return jd(this.h,n)?this.h[n]:e},Pt.set=function(n,e){jd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Pt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var p_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ml(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ml){this.g=void 0!==e?e:n.g,g_(this,n.j),this.s=n.s,Df(this,n.i),Hd(this,n.m),this.l=n.l,e=n.h;var t=new Of;t.i=e.i,e.g&&(t.g=new Rs(e.g),t.h=e.h),Cw(this,t),this.o=n.o}else n&&(t=String(n).match(p_))?(this.g=!!e,g_(this,t[1]||"",!0),this.s=Af(t[2]||""),Df(this,t[3]||"",!0),Hd(this,t[4]),this.l=Af(t[5]||"",!0),Cw(this,t[6]||"",!0),this.o=Af(t[7]||"")):(this.g=!!e,this.h=new Of(null,this.g))}function Ku(n){return new Ml(n)}function g_(n,e,t){n.j=t?Af(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Df(n,e,t){n.i=t?Af(e,!0):e}function Hd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Cw(n,e,t){e instanceof Of?(n.h=e,function Lg(n,e){e&&!n.j&&(au(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(La(this,r),ps(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Sf(e,xf)),n.h=new Of(e,n.g))}function Cr(n,e,t){n.h.set(e,t)}function Fg(n){return Cr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Af(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,IT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function IT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ml.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sf(e,Mf,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sf(e,Mf,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sf(t,"/"==t.charAt(0)?DT:$d,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sf(t,AT)),n.join("")};var Mf=/[#\/\?@]/g,$d=/[#\?:]/g,DT=/[#\?]/g,xf=/[#\?@]/g,AT=/#/g;function Of(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function au(n){n.g||(n.g=new Rs,n.h=0,n.i&&function bw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function La(n,e){au(n),e=fa(n,e),jd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,jd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Ew(n)))}function Gd(n,e){return au(n),e=fa(n,e),jd(n.g.h,e)}function ps(n,e,t){La(n,e),0<t.length&&(n.i=null,n.g.set(fa(n,e),Ic(t)),n.h+=t.length)}function fa(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Vg(n){this.l=n||qd,n=vn.PerformanceNavigationTiming?0<(n=vn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vn.g&&vn.g.Ea&&vn.g.Ea()&&vn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Pt=Of.prototype).add=function(n,e){au(this),this.i=null,n=fa(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Pt.forEach=function(n,e){au(this),this.g.forEach(function(t,r){Hy(t,function(o){n.call(e,o,r,this)},this)},this)},Pt.T=function(){au(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},Pt.R=function(n){au(this);var e=[];if("string"==typeof n)Gd(this,n)&&(e=nw(e,this.g.get(fa(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=nw(e,n[t])}return e},Pt.set=function(n,e){return au(this),this.i=null,Gd(this,n=fa(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Pt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=o;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var qd=10;function xc(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Oc(n){return n.h?1:n.g?n.g.size:0}function xl(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ol(n,e){n.g?n.g.add(e):n.h=e}function Rc(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Pc(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ic(n.i)}function Rl(){}function zd(){this.g=new Rl}function Tw(n,e,t){const r=t||"";try{ww(n,function(o,u){let d=o;ha(o)&&(d=Xy(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Rf(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function Wd(n){this.l=n.$b||null,this.j=n.ib||!1}function Pf(n,e){Qi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vg.prototype.cancel=function(){if(this.i=Pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Rl.prototype.stringify=function(n){return vn.JSON.stringify(n,void 0)},Rl.prototype.parse=function(n){return vn.JSON.parse(n,void 0)},Lr(Wd,a_),Wd.prototype.g=function(){return new Pf(this.l,this.j)},Wd.prototype.i=function(n){return function(){return n}}({}),Lr(Pf,Qi);var Ug=0;function m_(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Zd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kd(n)}function Kd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Pt=Pf.prototype).open=function(n,e){if(this.readyState!=Ug)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Kd(this)},Pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zd(this)),this.readyState=Ug},Pt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kd(this)),this.g&&(this.readyState=3,Kd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m_(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Pt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zd(this):Kd(this),3==this.readyState&&m_(this)}},Pt.Ua=function(n){this.g&&(this.response=this.responseText=n,Zd(this))},Pt.Ta=function(n){this.g&&(this.response=n,Zd(this))},Pt.ha=function(){this.g&&Zd(this)},Pt.setRequestHeader=function(n,e){this.v.append(n,e)},Pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Pf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ST=vn.JSON.parse;function hi(n){Qi.call(this),this.headers=new Rs,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dw,this.K=this.L=!1}Lr(hi,Qi);var Dw="",MT=/^https?$/i,Aw=["POST","PUT"];function OT(n){return"content-type"==n.toLowerCase()}function y_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Sw(n),Bg(n)}function Sw(n){n.D||(n.D=!0,Ci(n,"complete"),Ci(n,"error"))}function __(n){if(n.h&&void 0!==Q0&&(!n.C[1]||4!=Pl(n)||2!=n.ba()))if(n.v&&4==Pl(n))Fa(n.Fa,0,n);else if(Ci(n,"readystatechange"),4==Pl(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(p_)[1]||null;if(!o&&vn.self&&vn.self.location){var u=vn.self.location.protocol;o=u.substr(0,u.length-1)}r=!MT.test(o?o.toLowerCase():"")}t=r}if(t)Ci(n,"complete"),Ci(n,"success");else{n.m=6;try{var d=2<Pl(n)?n.g.statusText:""}catch(v){d=""}n.j=d+" ["+n.ba()+"]",Sw(n)}}finally{Bg(n)}}}function Bg(n,e){if(n.g){Mw(n);const t=n.g,r=n.C[0]?Ly:null;n.g=null,n.C=null,e||Ci(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function Mw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vn.clearTimeout(n.A),n.A=null)}function Pl(n){return n.g?n.g.readyState:0}function xw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Dw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Nf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function v_(n){let e="";return _g(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Cr(n,e,t))}function kf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function RT(n){this.za=0,this.l=[],this.h=new Vd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kf("baseRetryDelayMs",5e3,n),this.$a=kf("retryDelaySeedMs",1e4,n),this.Ya=kf("forwardChannelMaxRetries",2,n),this.ra=kf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Vg(n&&n.concurrentRequestLimit),this.Ca=new zd,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Ow(n){if(Rw(n),3==n.G){var e=n.V++,t=Ku(n.F);Cr(t,"SID",n.J),Cr(t,"RID",e),Cr(t,"TYPE","terminate"),Ff(n,t),(e=new Bd(n,n.h,e,void 0)).K=2,e.v=Fg(Ku(t)),t=!1,vn.navigator&&vn.navigator.sendBeacon&&(t=vn.navigator.sendBeacon(e.v.toString(),"")),!t&&vn.Image&&((new Image).src=e.v,t=!0),t||(e.g=C_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),If(e)}Lw(n)}function w_(n){n.g&&(Yd(n),n.g.cancel(),n.g=null)}function Rw(n){w_(n),n.u&&(vn.clearTimeout(n.u),n.u=null),Lf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vn.clearTimeout(n.m),n.m=null)}function jg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&E_(n)}function E_(n){xc(n.i)||n.m||(n.m=!0,gf(n.Ha,n),n.C=0)}function Nc(n,e){var t;t=e?e.m:n.V++;const r=Ku(n.F);Cr(r,"SID",n.J),Cr(r,"RID",t),Cr(r,"AID",n.U),Ff(n,r),n.o&&n.s&&Nf(r,n.o,n.s),t=new Bd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=b_(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Ol(n.i,t),c_(t,r,e)}function Ff(n,e){n.j&&ww({},function(t,r){Cr(e,r,t)})}function b_(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Pi(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let g=!0;for(let v=0;v<t;v++){let S=o[v].h;const V=o[v].g;if(S-=u,0>S)u=Math.max(0,o[v].h-100),g=!1;else try{Tw(V,d,"req"+S+"_")}catch(G){r&&r(V)}}if(g){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Pw(n){n.g||n.u||(n.Y=1,gf(n.Ga,n),n.A=0)}function Hg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ef(Pi(n.Ga,n),Fw(n,n.A)),n.A++,0))}function Yd(n){null!=n.B&&(vn.clearTimeout(n.B),n.B=null)}function Nw(n){n.g=new Bd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ku(n.oa);Cr(e,"RID","rpc"),Cr(e,"SID",n.J),Cr(e,"CI",n.N?"0":"1"),Cr(e,"AID",n.U),Ff(n,e),Cr(e,"TYPE","xmlhttp"),n.o&&n.s&&Nf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Fg(Ku(e)),t.s=null,t.U=!0,d_(t,n)}function Lf(n){null!=n.v&&(vn.clearTimeout(n.v),n.v=null)}function kw(n,e){var t=null;if(n.g==e){Lf(n),Yd(n),n.g=null;var r=2}else{if(!xl(n.i,e))return;t=e.D,Rc(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Ci(r=Ud(),new o_(r,t,e,o)),E_(n)}else Pw(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function PT(n,e){return!(Oc(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ef(Pi(n.Ha,n,e),Fw(n,n.C)),n.C++,0)))}(n,e)||2==r&&Hg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:kc(n,5);break;case 4:kc(n,10);break;case 3:kc(n,6);break;default:kc(n,2)}}function Fw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function kc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Pi(n.jb,n);t||(t=new Ml("//www.google.com/images/cleardot.gif"),vn.location&&"http"==vn.location.protocol||g_(t,"https"),Fg(t)),function Iw(n,e){const t=new Vd;if(vn.Image){const r=new Image;r.onload=mg(Rf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mg(Rf,t,r,"TestLoadImage: error",!1,e),r.onabort=mg(Rf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mg(Rf,t,r,"TestLoadImage: timeout",!1,e),vn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ti(2);n.G=0,n.j&&n.j.va(e),Lw(n),Rw(n)}function Lw(n){n.G=0,n.I=-1,n.j&&((0!=Pc(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ic(n.l),n.l.length=0),n.j.ua())}function Vw(n,e,t){let r=function CT(n){return n instanceof Ml?Ku(n):new Ml(n,void 0)}(t);if(""!=r.i)e&&Df(r,e+"."+r.i),Hd(r,r.m);else{const o=vn.location;r=function TT(n,e,t,r){var o=new Ml(null,void 0);return n&&g_(o,n),e&&Df(o,e),t&&Hd(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&_g(n.aa,function(o,u){Cr(r,u,o)}),t=n.sa,(e=n.D)&&t&&Cr(r,e,t),Cr(r,"VER",n.ma),Ff(n,r),r}function C_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hi(t&&n.Ba&&!n.qa?new Wd({ib:!0}):n.qa)).L=n.H,e}function Uw(){}function Vf(){if(cf&&!(10<=Number(aT)))throw Error("Environmental error: no available transport.")}function yo(n,e){Qi.call(this),this.g=new RT(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Zu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zu(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Nl(this)}function $g(n){No.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function NT(){Cf.call(this),this.status=1}function Nl(n){this.g=n}(Pt=hi.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pg.g(),this.C=function yw(n){return n.h||(n.h=n.i())}(this.u?this.u:Pg),this.g.onreadystatechange=Pi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void y_(this,u)}n=t||"";const o=new Rs(this.headers);r&&ww(r,function(u,d){o.set(d,u)}),r=function iT(n){e:{var e=OT;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=vn.FormData&&n instanceof vn.FormData,!(0<=tw(Aw,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mw(this),0<this.B&&((this.K=function xT(n){return cf&&function mA(){return function sT(n){var e=gA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=yg(String(bg)).split("."),t=yg("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=Dc(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||Dc(0==o[2].length,0==u[2].length)||Dc(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pi(this.pa,this)):this.A=Fa(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){y_(this,u)}},Pt.pa=function(){void 0!==Q0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ci(this,"timeout"),this.abort(8))},Pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ci(this,"complete"),Ci(this,"abort"),Bg(this))},Pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bg(this,!0)),hi.Z.M.call(this)},Pt.Fa=function(){this.s||(this.F||this.v||this.l?__(this):this.cb())},Pt.cb=function(){__(this)},Pt.ba=function(){try{return 2<Pl(this)?this.g.status:-1}catch(n){return-1}},Pt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Pt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ST(e)}},Pt.Da=function(){return this.m},Pt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pt=RT.prototype).ma=8,Pt.G=1,Pt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Pt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Bd(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=vg(u),Gy(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=b_(this,o,e),Cr(t=Ku(this.F),"RID",n),Cr(t,"CVER",22),this.D&&Cr(t,"X-HTTP-Session-Id",this.D),Ff(this,t),this.o&&u&&Nf(t,this.o,u),Ol(this.i,o),this.Ra&&Cr(t,"TYPE","init"),this.ja?(Cr(t,"$req",e),Cr(t,"SID","null"),o.$=!0,c_(o,t,null)):c_(o,t,e),this.G=2}}else 3==this.G&&(n?Nc(this,n):0==this.l.length||xc(this.i)||Nc(this))},Pt.Ga=function(){if(this.u=null,Nw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ef(Pi(this.bb,this),n)}},Pt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ti(10),w_(this),Nw(this))},Pt.ab=function(){null!=this.v&&(this.v=null,w_(this),Hg(this),Ti(19))},Pt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ti(2)):(this.h.info("Failed to ping google.com"),Ti(1))},(Pt=Uw.prototype).xa=function(){},Pt.wa=function(){},Pt.va=function(){},Pt.ua=function(){},Pt.Oa=function(){},Vf.prototype.g=function(n,e){return new yo(n,e)},Lr(yo,Qi),yo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),gf(Pi(n.hb,n,e))),Ti(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Vw(n,null,n.W),E_(n)},yo.prototype.close=function(){Ow(this.g)},yo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,jg(this.g,e)}else this.v?((e={}).__data__=Xy(n),jg(this.g,e)):jg(this.g,n)},yo.prototype.M=function(){this.g.j=null,delete this.j,Ow(this.g),delete this.g,yo.Z.M.call(this)},Lr($g,No),Lr(NT,Cf),Lr(Nl,Uw),Nl.prototype.xa=function(){Ci(this.g,"a")},Nl.prototype.wa=function(n){Ci(this.g,new $g(n))},Nl.prototype.va=function(n){Ci(this.g,new NT(n))},Nl.prototype.ua=function(){Ci(this.g,"b")},Vf.prototype.createWebChannel=Vf.prototype.g,yo.prototype.send=yo.prototype.u,yo.prototype.open=yo.prototype.m,yo.prototype.close=yo.prototype.close,Rg.NO_ERROR=0,Rg.TIMEOUT=8,Rg.HTTP_ERROR=6,Ac.COMPLETE="complete",_w.EventType=bf,bf.OPEN="a",bf.CLOSE="b",bf.ERROR="c",bf.MESSAGE="d",Qi.prototype.listen=Qi.prototype.N,hi.prototype.listenOnce=hi.prototype.O,hi.prototype.getLastError=hi.prototype.La,hi.prototype.getLastErrorCode=hi.prototype.Da,hi.prototype.getStatus=hi.prototype.ba,hi.prototype.getResponseJson=hi.prototype.Qa,hi.prototype.getResponseText=hi.prototype.ga,hi.prototype.send=hi.prototype.ea;var kT=Dl.createWebChannelTransport=function(){return new Vf},yA=Dl.getStatEventTarget=function(){return Ud()},Fc=Dl.ErrorCode=Rg,Bw=Dl.EventType=Ac,T_=Dl.Event=Sl,Gg=Dl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},FT=Dl.FetchXmlHttpFactory=Wd,Lc=Dl.WebChannel=_w,qg=Dl.XhrIo=hi;const zg="@firebase/firestore";class Ps{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ps.UNAUTHENTICATED=new Ps(null),Ps.GOOGLE_CREDENTIALS=new Ps("google-credentials-uid"),Ps.FIRST_PARTY=new Ps("first-party-uid"),Ps.MOCK_USER=new Ps("mock-user");let Qd="9.6.10";const Va=new Tc.Yd("@firebase/firestore");function Jd(){return Va.logLevel}function nt(n,...e){if(Va.logLevel<=Tc.in.DEBUG){const t=e.map(Wg);Va.debug(`Firestore (${Qd}): ${n}`,...t)}}function ti(n,...e){if(Va.logLevel<=Tc.in.ERROR){const t=e.map(Wg);Va.error(`Firestore (${Qd}): ${n}`,...t)}}function Xd(n,...e){if(Va.logLevel<=Tc.in.WARN){const t=e.map(Wg);Va.warn(`Firestore (${Qd}): ${n}`,...t)}}function Wg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function At(n="Unexpected state"){const e=`FIRESTORE (${Qd}) INTERNAL ASSERTION FAILED: `+n;throw ti(e),new Error(e)}function an(n,e){n||At()}function wt(n,e){return n}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends ln.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Hw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ps.UNAUTHENTICATED))}shutdown(){}}class UT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $w{constructor(e){this.t=e,this.currentUser=Ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=S=>this.i!==o?(o=this.i,t(S)):Promise.resolve();let d=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Ni,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const S=d;e.enqueueRetryable((0,Ue.Z)(function*(){yield S.promise,yield u(r.currentUser)}))},v=S=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(S=>v(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?v(S):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Ni)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(an("string"==typeof r.accessToken),new Hw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return an(null===e||"string"==typeof e),new Ps(e)}}class I_{constructor(e,t,r){this.type="FirstParty",this.user=Ps.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Gw{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new I_(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qw{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(an("string"==typeof t.token),this.p=t.token,new D_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class _o{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function zw(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}_o.A=-1;class A_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=zw(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function An(n,e){return n<e?-1:n>e?1:0}function Uf(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Ww(n){return n+"\0"}class fi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fi.fromMillis(Date.now())}static fromDate(e){return fi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new fi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?An(this.nanoseconds,e.nanoseconds):An(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new fi(0,0))}static max(){return new Jt(new fi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Zw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Nr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function S_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Bf{constructor(e,t,r){void 0===t?t=0:t>e.length&&At(),void 0===r?r=e.length-t:r>e.length-t&&At(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Bf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Hn extends Bf{construct(e,t,r){return new Hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe(Re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const Kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ji extends Bf{construct(e,t,r){return new Ji(e,t,r)}static isValidIdentifier(e){return Kw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ji.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ji(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Qe(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new Qe(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Qe(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===g?(d=!d,o++):"."!==g||d?(r+=g,o++):(u(),o++)}if(u(),d)throw new Qe(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ji(t)}static emptyPath(){return new Ji([])}}class Vc{constructor(e){this.fields=e,e.sort(Ji.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return An(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const jT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kl(n){if(an(!!n),"string"==typeof n){let e=0;const t=jT.exec(n);if(an(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qr(n.seconds),nanos:qr(n.nanos)}}function qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Uc(n){return"string"==typeof n?Vr.fromBase64String(n):Vr.fromUint8Array(n)}function Zg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function HT(n){const e=n.mapValue.fields.__previous_value__;return Zg(e)?HT(e):e}function Bc(n){const e=kl(n.mapValue.fields.__local_write_time__.timestampValue);return new fi(e.seconds,e.nanos)}class M_{constructor(e,t,r,o,u,d,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=v}}class Xi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xi&&e.projectId===this.projectId&&e.database===this.database}}function jc(n){return null==n}function eh(n){return 0===n&&1/n==-1/0}function Ua(n){return"number"==typeof n&&Number.isInteger(n)&&!eh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class it{constructor(e){this.path=e}static fromPath(e){return new it(Hn.fromString(e))}static fromName(e){return new it(Hn.fromString(e).popFirst(5))}static empty(){return new it(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new Hn(e.slice()))}}const ga={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},x_={nullValue:"NULL_VALUE"};function Fl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zg(n)?4:P_(n)?9:10:At()}function uu(n,e){if(n===e)return!0;const t=Fl(n);if(t!==Fl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bc(n).isEqual(Bc(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=kl(r.timestampValue),d=kl(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Uc(n.bytesValue).isEqual(Uc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return qr(r.geoPointValue.latitude)===qr(o.geoPointValue.latitude)&&qr(r.geoPointValue.longitude)===qr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return qr(r.integerValue)===qr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=qr(r.doubleValue),d=qr(o.doubleValue);return u===d?eh(u)===eh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Uf(n.arrayValue.values||[],e.arrayValue.values||[],uu);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(Zw(u)!==Zw(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===d[g]||!uu(u[g],d[g])))return!1;return!0}(n,e);default:return At()}var o}function jf(n,e){return void 0!==(n.values||[]).find(t=>uu(t,e))}function Ll(n,e){if(n===e)return 0;const t=Fl(n),r=Fl(e);if(t!==r)return An(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return An(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=qr(o.integerValue||o.doubleValue),g=qr(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return Qw(n.timestampValue,e.timestampValue);case 4:return Qw(Bc(n),Bc(e));case 5:return An(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Uc(o),g=Uc(u);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),g=u.split("/");for(let v=0;v<d.length&&v<g.length;v++){const S=An(d[v],g[v]);if(0!==S)return S}return An(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=An(qr(o.latitude),qr(u.latitude));return 0!==d?d:An(qr(o.longitude),qr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],g=u.values||[];for(let v=0;v<d.length&&v<g.length;++v){const S=Ll(d[v],g[v]);if(S)return S}return An(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const d=o.fields||{},g=Object.keys(d),v=u.fields||{},S=Object.keys(v);g.sort(),S.sort();for(let V=0;V<g.length&&V<S.length;++V){const G=An(g[V],S[V]);if(0!==G)return G;const ee=Ll(d[g[V]],v[S[V]]);if(0!==ee)return ee}return An(g.length,S.length)}(n.mapValue,e.mapValue);default:throw At()}}function Qw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return An(n,e);const t=kl(n),r=kl(e),o=An(t.seconds,r.seconds);return 0!==o?o:An(t.nanos,r.nanos)}function Vl(n){return Hc(n)}function Hc(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=kl(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Uc(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=Hc(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const g of o)d?d=!1:u+=",",u+=`${g}:${Hc(r.fields[g])}`;return u+"}"}(n.mapValue):At();var e}function th(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kg(n){return!!n&&"integerValue"in n}function Hf(n){return!!n&&"arrayValue"in n}function O_(n){return!!n&&"nullValue"in n}function R_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $c(n){return!!n&&"mapValue"in n}function $f(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Nr(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$f(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$f(n.arrayValue.values[t]);return e}return Object.assign({},n)}function P_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function N_(n,e){return void 0===n?e:void 0===e||Ll(n,e)>0?n:e}function Yg(n,e){return void 0===n?e:void 0===e||Ll(n,e)<0?n:e}class ki{constructor(e){this.value=e}static empty(){return new ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$c(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$f(t)}setAll(e){let t=Ji.emptyPath(),r={},o=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=g.popLast()}d?r[g.lastSegment()]=$f(d):o.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());$c(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return uu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Nr(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new ki($f(this.value))}}function k_(n){const e=[];return Nr(n.fields,(t,r)=>{const o=new Ji([t]);if($c(r)){const u=k_(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Vc(e)}class Tr{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Tr(e,0,Jt.min(),Jt.min(),ki.empty(),0)}static newFoundDocument(e,t,r){return new Tr(e,1,t,Jt.min(),r,0)}static newNoDocument(e,t){return new Tr(e,2,t,Jt.min(),ki.empty(),0)}static newUnknownDocument(e,t){return new Tr(e,3,t,Jt.min(),ki.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gf{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Qg(n){return n.fields.find(e=>2===e.kind)}function Gc(n){return n.fields.filter(e=>2!==e.kind)}Gf.UNKNOWN_ID=-1;class qf{constructor(e,t){this.fieldPath=e,this.kind=t}}class nh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nh(0,Yu.min())}}function F_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Jt.fromTimestamp(1e9===r?new fi(t+1,0):new fi(t,r));return new Yu(o,it.empty(),e)}function $T(n){return new Yu(n.readTime,n.key,-1)}class Yu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yu(Jt.min(),it.empty(),-1)}static max(){return new Yu(Jt.max(),it.empty(),-1)}}function GT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=it.comparator(n.documentKey,e.documentKey),0!==t?t:An(n.largestBatchId,e.largestBatchId))}class qT{constructor(e,t=null,r=[],o=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=g,this.P=null}}function Jw(n,e=null,t=[],r=[],o=null,u=null,d=null){return new qT(n,e,t,r,o,u,d)}function qc(n){const e=wt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Vl(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),jc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Vl(r)).join(",")),e.P=t}return e.P}function zf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!tE(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!uu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!V_(n.startAt,e.startAt)&&V_(n.endAt,e.endAt)}function Jg(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Xg(n,e){return n.filters.filter(t=>t instanceof gs&&t.field.isEqual(e))}class gs extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new WT(e,t,r):"array-contains"===t?new YT(e,r):"in"===t?new QT(e,r):"not-in"===t?new JT(e,r):"array-contains-any"===t?new eE(e,r):new gs(e,t,r)}static V(e,t,r){return"in"===t?new ZT(e,r):new KT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ll(t,this.value)):null!==t&&Fl(this.value)===Fl(t)&&this.v(Ll(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return At()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class WT extends gs{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.v(t)}}class ZT extends gs{constructor(e,t){super(e,"in",t),this.keys=Xw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class KT extends gs{constructor(e,t){super(e,"not-in",t),this.keys=Xw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Xw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class YT extends gs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hf(t)&&jf(t.arrayValue,this.value)}}class QT extends gs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jf(this.value.arrayValue,t)}}class JT extends gs{constructor(e,t){super(e,"not-in",t)}matches(e){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jf(this.value.arrayValue,t)}}class eE extends gs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>jf(this.value.arrayValue,r))}}class Qu{constructor(e,t){this.position=e,this.inclusive=t}}class zc{constructor(e,t="asc"){this.field=e,this.dir=t}}function tE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function L_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?it.comparator(it.fromName(d.referenceValue),t.key):Ll(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function V_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!uu(n.position[t],e.position[t]))return!1;return!0}class lu{constructor(e,t=null,r=[],o=[],u=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=v,this.D=null,this.C=null}}function U_(n,e,t,r,o,u,d,g){return new lu(n,e,t,r,o,u,d,g)}function Wc(n){return new lu(n)}function Wf(n){return!jc(n.limit)&&"F"===n.limitType}function rh(n){return!jc(n.limit)&&"L"===n.limitType}function Ju(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function B_(n){for(const e of n.filters)if(e.S())return e.field;return null}function j_(n){return null!==n.collectionGroup}function Ba(n){const e=wt(n);if(null===e.D){e.D=[];const t=B_(e),r=Ju(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new zc(t)),e.D.push(new zc(Ji.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new zc(Ji.keyField(),u))}}}return e.D}function ja(n){const e=wt(n);if(!e.C)if("F"===e.limitType)e.C=Jw(e.path,e.collectionGroup,Ba(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ba(e))t.push(new zc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Qu(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Qu(e.startAt.position,!e.startAt.inclusive):null;e.C=Jw(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function em(n,e,t){return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tm(n,e){return zf(ja(n),ja(e))&&n.limitType===e.limitType}function H_(n){return`${qc(ja(n))}|lt:${n.limitType}`}function nm(n){return`Query(target=${function zT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Vl(r.value)}`;var r}).join(", ")}]`),jc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Vl(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Vl(t)).join(",")),`Target(${e})`}(ja(n))}; limitType=${n.limitType})`}function nE(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):it.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const g=L_(o,u,d);return o.inclusive?g<=0:g<0}(t.startAt,Ba(t),r)||t.endAt&&!function(o,u,d){const g=L_(o,u,d);return o.inclusive?g>=0:g>0}(t.endAt,Ba(t),r)));var t,r}function Wt(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rE(n){return(e,t)=>{let r=!1;for(const o of Ba(n)){const u=XT(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function XT(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):function(o,u,d){const g=u.data.field(o),v=d.data.field(o);return null!==g&&null!==v?Ll(g,v):At()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return At()}}function iE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function Zf(n){return{integerValue:""+n}}function sE(n,e){return Ua(e)?Zf(e):iE(n,e)}class Zc{constructor(){this._=void 0}}function rm(n,e,t){return n instanceof Kc?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Yc?oE(n,e):n instanceof Ul?$_(n,e):function(r,o){const u=eI(r,o),d=G_(u)+G_(r.k);return Kg(u)&&Kg(r.k)?Zf(d):iE(r.M,d)}(n,e)}function ni(n,e,t){return n instanceof Yc?oE(n,e):n instanceof Ul?$_(n,e):t}function eI(n,e){return n instanceof Qc?Kg(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Kc extends Zc{}class Yc extends Zc{constructor(e){super(),this.elements=e}}function oE(n,e){const t=aE(e);for(const r of n.elements)t.some(o=>uu(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ul extends Zc{constructor(e){super(),this.elements=e}}function $_(n,e){let t=aE(e);for(const r of n.elements)t=t.filter(o=>!uu(o,r));return{arrayValue:{values:t}}}class Qc extends Zc{constructor(e,t){super(),this.M=e,this.k=t}}function G_(n){return qr(n.integerValue||n.doubleValue)}function aE(n){return Hf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Kf{constructor(e,t){this.field=e,this.transform=t}}class Yf{constructor(e,t){this.version=e,this.transformResults=t}}class Ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function im(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sm{}function om(n,e,t){n instanceof Xu?function(r,o,u){const d=r.value.clone(),g=dE(r.fieldTransforms,o,u.transformResults);d.setAll(g),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ha?function(r,o,u){if(!im(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=dE(r.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(cE(r)),g.setAll(d),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function am(n,e,t){var o;n instanceof Xu?function(r,o,u){if(!im(r.precondition,o))return;const d=r.value.clone(),g=hE(r.fieldTransforms,u,o);d.setAll(g),o.convertToFoundDocument(lE(o),d).setHasLocalMutations()}(n,e,t):n instanceof Ha?function(r,o,u){if(!im(r.precondition,o))return;const d=hE(r.fieldTransforms,u,o),g=o.data;g.setAll(cE(r)),g.setAll(d),o.convertToFoundDocument(lE(o),g).setHasLocalMutations()}(n,e,t):im(n.precondition,o=e)&&o.convertToNoDocument(Jt.min())}function uE(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=eI(r.transform,o||null);null!=u&&(null==t&&(t=ki.empty()),t.set(r.field,u))}return t||null}function q_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Uf(t,r,(o,u)=>function tI(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Yc&&r instanceof Yc||t instanceof Ul&&r instanceof Ul?Uf(t.elements,r.elements,uu):t instanceof Qc&&r instanceof Qc?uu(t.k,r.k):t instanceof Kc&&r instanceof Kc);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function lE(n){return n.isFoundDocument()?n.version:Jt.min()}class Xu extends sm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Ha extends sm{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function cE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function dE(n,e,t){const r=new Map;an(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,g=e.data.field(u.field);r.set(u.field,ni(d,g,t[o]))}return r}function hE(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,rm(u,d,e))}return r}class ih extends sm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class um extends sm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class fE{constructor(e){this.count=e}}var Di,Bn;function pE(n){switch(n){default:return At();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function gE(n){if(void 0===n)return ti("GRPC error has no .code"),Re.UNKNOWN;switch(n){case Di.OK:return Re.OK;case Di.CANCELLED:return Re.CANCELLED;case Di.UNKNOWN:return Re.UNKNOWN;case Di.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case Di.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case Di.INTERNAL:return Re.INTERNAL;case Di.UNAVAILABLE:return Re.UNAVAILABLE;case Di.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case Di.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case Di.NOT_FOUND:return Re.NOT_FOUND;case Di.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case Di.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case Di.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case Di.ABORTED:return Re.ABORTED;case Di.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case Di.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case Di.DATA_LOSS:return Re.DATA_LOSS;default:return At()}}(Bn=Di||(Di={}))[Bn.OK=0]="OK",Bn[Bn.CANCELLED=1]="CANCELLED",Bn[Bn.UNKNOWN=2]="UNKNOWN",Bn[Bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bn[Bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bn[Bn.NOT_FOUND=5]="NOT_FOUND",Bn[Bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bn[Bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bn[Bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bn[Bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bn[Bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bn[Bn.ABORTED=10]="ABORTED",Bn[Bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bn[Bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bn[Bn.INTERNAL=13]="INTERNAL",Bn[Bn.UNAVAILABLE=14]="UNAVAILABLE",Bn[Bn.DATA_LOSS=15]="DATA_LOSS";class Jc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return S_(this.inner)}size(){return this.innerSize}}class Ai{constructor(e,t){this.comparator=e,this.root=t||Ns.EMPTY}insert(e,t){return new Ai(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ns.BLACK,null,null))}remove(e){return new Ai(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ns.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new z_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new z_(this.root,e,this.comparator,!1)}getReverseIterator(){return new z_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new z_(this.root,e,this.comparator,!0)}}class z_{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ns{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:Ns.RED,this.left=null!=o?o:Ns.EMPTY,this.right=null!=u?u:Ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Ns(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ns.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const e=this.left.check();if(e!==this.right.check())throw At();return e+(this.isRed()?0:1)}}Ns.EMPTY=null,Ns.RED=!0,Ns.BLACK=!1,Ns.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ns(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ir{constructor(e){this.comparator=e,this.data=new Ai(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qf(this.data.getIterator())}getIteratorFrom(e){return new Qf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ir(this.comparator);return t.data=e,t}}class Qf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sh(n){return n.hasNext()?n.getNext():void 0}const nI=new Ai(it.comparator);function ko(){return nI}const Jf=new Ai(it.comparator);function W_(){return Jf}function Xf(){return new Jc(n=>n.toString(),(n,e)=>n.isEqual(e))}const rI=new Ai(it.comparator),iI=new Ir(it.comparator);function Xn(...n){let e=iI;for(const t of n)e=e.add(t);return e}const mE=new Ir(An);function lm(){return mE}class ep{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,t)),new ep(Jt.min(),r,lm(),ko(),Xn())}}class cu{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new cu(Vr.EMPTY_BYTE_STRING,t,Xn(),Xn(),Xn())}}class cm{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class Z_{constructor(e,t){this.targetId=e,this.$=t}}class yE{constructor(e,t,r=Vr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class K_{constructor(){this.B=0,this.L=_E(),this.U=Vr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Xn(),t=Xn(),r=Xn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:At()}}),new cu(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=_E()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class sI{constructor(e){this.nt=e,this.st=new Map,this.it=ko(),this.rt=Y_(),this.ot=new Ir(An)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:At()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(Jg(u))if(0===r){const d=new it(u.path);this.ct(t,d,Tr.newNoDocument(d,Jt.min()))}else an(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,d)=>{const g=this.wt(d);if(g){if(u.current&&Jg(g.target)){const v=new it(g.target.path);null!==this.it.get(v)||this.It(d,v)||this.ct(d,v,Tr.newNoDocument(v,e))}u.j&&(t.set(d,u.H()),u.J())}});let r=Xn();this.rt.forEach((u,d)=>{let g=!0;d.forEachWhile(v=>{const S=this.wt(v);return!S||2===S.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.it.forEach((u,d)=>d.setReadTime(e));const o=new ep(e,t,this.ot,this.it,r);return this.it=ko(),this.rt=Y_(),this.ot=new Ir(An),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new K_,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Ir(An),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||nt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new K_),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Y_(){return new Ai(it.comparator)}function _E(){return new Ai(it.comparator)}const Q_={asc:"ASCENDING",desc:"DESCENDING"},oI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vE{constructor(e,t){this.databaseId=e,this.N=t}}function oh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wE(n,e){return n.N?e.toBase64():e.toUint8Array()}function aI(n,e){return oh(n,e.toTimestamp())}function es(n){return an(!!n),Jt.fromTimestamp(function(e){const t=kl(e);return new fi(t.seconds,t.nanos)}(n))}function tp(n,e){return(t=n,new Hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function EE(n){const e=Hn.fromString(n);return an(rv(e)),e}function ah(n,e){return tp(n.databaseId,e.path)}function du(n,e){const t=EE(e);if(t.get(1)!==n.databaseId.projectId)throw new Qe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Qe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(CE(t))}function J_(n,e){return tp(n.databaseId,e)}function bE(n){const e=EE(n);return 4===e.length?Hn.emptyPath():CE(e)}function np(n){return new Hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CE(n){return an(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function TE(n,e,t){return{name:ah(n,e),fields:t.value.mapValue.fields}}function IE(n,e,t){const r=du(n,e.name),o=es(e.updateTime),u=new ki({mapValue:{fields:e.fields}}),d=Tr.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function uh(n,e){let t;if(e instanceof Xu)t={update:TE(n,e.key,e.value)};else if(e instanceof ih)t={delete:ah(n,e.key)};else if(e instanceof Ha)t={update:TE(n,e.key,e.data),updateMask:hI(e.fieldMask)};else{if(!(e instanceof um))return At();t={verify:ah(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Kc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Yc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ul)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Qc)return{fieldPath:u.field.canonicalString(),increment:d.k};throw At()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:aI(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:At()),t;var o}function X_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Ii.updateTime(es(o.updateTime)):void 0!==o.exists?Ii.exists(o.exists):Ii.none():Ii.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let g=null;"setToServerValue"in d?(an("REQUEST_TIME"===d.setToServerValue),g=new Kc):"appendMissingElements"in d?g=new Yc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new Ul(d.removeAllFromArray.values||[]):"increment"in d?g=new Qc(u,d.increment):At();const v=Ji.fromServerFormat(d.fieldPath);return new Kf(v,g)}(n,o)):[];var o;if(e.update){const o=du(n,e.update.name),u=new ki({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Vc((e.updateMask.fieldPaths||[]).map(S=>Ji.fromServerFormat(S)));return new Ha(o,u,d,t,r)}return new Xu(o,u,t,r)}if(e.delete){const o=du(n,e.delete);return new ih(o,t)}if(e.verify){const o=du(n,e.verify);return new um(o,t)}return At()}function ev(n,e){return{documents:[J_(n,e.path)]}}function AE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=J_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=J_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(v){if(0===v.length)return;const S=v.map(V=>function(G){if("=="===G.op){if(R_(G.value))return{unaryFilter:{field:Bl(G.field),op:"IS_NAN"}};if(O_(G.value))return{unaryFilter:{field:Bl(G.field),op:"IS_NULL"}}}else if("!="===G.op){if(R_(G.value))return{unaryFilter:{field:Bl(G.field),op:"IS_NOT_NAN"}};if(O_(G.value))return{unaryFilter:{field:Bl(G.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(G.field),op:ME(G.op),value:G.value}}}(V));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(v){if(0!==v.length)return v.map(S=>{return{field:Bl((V=S).field),direction:tv(V.dir)};var V})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(S=e.limit,n.N||jc(S)?S:{value:S});var S,g,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function SE(n){let e=bE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){an(1===r);const V=t.from[0];V.allDescendants?o=V.collectionId:e=e.child(V.collectionId)}let u=[];t.where&&(u=dm(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(V=>{return new zc(lh((G=V).field),function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction));var G}));let g=null;t.limit&&(g=function(V){let G;return G="object"==typeof V?V.value:V,jc(G)?null:G}(t.limit));let v=null;var V;t.startAt&&(v=new Qu((V=t.startAt).values||[],!!V.before));let S=null;return t.endAt&&(S=function(V){return new Qu(V.values||[],!V.before)}(t.endAt)),U_(e,o,d,u,g,"F",v,S)}function dm(n){return n?void 0!==n.unaryFilter?[nv(n)]:void 0!==n.fieldFilter?[dI(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>dm(e)).reduce((e,t)=>e.concat(t)):At():[]}function tv(n){return Q_[n]}function ME(n){return oI[n]}function Bl(n){return{fieldPath:n.canonicalString()}}function lh(n){return Ji.fromServerFormat(n.fieldPath)}function dI(n){return gs.create(lh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(n.fieldFilter.op),n.fieldFilter.value)}function nv(n){switch(n.unaryFilter.op){case"IS_NAN":const e=lh(n.unaryFilter.field);return gs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=lh(n.unaryFilter.field);return gs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lh(n.unaryFilter.field);return gs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lh(n.unaryFilter.field);return gs.create(o,"!=",{nullValue:"NULL_VALUE"});default:return At()}}function hI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ts(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=OE(e)),e=xE(n.get(t),e);return OE(e)}function xE(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function OE(n){return n+"\x01\x01"}function ma(n){const e=n.length;if(an(e>=2),2===e)return an("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Hn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&At(),n.charAt(d+1)){case"\x01":const g=n.substring(u,d);let v;0===o.length?v=g:(o+=g,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:At()}u=d+2}return new Hn(r)}const fI=["userId","batchId"];function hm(n,e){return[n,ts(e)]}function rp(n,e,t){return[n,ts(e),t]}const pI={},ch=["prefixPath","collectionGroup","readTime","documentId"],ip=["prefixPath","collectionGroup","documentId"],gI=["collectionGroup","readTime","prefixPath","documentId"],_A=["canonicalId","targetId"],RE=["targetId","path"],mI=["path","targetId"],yI=["collectionId","parent"],_I=["indexId","uid"],vI=["uid","sequenceNumber"],PE=["indexId","uid","arrayValue","directionalValue","documentKey"],NE=["indexId","uid","documentKey"],iv=["userId","collectionPath","documentId"],fm=["userId","collectionPath","largestBatchId"],sp=["userId","collectionGroup","largestBatchId"],kE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FE=[...kE,"documentOverlays"],sv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wI=[...sv,"indexConfiguration","indexState","indexEntries"],LE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ke((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ke?t:ke.resolve(t)}catch(t){return ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ke.reject(t)}static resolve(e){return new ke((t,r)=>{t(e)})}static reject(e){return new ke((t,r)=>{r(e)})}static waitFor(e){return new ke((t,r)=>{let o=0,u=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++u,d&&u===o&&t()},v=>r(v))}),d=!0,u===o&&t()})}static or(e){let t=ke.resolve(!1);for(const r of e)t=t.next(o=>o?ke.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class ov{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Ni,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new hu(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=uv(r.target.error);this.At.reject(new hu(e,o))}}static open(e,t,r,o){try{return new ov(t,e.transaction(o,r))}catch(u){throw new hu(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new dh(t)}}class $a{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===$a.Vt((0,ln.z$)())&&ti("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return nt("SimpleDb","Removing database:",e),hh(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,ln.hl)())return!1;if($a.St())return!0;const e=(0,ln.z$)(),t=$a.Vt(e),r=0<t&&t<10,o=$a.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Ue.Z)(function*(){return t.db||(nt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new hu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const g=d.target.error;o("VersionError"===g.name?new Qe(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Qe(Re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new hu(e,g))},u.onupgradeneeded=d=>{nt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{nt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Ue.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.Nt(e);const v=ov.open(u.db,e,d?"readonly":"readwrite",r),S=o(v).next(V=>(v.bt(),V)).catch(V=>(v.abort(V),ke.reject(V))).toPromise();return S.catch(()=>{}),yield v.Rt,S}catch(v){const S="FirebaseError"!==v.name&&g<3;if(nt("SimpleDb","Transaction failed with error:",v.message,"Retrying:",S),u.close(),!S)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class EI{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return hh(this.Ft.delete())}}class hu extends Qe{constructor(e,t){super(Re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jl(n){return"IndexedDbTransactionError"===n.name}class dh{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(nt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hh(r)}add(e){return nt("SimpleDb","ADD",this.store.name,e,e),hh(this.store.add(e))}get(e){return hh(this.store.get(e)).next(t=>(void 0===t&&(t=null),nt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return nt("SimpleDb","DELETE",this.store.name,e),hh(this.store.delete(e))}count(){return nt("SimpleDb","COUNT",this.store.name),hh(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Gt(o,(d,g)=>{u.push(g)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ke((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ke((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Qt(e,t){nt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Gt(o,(u,d,g)=>g.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Gt(o,t)}zt(e){const t=this.cursor({});return new ke((r,o)=>{t.onerror=u=>{const d=uv(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}Gt(e,t){const r=[];return new ke((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void o();const v=new EI(g),S=t(g.primaryKey,g.value,v);if(S instanceof ke){const V=S.catch(G=>(v.done(),ke.reject(G)));r.push(V)}v.isDone?o():null===v.Lt?g.continue():g.continue(v.Lt)}}).next(()=>ke.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hh(n){return new ke((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=uv(r.target.error);t(o)}})}let av=!1;function uv(n){const e=$a.Vt((0,ln.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return av||(av=!0,setTimeout(()=>{throw r},0)),r}}return n}class bI extends pm{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Fi(n,e){const t=wt(n);return $a.xt(t.Ht,e)}class VE{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&om(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&am(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&am(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Jt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xn())}isEqual(e){return this.batchId===e.batchId&&Uf(this.mutations,e.mutations,(t,r)=>q_(t,r))&&Uf(this.baseMutations,e.baseMutations,(t,r)=>q_(t,r))}}class gm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){an(e.mutations.length===r.length);let o=rI;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new gm(e,t,r,o)}}class op{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hl{constructor(e,t,r,o,u=Jt.min(),d=Jt.min(),g=Vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new Hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class UE{constructor(e){this.Jt=e}}function BE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:mm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ah(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:oh(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Xc(e.version)};else{if(!e.isUnknownDocument())return At();r.unknownDocument={path:t.path.toArray(),version:Xc(e.version)}}var o,u;return r}function mm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ed(n){const e=new fi(n.seconds,n.nanoseconds);return Jt.fromTimestamp(e)}function fh(n,e){const t=(e.baseMutations||[]).map(u=>X_(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>X_(n.Jt,u)),o=fi.fromMillis(e.localWriteTimeMs);return new VE(e.batchId,o,t,r)}function ap(n){const e=ed(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ed(n.lastLimboFreeSnapshotVersion):Jt.min();let r;var o;return void 0!==n.query.documents?(an(1===(o=n.query).documents.length),r=ja(Wc(bE(o.documents[0])))):r=ja(SE(n.query)),new Hl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Vr.fromBase64String(n.resumeToken))}function jE(n,e){const t=Xc(e.snapshotVersion),r=Xc(e.lastLimboFreeSnapshotVersion);let o;o=Jg(e.target)?ev(n.Jt,e.target):AE(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function td(n){const e=SE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?em(e,e.limit,"L"):e}function ym(n,e){return new op(e.largestBatchId,X_(n.Jt,e.overlayMutation))}function lv(n,e){const t=e.path.lastSegment();return[n,ts(e.path.popLast()),t]}class HE{getBundleMetadata(e,t){return cv(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:ed(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return cv(e).put({bundleId:(r=t).id,createTime:Xc(es(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return dv(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:td(o.bundledQuery),readTime:ed(o.readTime)};var o})}saveNamedQuery(e,t){return dv(e).put({name:(r=t).name,readTime:Xc(es(r.readTime)),bundledQuery:r.bundledQuery});var r}}function cv(n){return Fi(n,"bundles")}function dv(n){return Fi(n,"namedQueries")}class hv{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new hv(e,t.uid||"")}getOverlay(e,t){return up(e).get(lv(this.userId,t)).next(r=>r?ym(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const g=new op(t,d);o.push(this.Xt(e,g))}),ke.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(ts(d.getCollectionPath())));const u=[];return o.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(up(e).Qt("collectionPathOverlayIndex",g))}),ke.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Xf(),u=ts(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return up(e).qt("collectionPathOverlayIndex",d).next(g=>{for(const v of g){const S=ym(this.M,v);o.set(S.getKey(),S)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Xf();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return up(e).Wt({index:"collectionGroupOverlayIndex",range:g},(v,S,V)=>{const G=ym(this.M,S);u.size()<o||G.largestBatchId===d?(u.set(G.getKey(),G),d=G.largestBatchId):V.done()}).next(()=>u)}Xt(e,t){return up(e).put(function(r,o,u){const[d,g,v]=lv(o,u.mutation.key);return{userId:o,collectionPath:g,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:uh(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function up(n){return Fi(n,"documentOverlays")}class ph{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(qr(e.integerValue));else if("doubleValue"in e){const r=qr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),eh(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Uc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?P_(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):At()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),it.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function TI(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function $E(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=TI(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}ph.fe=new ph;class II{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=$E(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=$E(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class DI{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class lp{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class _m{constructor(){this.De=new II,this.Ce=new DI(this.De),this.xe=new lp(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class fu{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fu(this.indexId,this.documentKey,this.arrayValue,r)}}function ks(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=GE(n.arrayValue,e.arrayValue),0!==t?t:(t=GE(n.directionalValue,e.directionalValue),0!==t?t:it.comparator(n.documentKey,e.documentKey)))}function GE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class fv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Qg(e);if(void 0!==t&&!this.Be(t))return!1;const r=Gc(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const d=r[o];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class cp{constructor(){this.qe=new pv}addToCollectionParentIndex(e,t){return this.qe.add(t),ke.resolve()}getCollectionParents(e,t){return ke.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ke.resolve()}deleteFieldIndex(e,t){return ke.resolve()}getDocumentsMatchingTarget(e,t){return ke.resolve(null)}getFieldIndex(e,t){return ke.resolve(null)}getFieldIndexes(e,t){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}updateCollectionGroup(e,t,r){return ke.resolve()}updateIndexEntries(e,t){return ke.resolve()}}class pv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ir(Hn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ir(Hn.comparator)).toArray()}}const vm=new Uint8Array(0);class AI{constructor(e){this.user=e,this.Ge=new pv,this.Ke=new Jc(t=>qc(t),(t,r)=>zf(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const u={collectionId:r,parent:ts(o)};return dp(e).put(u)}return ke.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Ww(t),""],!1,!0);return dp(e).qt(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(ma(d.parent))}return r})}addFieldIndex(e,t){const r=wm(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=wm(e),o=Em(e),u=$l(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=$l(e);let o=!0;const u=new Map;return ke.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(g=>{o&&(o=!!g),u.set(d,g)})).next(()=>{if(o){let d=Xn();return ke.forEach(u,(g,v)=>{var S;nt("IndexedDbIndexManager",`Using index ${S=g,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Et=>`${Et.fieldPath}:${Et.kind}`).join(",")}`} to execute ${qc(t)}`);const V=function(Et,Ht){const pt=Qg(Ht);if(void 0===pt)return null;for(const un of Xg(Et,pt.fieldPath))switch(un.op){case"array-contains-any":return un.value.arrayValue.values||[];case"array-contains":return[un.value]}return null}(v,g),G=function(Et,Ht){const pt=new Map;for(const un of Gc(Ht))for(const $t of Xg(Et,un.fieldPath))switch($t.op){case"==":case"in":pt.set(un.fieldPath.canonicalString(),$t.value);break;case"not-in":case"!=":return pt.set(un.fieldPath.canonicalString(),$t.value),Array.from(pt.values())}return null}(v,g),ee=function(Et,Ht){const pt=[];let un=!0;for(const hr of Gc(Ht)){let mr,Li=!0;for(const yr of Xg(Et,hr.fieldPath)){let Ur,yu=!0;switch(yr.op){case"<":case"<=":Ur="nullValue"in($t=yr.value)?x_:"booleanValue"in $t?{booleanValue:!1}:"integerValue"in $t||"doubleValue"in $t?{doubleValue:NaN}:"timestampValue"in $t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in $t?{stringValue:""}:"bytesValue"in $t?{bytesValue:""}:"referenceValue"in $t?th(Xi.empty(),it.empty()):"geoPointValue"in $t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in $t?{arrayValue:{}}:"mapValue"in $t?{mapValue:{}}:At();break;case"==":case"in":case">=":Ur=yr.value;break;case">":Ur=yr.value,yu=!1;break;case"!=":case"not-in":Ur=x_}N_(mr,Ur)===Ur&&(mr=Ur,Li=yu)}if(null!==Et.startAt)for(let yr=0;yr<Et.orderBy.length;++yr)if(Et.orderBy[yr].field.isEqual(hr.fieldPath)){const Ur=Et.startAt.position[yr];N_(mr,Ur)===Ur&&(mr=Ur,Li=Et.startAt.inclusive);break}if(void 0===mr)return null;pt.push(mr),un&&(un=Li)}var $t;return new Qu(pt,un)}(v,g),ue=function(Et,Ht){const pt=[];let un=!0;for(const hr of Gc(Ht)){let mr,Li=!0;for(const yr of Xg(Et,hr.fieldPath)){let Ur,yu=!0;switch(yr.op){case">=":case">":Ur="nullValue"in($t=yr.value)?{booleanValue:!1}:"booleanValue"in $t?{doubleValue:NaN}:"integerValue"in $t||"doubleValue"in $t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in $t?{stringValue:""}:"stringValue"in $t?{bytesValue:""}:"bytesValue"in $t?th(Xi.empty(),it.empty()):"referenceValue"in $t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in $t?{arrayValue:{}}:"arrayValue"in $t?{mapValue:{}}:"mapValue"in $t?ga:At(),yu=!1;break;case"==":case"in":case"<=":Ur=yr.value;break;case"<":Ur=yr.value,yu=!1;break;case"!=":case"not-in":Ur=ga}Yg(mr,Ur)===Ur&&(mr=Ur,Li=yu)}if(null!==Et.endAt)for(let yr=0;yr<Et.orderBy.length;++yr)if(Et.orderBy[yr].field.isEqual(hr.fieldPath)){const Ur=Et.endAt.position[yr];Yg(mr,Ur)===Ur&&(mr=Ur,Li=Et.endAt.inclusive);break}if(void 0===mr)return null;pt.push(mr),un&&(un=Li)}var $t;return new Qu(pt,un)}(v,g),le=this.je(g,v,ee),Ne=this.je(g,v,ue),Xe=this.We(g,v,G),bt=this.ze(g.indexId,V,le,!!ee&&ee.inclusive,Ne,!!ue&&ue.inclusive,Xe);return ke.forEach(bt,Et=>r.Kt(Et,t.limit).next(Ht=>{Ht.forEach(pt=>{d=d.add(new it(ma(pt.documentKey)))})}))}).next(()=>d)}return ke.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,o,u,d,g){const v=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),S=v/(null!=t?t.length:1),V=[];for(let G=0;G<v;++G){const ee=t?this.He(t[G/S]):vm,ue=r?this.Je(e,ee,r[G%S],o):this.Ye(e),le=u?this.Xe(e,ee,u[G%S],d):this.Ye(e+1);V.push(...this.createRange(ue,le,g.map(Ne=>this.Je(e,ee,Ne,!0))))}return V}Je(e,t,r,o){const u=new fu(e,it.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new fu(e,it.empty(),t,r);return o?u.ke():u}Ye(e){return new fu(e,it.empty(),vm,vm)}getFieldIndex(e,t){const r=new fv(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{const d=u.filter(g=>r.$e(g));return d.sort((g,v)=>v.fields.length-g.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new _m;for(const o of Gc(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.Ne(o.kind);ph.fe.Zt(u,d)}return r.Se()}He(e){const t=new _m;return ph.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new _m);let u=0;for(const d of Gc(e)){const g=r[u++];for(const v of o)if(this.tn(t,d.fieldPath)&&Hf(g))o=this.en(o,d,g);else{const S=v.Ne(d.kind);ph.fe.Zt(g,S)}}return this.nn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const g of o){const v=new _m;v.seed(g.Se()),ph.fe.Zt(d,v.Ne(t.kind)),u.push(v)}return u}tn(e,t){return!!e.filters.find(r=>r instanceof gs&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=wm(e),o=Em(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const d=[];return ke.forEach(u,g=>o.get([g.indexId,this.uid]).next(v=>{d.push(function(S,V){const G=V?new nh(V.sequenceNumber,new Yu(ed(V.readTime),new it(ma(V.documentKey)),V.largestBatchId)):nh.empty(),ee=S.fields.map(([ue,le])=>new qf(Ji.fromServerFormat(ue),le));return new Gf(S.indexId,S.collectionGroup,ee,G)}(g,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:An(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=wm(e),u=Em(e);return this.sn(e).next(d=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>ke.forEach(g,v=>{return u.put({indexId:v.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Xc((ee=r).readTime),documentKey:ts(ee.documentKey.path),largestBatchId:ee.largestBatchId});var ee})))}updateIndexEntries(e,t){const r=new Map;return ke.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?ke.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(r.set(o.collectionGroup,g),ke.forEach(g,v=>this.rn(e,o,v).next(S=>{const V=this.on(u,v);return S.isEqual(V)?ke.resolve():this.un(e,u,S,V)}))))})}an(e,t,r){return $l(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:ts(t.key.path)})}cn(e,t,r){return $l(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,ts(t.key.path)])}rn(e,t,r){const o=$l(e);let u=new Ir(ks);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,ts(t.path)])},(d,g)=>{u=u.add(new fu(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}on(e,t){let r=new Ir(ks);const o=this.Ze(t,e);if(null==o)return r;const u=Qg(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Hf(d))for(const g of d.arrayValue.values||[])r=r.add(new fu(t.indexId,e.key,this.He(g),o))}else r=r.add(new fu(t.indexId,e.key,vm,o));return r}un(e,t,r,o){nt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(d,g,v,S,V){const G=d.getIterator(),ee=g.getIterator();let ue=sh(G),le=sh(ee);for(;ue||le;){let Ne=!1,Xe=!1;if(ue&&le){const bt=v(ue,le);bt<0?Xe=!0:bt>0&&(Ne=!0)}else null!=ue?Xe=!0:Ne=!0;Ne?(S(le),le=sh(ee)):Xe?(V(ue),ue=sh(G)):(ue=sh(G),le=sh(ee))}}(r,o,ks,d=>{u.push(this.an(e,t,d))},d=>{u.push(this.cn(e,t,d))}),ke.waitFor(u)}sn(e){let t=1;return Em(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>ks(d,g)).filter((d,g,v)=>!g||0!==ks(d,v[g-1]));const o=[];o.push(e);for(const d of r){const g=ks(d,e),v=ks(d,t);if(0===g)o[0]=e.ke();else if(g>0&&v<0)o.push(d),o.push(d.ke());else if(v>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,""],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,""]));return u}}function dp(n){return Fi(n,"collectionParents")}function $l(n){return Fi(n,"indexEntries")}function wm(n){return Fi(n,"indexConfiguration")}function Em(n){return Fi(n,"indexState")}const gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Js{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Js(e,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bm(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let g=0;const v=r.Wt({range:d},(V,G,ee)=>(g++,ee.delete()));u.push(v.next(()=>{an(1===g)}));const S=[];for(const V of t.mutations){const G=rp(e,V.key.path,t.batchId);u.push(o.delete(G)),S.push(V.key)}return ke.waitFor(u).next(()=>S)}function hp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw At();e=n.noDocument}return JSON.stringify(e).length}Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(41943040,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);class mv{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.hn={}}static Yt(e,t,r,o){an(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new mv(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nd(e).Wt({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Gl(e),d=nd(e);return d.add({}).next(g=>{an("number"==typeof g);const v=new VE(g,t,r,o),S=function(ee,ue,le){const Ne=le.baseMutations.map(bt=>uh(ee.Jt,bt)),Xe=le.mutations.map(bt=>uh(ee.Jt,bt));return{userId:ue,batchId:le.batchId,localWriteTimeMs:le.localWriteTime.toMillis(),baseMutations:Ne,mutations:Xe}}(this.M,this.userId,v),V=[];let G=new Ir((ee,ue)=>An(ee.canonicalString(),ue.canonicalString()));for(const ee of o){const ue=rp(this.userId,ee.key.path,g);G=G.add(ee.key.path.popLast()),V.push(d.put(S)),V.push(u.put(ue,pI))}return G.forEach(ee=>{V.push(this.indexManager.addToCollectionParentIndex(e,ee))}),e.addOnCommittedListener(()=>{this.hn[g]=v.keys()}),ke.waitFor(V).next(()=>v)})}lookupMutationBatch(e,t){return nd(e).get(t).next(r=>r?(an(r.userId===this.userId),fh(this.M,r)):null)}ln(e,t){return this.hn[t]?ke.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.hn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return nd(e).Wt({index:"userMutationsIndex",range:o},(d,g,v)=>{g.userId===this.userId&&(an(g.batchId>=r),u=fh(this.M,g)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return nd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nd(e).qt("userMutationsIndex",t).next(r=>r.map(o=>fh(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=hm(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Gl(e).Wt({range:o},(d,g,v)=>{const[S,V,G]=d,ee=ma(V);if(S===this.userId&&t.path.isEqual(ee))return nd(e).get(G).next(ue=>{if(!ue)throw At();an(ue.userId===this.userId),u.push(fh(this.M,ue))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ir(An);const o=[];return t.forEach(u=>{const d=hm(this.userId,u.path),g=IDBKeyRange.lowerBound(d),v=Gl(e).Wt({range:g},(S,V,G)=>{const[ee,ue,le]=S,Ne=ma(ue);ee===this.userId&&u.path.isEqual(Ne)?r=r.add(le):G.done()});o.push(v)}),ke.waitFor(o).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=hm(this.userId,r),d=IDBKeyRange.lowerBound(u);let g=new Ir(An);return Gl(e).Wt({range:d},(v,S,V)=>{const[G,ee,ue]=v,le=ma(ee);G===this.userId&&r.isPrefixOf(le)?le.length===o&&(g=g.add(ue)):V.done()}).next(()=>this.fn(e,g))}fn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(nd(e).get(u).next(d=>{if(null===d)throw At();an(d.userId===this.userId),r.push(fh(this.M,d))}))}),ke.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return bm(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),ke.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ke.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Gl(e).Wt({range:r},(u,d,g)=>{if(u[0]===this.userId){const v=ma(u[1]);o.push(v)}else g.done()}).next(()=>{an(0===o.length)})})}containsKey(e,t){return qE(e,this.userId,t)}_n(e){return Cm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qE(n,e,t){const r=hm(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Gl(n).Wt({range:u,jt:!0},(g,v,S)=>{const[V,G,ee]=g;V===e&&G===o&&(d=!0),S.done()}).next(()=>d)}function nd(n){return Fi(n,"mutations")}function Gl(n){return Fi(n,"documentMutations")}function Cm(n){return Fi(n,"mutationQueues")}class ql{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new ql(0)}static gn(){return new ql(-1)}}class yv{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new ql(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Jt.fromTimestamp(new fi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.pn(e,o)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zl(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(an(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return zl(e).Wt((d,g)=>{const v=ap(g);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,u.push(this.removeTargetData(e,v)))}).next(()=>ke.waitFor(u)).next(()=>o)}forEachTarget(e,t){return zl(e).Wt((r,o)=>{const u=ap(o);t(u)})}yn(e){return zE(e).get("targetGlobalKey").next(t=>(an(null!==t),t))}pn(e,t){return zE(e).put("targetGlobalKey",t)}In(e,t){return zl(e).put(jE(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=qc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return zl(e).Wt({range:o,index:"queryTargetsIndex"},(d,g,v)=>{const S=ap(g);zf(t,S.target)&&(u=S,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Wl(e);return t.forEach(d=>{const g=ts(d.path);o.push(u.put({targetId:r,path:g})),o.push(this.referenceDelegate.addReference(e,r,d))}),ke.waitFor(o)}removeMatchingKeys(e,t,r){const o=Wl(e);return ke.forEach(t,u=>{const d=ts(u.path);return ke.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Wl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Wl(e);let u=Xn();return o.Wt({range:r,jt:!0},(d,g,v)=>{const S=ma(d[1]),V=new it(S);u=u.add(V)}).next(()=>u)}containsKey(e,t){const r=ts(t.path),o=IDBKeyRange.bound([r],[Ww(r)],!1,!0);let u=0;return Wl(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([d,g],v,S)=>{0!==d&&(u++,S.done())}).next(()=>u>0)}Et(e,t){return zl(e).get(t).next(r=>r?ap(r):null)}}function zl(n){return Fi(n,"targets")}function zE(n){return Fi(n,"targetGlobal")}function Wl(n){return Fi(n,"targetDocuments")}function rd(n){return _v.apply(this,arguments)}function _v(){return _v=(0,Ue.Z)(function*(n){if(n.code!==Re.FAILED_PRECONDITION||n.message!==LE)throw n;nt("LocalStore","Unexpectedly lost primary lease")}),_v.apply(this,arguments)}function vv([n,e],[t,r]){const o=An(n,t);return 0===o?An(e,r):o}class wv{constructor(e){this.En=e,this.buffer=new Ir(vv),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WE{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;nt("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ue.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){jl(o)?nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield rd(o)}yield t.vn(e)}))}}class SI{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ke.resolve(_o.A);const r=new wv(t);return this.Sn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Sn.Cn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(gv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gv):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,o,u,d,g,v,S;const V=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(G=>(G>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${G}`),o=this.params.maximumSequenceNumbersToCollect):o=G,d=Date.now(),this.nthSequenceNumber(e,o))).next(G=>(r=G,g=Date.now(),this.removeTargets(e,r,t))).next(G=>(u=G,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(G=>(S=Date.now(),Jd()<=Tc.in.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-V}ms\n\tDetermined least recently used ${o} in `+(g-d)+`ms\n\tRemoved ${u} targets in `+(v-g)+`ms\n\tRemoved ${G} documents in `+(S-v)+`ms\nTotal Duration: ${S-V}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:G})))}}class ZE{constructor(e,t){this.db=e,this.garbageCollector=new SI(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,o)=>t(o))}addReference(e,t,r){return fp(e,r)}removeReference(e,t,r){return fp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return fp(e,t)}Mn(e,t){return function(r,o){let u=!1;return Cm(r).zt(d=>qE(r,d,o).next(g=>(g&&(u=!0),ke.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.kn(e,(d,g)=>{if(g<=t){const v=this.Mn(e,d).next(S=>{if(!S)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Jt.min()),Wl(e).delete([0,ts(d.path)])))});o.push(v)}}).next(()=>ke.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return fp(e,t)}kn(e,t){const r=Wl(e);let o,u=_o.A;return r.Wt({index:"documentTargetsIndex"},([d,g],{path:v,sequenceNumber:S})=>{0===d?(u!==_o.A&&t(new it(ma(o)),u),u=S,o=v):u=_o.A}).next(()=>{u!==_o.A&&t(new it(ma(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fp(n,e){return Wl(n).put((r=n.currentSequenceNumber,{targetId:0,path:ts(e.path),sequenceNumber:r}));var r}class KE{constructor(){this.changes=new Jc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YE{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Zl(e).put(r)}removeEntry(e,t,r){return Zl(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],mm(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Tr.newInvalidDocument(t);return Zl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(pp(t))},(o,u)=>{r=this.Fn(t,u)}).next(()=>r)}$n(e,t){let r={size:0,document:Tr.newInvalidDocument(t)};return Zl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(pp(t))},(o,u)=>{r={document:this.Fn(t,u),size:hp(u)}}).next(()=>r)}getEntries(e,t){let r=ko();return this.Bn(e,t,(o,u)=>{const d=this.Fn(o,u);r=r.insert(o,d)}).next(()=>r)}Ln(e,t){let r=ko(),o=new Ai(it.comparator);return this.Bn(e,t,(u,d)=>{const g=this.Fn(u,d);r=r.insert(u,g),o=o.insert(u,hp(d))}).next(()=>({documents:r,Un:o}))}Bn(e,t,r){if(t.isEmpty())return ke.resolve();let o=new Ir(id);t.forEach(v=>o=o.add(v));const u=IDBKeyRange.bound(pp(o.first()),pp(o.last())),d=o.getIterator();let g=d.getNext();return Zl(e).Wt({index:"documentKeyIndex",range:u},(v,S,V)=>{const G=it.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;g&&id(g,G)<0;)r(g,null),g=d.getNext();g&&g.isEqual(G)&&(r(g,S),g=d.hasNext()?d.getNext():null),g?V.Ut(pp(g)):V.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),mm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zl(e).qt(IDBKeyRange.bound(o,u,!0)).next(d=>{let g=ko();for(const v of d){const S=this.Fn(it.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);g=g.insert(S.key,S)}return g})}getAllFromCollectionGroup(e,t,r,o){let u=ko();const d=Fs(t,r),g=Fs(t,Yu.max());return Zl(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(v,S,V)=>{const G=this.Fn(it.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);u=u.insert(G.key,G),u.size===o&&V.done()}).next(()=>u)}newChangeBuffer(e){return new QE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return JE(e).get("remoteDocumentGlobalKey").next(t=>(an(!!t),t))}On(e,t){return JE(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function CI(n,e){let t;if(e.document)t=IE(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=it.fromSegments(e.noDocument.path),o=ed(e.noDocument.readTime);t=Tr.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return At();{const r=it.fromSegments(e.unknownDocument.path),o=ed(e.unknownDocument.version);t=Tr.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new fi(r[0],r[1]);return Jt.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Jt.min()))return r}return Tr.newInvalidDocument(e)}}class QE extends KE{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Jc(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Ir((u,d)=>An(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const g=this.Gn.get(u);if(t.push(this.qn.removeEntry(e,u,g.readTime)),d.isValidDocument()){const v=BE(this.qn.M,d);o=o.add(u.path.popLast()),r+=hp(v)-g.size,t.push(this.qn.addEntry(e,u,v))}else if(r-=g.size,this.trackRemovals){const v=BE(this.qn.M,d.convertToNoDocument(Jt.min()));t.push(this.qn.addEntry(e,u,v))}}),o.forEach(u=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.qn.updateMetadata(e,r)),ke.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:o})=>(o.forEach((u,d)=>{this.Gn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function JE(n){return Fi(n,"remoteDocumentGlobal")}function Zl(n){return Fi(n,"remoteDocumentsV14")}function pp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Fs(n,e){const t=e.documentKey.path.toArray();return[n,mm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function id(n,e){const t=n.path.length-e.path.length;return 0!==t?t:it.comparator(n,e)}class MI{constructor(e){this.M=e}kt(e,t,r,o){const u=new ov("createOrUpgrade",t);var g;r<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fI,{unique:!0}),g.createObjectStore("documentMutations"),XE(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=ke.resolve();return r<3&&o>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),XE(e)),d=d.next(()=>function(g){const v=g.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",S)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(g,v){return v.store("mutations").qt().next(S=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fI,{unique:!0});const V=v.store("mutations"),G=S.map(ee=>V.put(ee));return ke.waitFor(G)})}(e,u))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Kn(u))),r<6&&o>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(u)))),r<7&&o>=7&&(d=d.next(()=>this.jn(u))),r<8&&o>=8&&(d=d.next(()=>this.Wn(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.zn(u))),r<11&&o>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(g){const v=g.createObjectStore("documentOverlays",{keyPath:iv});v.createIndex("collectionPathOverlayIndex",fm,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",sp,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(g){const v=g.createObjectStore("remoteDocumentsV14",{keyPath:ch});v.createIndex("documentKeyIndex",ip),v.createIndex("collectionGroupIndex",gI)}(e)).next(()=>this.Hn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>{!function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:_I}).createIndex("sequenceNumberIndex",vI,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:PE}).createIndex("documentKeyIndex",NE,{unique:!1})}(e)})),d}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=hp(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>ke.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(g=>ke.forEach(g,v=>{an(v.userId===u.userId);const S=fh(this.M,v);return bm(e,u.userId,S).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((d,g)=>{const v=new Hn(d),S=[0,ts(v)];u.push(t.get(S).next(V=>V?ke.resolve():t.put({targetId:0,path:ts(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ke.waitFor(u))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:yI});const r=t.store("collectionParents"),o=new pv,u=d=>{if(o.add(d)){const g=d.lastSegment(),v=d.popLast();return r.put({collectionId:g,parent:ts(v)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,g)=>{const v=new Hn(d);return u(v.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,g,v],S)=>{const V=ma(g);return u(V.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=ap(o),d=jE(this.M,u);return t.put(d)})}Hn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,d)=>{const g=t.store("remoteDocumentsV14"),v=(S=d,S.document?new it(Hn.fromString(S.document.name).popFirst(5)):S.noDocument?it.fromSegments(S.noDocument.path):S.unknownDocument?it.fromSegments(S.unknownDocument.path):At()).path.toArray();var S;const V={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(g.put(V))}).next(()=>ke.waitFor(o))}}function XE(n){n.createObjectStore("targetDocuments",{keyPath:RE}).createIndex("documentTargetsIndex",mI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_A,{unique:!0}),n.createObjectStore("targetGlobal")}const eb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sd{constructor(e,t,r,o,u,d,g,v,S,V,G=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=u,this.window=d,this.document=g,this.Yn=S,this.Xn=V,this.Zn=G,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=ee=>Promise.resolve(),!sd.vt())throw new Qe(Re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ZE(this,o),this.cs=t+"main",this.M=new UE(v),this.hs=new $a(this.cs,this.Zn,new MI(this.M)),this.ls=new yv(this.referenceDelegate,this.M),this.fs=new YE(this.M),this.ds=new HE,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===V&&ti("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Qe(Re.FAILED_PRECONDITION,eb);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new _o(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,Ue.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,Ue.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,Ue.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(jl(e))return nt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return gp(e).get("owner").next(t=>ke.resolve(this.bs(t)))}Ps(e){return gh(e).delete(this.clientId)}Vs(){var e=this;return(0,Ue.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Fi(r,"clientMetadata");return o.qt().next(u=>{const d=e.Ss(u,18e5),g=u.filter(v=>-1===d.indexOf(v));return ke.forEach(g,v=>o.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?ke.resolve(!0):gp(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Qe(Re.FAILED_PRECONDITION,eb);return!1}}return!(!this.networkEnabled||!this.inForeground)||gh(e).qt().next(r=>void 0===this.Ss(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&nt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ue.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new bI(t,_o.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>gh(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return mv.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new AI(e)}getDocumentOverlayCache(e){return hv.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){nt("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(d=this.Zn)?wI:13===d?sv:12===d?FE:11===d?kE:void At();var d;let g;return this.hs.runTransaction(e,o,u,v=>(g=new bI(v,this.ts?this.ts.next():_o.A),"readwrite-primary"===t?this.Ts(g).next(S=>!!S||this.Es(g)).next(S=>{if(!S)throw ti(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Qe(Re.FAILED_PRECONDITION,LE);return r(g)}).next(S=>this.Rs(g).next(()=>S)):this.Fs(g).next(()=>r(g)))).then(v=>(g.raiseOnCommittedEvent(),v))}Fs(e){return gp(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Qe(Re.FAILED_PRECONDITION,eb)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gp(e).put("owner",t)}static vt(){return $a.vt()}As(e){const t=gp(e);return t.get("owner").next(r=>this.bs(r)?(nt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ke.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(ti(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,ln.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return nt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ti("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){ti("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gp(n){return Fi(n,"owner")}function gh(n){return Fi(n,"clientMetadata")}function Ev(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tb{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}Us(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return it.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):j_(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new it(t)).next(r=>{let o=W_();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let u=W_();return this.indexManager.getCollectionParents(e,o).next(d=>ke.forEach(d,g=>{const v=(S=t,V=g.child(o),new lu(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,V;return this.Ws(e,v,r).next(S=>{S.forEach((V,G)=>{u=u.insert(V,G)})})}).next(()=>u))}Ws(e,t,r){let o;return this.fs.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const d of u)for(const g of d.mutations){const v=g.key;let S=o.get(v);null==S&&(S=Tr.newInvalidDocument(v),o=o.insert(v,S)),am(g,S,d.localWriteTime),S.isFoundDocument()||(o=o.remove(v))}}).next(()=>(o.forEach((u,d)=>{nE(t,d)||(o=o.remove(u))}),o))}}class bv{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=Xn(),o=Xn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bv(e,t.fromCache,r,o)}}class nb{Ys(e){this.Xs=e}Ks(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Jt.min())?this.Zs(e,t):this.Xs.qs(e,o).next(u=>{const d=this.ti(t,u);return(Wf(t)||rh(t))&&this.ei(t.limitType,d,o,r)?this.Zs(e,t):(Jd()<=Tc.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nm(t)),this.Xs.Ks(e,t,F_(r,-1)).next(g=>(d.forEach(v=>{g=g.insert(v.key,v)}),g)))});var u}ti(e,t){let r=new Ir(rE(e));return t.forEach((o,u)=>{nE(e,u)&&(r=r.add(u))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Zs(e,t){return Jd()<=Tc.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",nm(t)),this.Xs.Ks(e,t,Yu.min())}}class Cv{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new Ai(An),this.ii=new Jc(u=>qc(u),zf),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new tb(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function Tv(n,e,t,r){return new Cv(n,e,t,r)}function Iv(n,e){return mh.apply(this,arguments)}function mh(){return mh=(0,Ue.Z)(function*(n,e){const t=wt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.$s.getAllMutationBatches(r).next(u=>(o=u,t.ui(e),t.$s.getAllMutationBatches(r))).next(u=>{const d=[],g=[];let v=Xn();for(const S of o){d.push(S.batchId);for(const V of S.mutations)v=v.add(V.key)}for(const S of u){g.push(S.batchId);for(const V of S.mutations)v=v.add(V.key)}return t.ai.qs(r,v).next(S=>({ci:S,removedBatchIds:d,addedBatchIds:g}))})})}),mh.apply(this,arguments)}function Dv(n,e){const t=wt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.oi.newChangeBuffer({trackRemovals:!0});return function(d,g,v,S){const V=v.batch,G=V.keys();let ee=ke.resolve();return G.forEach(ue=>{ee=ee.next(()=>S.getEntry(g,ue)).next(le=>{const Ne=v.docVersions.get(ue);an(null!==Ne),le.version.compareTo(Ne)<0&&(V.applyToRemoteDocument(le,v),le.isValidDocument()&&(le.setReadTime(v.commitVersion),S.addEntry(le)))})}),ee.next(()=>d.$s.removeMutationBatch(g,V))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,o))})}function xI(n){const e=wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function rb(n,e){const t=wt(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const g=[];e.targetChanges.forEach((S,V)=>{const G=o.get(V);if(!G)return;g.push(t.ls.removeMatchingKeys(u,S.removedDocuments,V).next(()=>t.ls.addMatchingKeys(u,S.addedDocuments,V)));let ee=G.withSequenceNumber(u.currentSequenceNumber);var ue,le,Ne;e.targetMismatches.has(V)?ee=ee.withResumeToken(Vr.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):S.resumeToken.approximateByteSize()>0&&(ee=ee.withResumeToken(S.resumeToken,r)),o=o.insert(V,ee),le=ee,Ne=S,(0===(ue=G).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0)&&g.push(t.ls.updateTargetData(u,ee))});let v=ko();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),g.push(ib(u,d,e.documentUpdates).next(S=>{v=S})),!r.isEqual(Jt.min())){const S=t.ls.getLastRemoteSnapshotVersion(u).next(V=>t.ls.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(S)}return ke.waitFor(g).next(()=>d.apply(u)).next(()=>t.ai.Gs(u,v)).next(()=>v)}).then(u=>(t.si=o,u))}function ib(n,e,t){let r=Xn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=ko();return t.forEach((d,g)=>{const v=o.get(d);g.isNoDocument()&&g.version.isEqual(Jt.min())?(e.removeEntry(d,g.readTime),u=u.insert(d,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),u=u.insert(d,g)):nt("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",g.version)}),u})}function sb(n,e){const t=wt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function el(n,e){const t=wt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ls.getTargetData(r,e).next(u=>u?(o=u,ke.resolve(o)):t.ls.allocateTargetId(r).next(d=>(o=new Hl(e,d,0,r.currentSequenceNumber),t.ls.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function od(n,e,t){return Av.apply(this,arguments)}function Av(){return Av=(0,Ue.Z)(function*(n,e,t){const r=wt(n),o=r.si.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!jl(d))throw d;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),Av.apply(this,arguments)}function yh(n,e,t){const r=wt(n);let o=Jt.min(),u=Xn();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,v,S){const V=wt(g),G=V.ii.get(S);return void 0!==G?ke.resolve(V.si.get(G)):V.ls.getTargetData(v,S)}(r,d,ja(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(d,g.targetId).next(v=>{u=v})}).next(()=>r.ni.Ks(d,e,t?o:Jt.min(),t?u:Xn())).next(g=>(ob(r,Wt(e),g),{documents:g,hi:u})))}function Tm(n,e){const t=wt(n),r=wt(t.ls),o=t.si.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(d=>d?d.target:null))}function OI(n,e){const t=wt(n),r=t.ri.get(e)||Jt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.oi.getAllFromCollectionGroup(o,e,F_(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(ob(t,e,o),o))}function ob(n,e,t){let r=Jt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ri.set(e,r)}function Im(){return Im=(0,Ue.Z)(function*(n,e,t,r){const o=wt(n);let u=Xn(),d=ko();for(const S of t){const V=e.li(S.metadata.name);S.document&&(u=u.add(V));const G=e.fi(S);G.setReadTime(e.di(S.metadata.readTime)),d=d.insert(V,G)}const g=o.oi.newChangeBuffer({trackRemovals:!0}),v=yield el(o,(S=r,ja(Wc(Hn.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>ib(S,g,d).next(V=>(g.apply(S),V)).next(V=>o.ls.removeMatchingKeysForTargetId(S,v.targetId).next(()=>o.ls.addMatchingKeys(S,u,v.targetId)).next(()=>o.ai.Gs(S,V)).next(()=>V)))}),Im.apply(this,arguments)}function ab(n,e){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,Ue.Z)(function*(n,e,t=Xn()){const r=yield el(n,ja(td(e.bundledQuery))),o=wt(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=es(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.ds.saveNamedQuery(u,e);const g=r.withResumeToken(Vr.EMPTY_BYTE_STRING,d);return o.si=o.si.insert(g.targetId,g),o.ls.updateTargetData(u,g).next(()=>o.ls.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.ls.addMatchingKeys(u,t,r.targetId)).next(()=>o.ds.saveNamedQuery(u,e))})}),Sv.apply(this,arguments)}class ub{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ke.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:es(r.createTime)}),ke.resolve()}getNamedQuery(e,t){return ke.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:td(r.bundledQuery),readTime:es(r.readTime)}),ke.resolve();var r}}class lb{constructor(){this.overlays=new Ai(it.comparator),this.mi=new Map}getOverlay(e,t){return ke.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),ke.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.mi.delete(r)),ke.resolve()}getOverlaysForCollection(e,t,r){const o=Xf(),u=t.length+1,d=new it(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,S=v.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===u&&v.largestBatchId>r&&o.set(v.getKey(),v)}return ke.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Ai((S,V)=>S-V);const d=this.overlays.getIterator();for(;d.hasNext();){const S=d.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let V=u.get(S.largestBatchId);null===V&&(V=Xf(),u=u.insert(S.largestBatchId,V)),V.set(S.getKey(),S)}}const g=Xf(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((S,V)=>g.set(S,V)),!(g.size()>=o)););return ke.resolve(g)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const d=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new op(t,r));let u=this.mi.get(t);void 0===u&&(u=Xn(),this.mi.set(t,u)),this.mi.set(t,u.add(r.key))}}class Mv{constructor(){this.gi=new Ir(ns.yi),this.pi=new Ir(ns.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new ns(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new ns(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new it(new Hn([])),r=new ns(t,e),o=new ns(t,e+1),u=[];return this.pi.forEachInRange([r,o],d=>{this.Ei(d),u.push(d.key)}),u}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new it(new Hn([])),r=new ns(t,e),o=new ns(t,e+1);let u=Xn();return this.pi.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new ns(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ns{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return it.comparator(e.key,t.key)||An(e.Vi,t.Vi)}static Ii(e,t){return An(e.Vi,t.Vi)||it.comparator(e.key,t.key)}}class cb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Ir(ns.yi)}checkEmpty(e){return ke.resolve(0===this.$s.length)}addMutationBatch(e,t,r,o){const u=this.vi;this.vi++;const d=new VE(u,t,r,o);this.$s.push(d);for(const g of o)this.Si=this.Si.add(new ns(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ke.resolve(d)}lookupMutationBatch(e,t){return ke.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),u=o<0?0:o;return ke.resolve(this.$s.length>u?this.$s[u]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return ke.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ns(t,0),o=new ns(t,Number.POSITIVE_INFINITY),u=[];return this.Si.forEachInRange([r,o],d=>{const g=this.Di(d.Vi);u.push(g)}),ke.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ir(An);return t.forEach(o=>{const u=new ns(o,0),d=new ns(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([u,d],g=>{r=r.add(g.Vi)})}),ke.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;it.isDocumentKey(u)||(u=u.child(""));const d=new ns(new it(u),0);let g=new Ir(An);return this.Si.forEachWhile(v=>{const S=v.key.path;return!!r.isPrefixOf(S)&&(S.length===o&&(g=g.add(v.Vi)),!0)},d),ke.resolve(this.xi(g))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){an(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return ke.forEach(t.mutations,o=>{const u=new ns(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new ns(t,0),o=this.Si.firstAfterOrEqual(r);return ke.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ke.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class PI{constructor(e){this.ki=e,this.docs=new Ai(it.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ke.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(t))}getEntries(e,t){let r=ko();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Tr.newInvalidDocument(o))}),ke.resolve(r)}getAllFromCollection(e,t,r){let o=ko();const u=new it(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:g,value:{document:v}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||GT($T(v),r)<=0||(o=o.insert(v.key,v.mutableCopy()))}return ke.resolve(o)}getAllFromCollectionGroup(e,t,r,o){At()}Mi(e,t){return ke.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new db(this)}getSize(e){return ke.resolve(this.size)}}class db extends KE{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.qn.addEntry(e,o)):this.qn.removeEntry(r)}),ke.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class hb{constructor(e){this.persistence=e,this.Oi=new Jc(t=>qc(t),zf),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Mv,this.targetCount=0,this.Bi=ql.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),ke.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new ql(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ke.resolve()}updateTargetData(e,t){return this.In(t),ke.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Oi.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),ke.waitFor(u).next(()=>o)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return ke.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),ke.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ke.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return ke.resolve(r)}containsKey(e,t){return ke.resolve(this.$i.containsKey(t))}}class fb{constructor(e,t){this.Li={},this.overlays={},this.ts=new _o(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new hb(this),this.indexManager=new cp,this.fs=new PI(r=>this.referenceDelegate.Ui(r)),this.M=new UE(t),this.ds=new ub(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new cb(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){nt("MemoryPersistence","Starting transaction:",e);const o=new pb(this.ts.next());return this.referenceDelegate.qi(),r(o).next(u=>this.referenceDelegate.Gi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ki(e,t){return ke.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class pb extends pm{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Qi=new Mv,this.ji=null}static Wi(e){return new xv(e)}get zi(){if(this.ji)return this.ji;throw At()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),ke.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ke.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.zi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.zi,r=>{const o=it.fromPath(r);return this.Hi(e,o).next(u=>{u||t.removeEntry(o,Jt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return ke.or([()=>ke.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function gb(n,e){return`firestore_clients_${n}_${e}`}function NI(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Dm(n,e){return`firestore_targets_${n}_${e}`}class Ov{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Qe(o.error.code,o.error.message))),d?new Ov(e,t,o.state,u):(ti("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Am{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Qe(r.error.code,r.error.message))),u?new Am(e,r.state,o):(ti("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=lm();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=Ua(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new Rv(e,u):(ti("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mb{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mb(t.clientId,t.onlineState):(ti("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yb{constructor(){this.activeTargetIds=lm()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _b{constructor(e,t,r,o,u){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ai(An),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=gb(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new yb),this.ar=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ue.Z)(function*(){const t=yield e.syncEngine.Os();for(const o of t){if(o===e.tr)continue;const u=e.getItem(gb(e.persistenceKey,o));if(u){const d=Rv.Ji(o,u);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Dm(this.persistenceKey,e));if(r){const o=Am.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dm(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nt("SharedClientState","READ",e,t),t}setItem(e,t){nt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(nt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void ti("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,Ue.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const o=t.Vr(r.key,r.newValue);if(o)return t.vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(u){let d=_o.A;if(null!=u)try{const g=JSON.parse(u);an("number"==typeof g),d=g}catch(g){ti("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);o!==_o.A&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new Ov(this.currentUser,e,t,r),u=NI(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Yi())}pr(e){const t=NI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=Dm(this.persistenceKey,e),u=new Am(e,t,r);this.setItem(o,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Rv.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),o=Number(r[1]);return Ov.Ji(new Ps(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Am.Ji(o,t)}wr(e){return mb.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,Ue.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);nt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),u=this.gr(r),d=[],g=[];return u.forEach(v=>{o.has(v)||d.push(v)}),o.forEach(v=>{u.has(v)||g.push(v)}),this.syncEngine.Or(d,g).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=lm();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class kI{constructor(){this.Fr=new yb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new yb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vA{Br(e){}shutdown(){}}class mp{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vb{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Pv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,u){const d=this.oo(e,t);nt("RestConnection","Sending: ",d,r);const g={};return this.uo(g,o,u),this.ao(e,d,g,r).then(v=>(nt("RestConnection","Received: ",v),v),v=>{throw Xd("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}co(e,t,r,o,u){return this.ro(e,t,r,o,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}oo(e,t){return`${this.so}/v1/${t}:${wA[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((u,d)=>{const g=new qg;g.listenOnce(Bw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Fc.NO_ERROR:const S=g.getResponseJson();nt("Connection","XHR received:",JSON.stringify(S)),u(S);break;case Fc.TIMEOUT:nt("Connection",'RPC "'+e+'" timed out'),d(new Qe(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const V=g.getStatus();if(nt("Connection",'RPC "'+e+'" failed with status:',V,"response text:",g.getResponseText()),V>0){const G=g.getResponseJson().error;if(G&&G.status&&G.message){const ee=function(ue){const le=ue.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(le)>=0?le:Re.UNKNOWN}(G.status);d(new Qe(ee,G.message))}else d(new Qe(Re.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Qe(Re.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{nt("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(o);g.send(t,"POST",v,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=kT(),d=yA(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new FT({})),this.uo(g.initMessageHeaders,t,r),(0,ln.uI)()||(0,ln.b$)()||(0,ln.d)()||(0,ln.w1)()||(0,ln.Mn)()||(0,ln.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");nt("Connection","Creating WebChannel: "+v,g);const S=u.createWebChannel(v,g);let V=!1,G=!1;const ee=new vb({jr:le=>{G?nt("Connection","Not sending because WebChannel is closed:",le):(V||(nt("Connection","Opening WebChannel transport."),S.open(),V=!0),nt("Connection","WebChannel sending:",le),S.send(le))},Wr:()=>S.close()}),ue=(le,Ne,Xe)=>{le.listen(Ne,bt=>{try{Xe(bt)}catch(Et){setTimeout(()=>{throw Et},0)}})};return ue(S,Lc.EventType.OPEN,()=>{G||nt("Connection","WebChannel transport opened.")}),ue(S,Lc.EventType.CLOSE,()=>{G||(G=!0,nt("Connection","WebChannel transport closed"),ee.eo())}),ue(S,Lc.EventType.ERROR,le=>{G||(G=!0,Xd("Connection","WebChannel transport errored:",le),ee.eo(new Qe(Re.UNAVAILABLE,"The operation could not be completed")))}),ue(S,Lc.EventType.MESSAGE,le=>{var Ne;if(!G){const Xe=le.data[0];an(!!Xe);const bt=Xe,Et=bt.error||(null===(Ne=bt[0])||void 0===Ne?void 0:Ne.error);if(Et){nt("Connection","WebChannel received error:",Et);const Ht=Et.status;let pt=function($t){const hr=Di[$t];if(void 0!==hr)return gE(hr)}(Ht),un=Et.message;void 0===pt&&(pt=Re.INTERNAL,un="Unknown error status: "+Ht+" with message "+Et.message),G=!0,ee.eo(new Qe(pt,un)),S.close()}else nt("Connection","WebChannel received:",Xe),ee.no(Xe)}}),ue(d,T_.STAT_EVENT,le=>{le.stat===Gg.PROXY?nt("Connection","Detected buffering proxy"):le.stat===Gg.NOPROXY&&nt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ee.Zr()},0),ee}}function Nv(){return"undefined"!=typeof window?window:null}function yp(){return"undefined"!=typeof document?document:null}function Sm(n){return new vE(n,!0)}class _p{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=o,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class kv{constructor(e,t,r,o,u,d,g,v){this.Jn=e,this.Ao=r,this.Ro=o,this.bo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new _p(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ue.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,Ue.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,Ue.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===Re.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===Re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Qe(Re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,Ue.Z)(function*(){e.state=0,e.start()}))}qo(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wb extends kv{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.M=u}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function DE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:At(),o=e.targetChange.targetIds||[],u=function(v,S){return v.N?(an(void 0===S||"string"==typeof S),Vr.fromBase64String(S||"")):(an(void 0===S||S instanceof Uint8Array),Vr.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const S=void 0===v.code?Re.UNKNOWN:gE(v.code);return new Qe(S,v.message||"")}(d);t=new yE(r,o,u,g||null)}else if("documentChange"in e){const r=e.documentChange,o=du(n,r.document.name),u=es(r.document.updateTime),d=new ki({mapValue:{fields:r.document.fields}}),g=Tr.newFoundDocument(o,u,d);t=new cm(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=du(n,r.document),u=r.readTime?es(r.readTime):Jt.min(),d=Tr.newNoDocument(o,u);t=new cm([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=du(n,r.document);t=new cm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return At();{const r=e.filter,u=new fE(r.count||0);t=new Z_(r.targetId,u)}}var v;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return Jt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Jt.min():u.readTime?es(u.readTime):Jt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=np(this.M),t.addTarget=function(o,u){let d;const g=u.target;return d=Jg(g)?{documents:ev(o,g)}:{query:AE(o,g)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=wE(o,u.resumeToken):u.snapshotVersion.compareTo(Jt.min())>0&&(d.readTime=oh(o,u.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function cI(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return At()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=np(this.M),t.removeTarget=e,this.Oo(t)}}class Eb extends kv{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.M=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function lI(n,e){return n&&n.length>0?(an(void 0!==e),n.map(t=>function(r,o){let u=es(r.updateTime?r.updateTime:o);return u.isEqual(Jt.min())&&(u=es(o)),new Yf(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.Jo(r,t)}return an(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=np(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>uh(this.M,r))};this.Oo(t)}}class EA extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.Zo=!1}tu(){if(this.Zo)throw new Qe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ro(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Qe(Re.UNKNOWN,o.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Qe(Re.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class bb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ti(t),this.su=!1):nt("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class FI{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(g=>{r.enqueueAndForget((0,Ue.Z)(function*(){var v;pu(d)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ue.Z)(function*(S){const V=wt(S);V.lu.add(4),yield vp(V),V._u.set("Unknown"),V.lu.delete(4),yield ad(V)}),function(S){return v.apply(this,arguments)})(d))}))}),this._u=new bb(r,o)}}function ad(n){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,Ue.Z)(function*(n){if(pu(n))for(const e of n.fu)yield e(!0)}),Fv.apply(this,arguments)}function vp(n){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,Ue.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Cb.apply(this,arguments)}function Lv(n,e){const t=wt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Uv(t)?Ib(t):_h(t).Co()&&Vv(t,e))}function wp(n,e){const t=wt(n),r=_h(t);t.hu.delete(e),r.Co()&&Tb(t,e),0===t.hu.size&&(r.Co()?r.ko():pu(t)&&t._u.set("Unknown"))}function Vv(n,e){n.wu.Z(e.targetId),_h(n).Qo(e)}function Tb(n,e){n.wu.Z(e),_h(n).jo(e)}function Ib(n){n.wu=new sI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),_h(n).start(),n._u.iu()}function Uv(n){return pu(n)&&!_h(n).Do()&&n.hu.size>0}function pu(n){return 0===wt(n).lu.size}function Db(n){n.wu=void 0}function Ga(n){return Bv.apply(this,arguments)}function Bv(){return Bv=(0,Ue.Z)(function*(n){n.hu.forEach((e,t)=>{Vv(n,e)})}),Bv.apply(this,arguments)}function jv(n,e){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,Ue.Z)(function*(n,e){Db(n),Uv(n)?(n._u.uu(e),Ib(n)):n._u.set("Unknown")}),Hv.apply(this,arguments)}function LI(n,e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Ue.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof yE&&2===e.state&&e.cause)try{yield(r=(0,Ue.Z)(function*(o,u){const d=u.cause;for(const g of u.targetIds)o.hu.has(g)&&(yield o.remoteSyncer.rejectListen(g,d),o.hu.delete(g),o.wu.removeTarget(g))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bp(n,r)}else if(e instanceof cm?n.wu.ut(e):e instanceof Z_?n.wu._t(e):n.wu.ht(e),!t.isEqual(Jt.min()))try{const r=yield xI(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.wu.yt(u);return d.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const S=o.hu.get(v);S&&o.hu.set(v,S.withResumeToken(g.resumeToken,u))}}),d.targetMismatches.forEach(g=>{const v=o.hu.get(g);if(!v)return;o.hu.set(g,v.withResumeToken(Vr.EMPTY_BYTE_STRING,v.snapshotVersion)),Tb(o,g);const S=new Hl(v.target,g,1,v.sequenceNumber);Vv(o,S)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){nt("RemoteStore","Failed to raise snapshot:",r),yield bp(n,r)}var r}),Ep.apply(this,arguments)}function bp(n,e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,Ue.Z)(function*(n,e,t){if(!jl(e))throw e;n.lu.add(1),yield vp(n),n._u.set("Offline"),t||(t=()=>xI(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ue.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield ad(n)}))}),Mm.apply(this,arguments)}function Ab(n,e){return e().catch(t=>bp(n,t,e))}function ud(n){return xm.apply(this,arguments)}function xm(){return xm=(0,Ue.Z)(function*(n){const e=wt(n),t=tl(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;VI(e);)try{const o=yield sb(e.localStore,r);if(null===o){0===e.cu.length&&t.ko();break}r=o.batchId,UI(e,o)}catch(o){yield bp(e,o)}Om(e)&&ya(e)}),xm.apply(this,arguments)}function VI(n){return pu(n)&&n.cu.length<10}function UI(n,e){n.cu.push(e);const t=tl(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function Om(n){return pu(n)&&!tl(n).Do()&&n.cu.length>0}function ya(n){tl(n).start()}function BI(n){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,Ue.Z)(function*(n){tl(n).Xo()}),Sb.apply(this,arguments)}function jI(n){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Ue.Z)(function*(n){const e=tl(n);for(const t of n.cu)e.Ho(t.mutations)}),Rm.apply(this,arguments)}function HI(n,e,t){return $v.apply(this,arguments)}function $v(){return $v=(0,Ue.Z)(function*(n,e,t){const r=n.cu.shift(),o=gm.from(r,e,t);yield Ab(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield ud(n)}),$v.apply(this,arguments)}function Mb(n,e){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,Ue.Z)(function*(n,e){var t;e&&tl(n).zo&&(yield(t=(0,Ue.Z)(function*(r,o){if(pE(u=o.code)&&u!==Re.ABORTED){const d=r.cu.shift();tl(r).No(),yield Ab(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield ud(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Om(n)&&ya(n)}),Gv.apply(this,arguments)}function $I(n,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,Ue.Z)(function*(n,e){const t=wt(n);t.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const r=pu(t);t.lu.add(3),yield vp(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield ad(t)}),Pm.apply(this,arguments)}function Nm(n,e){return qv.apply(this,arguments)}function qv(){return qv=(0,Ue.Z)(function*(n,e){const t=wt(n);e?(t.lu.delete(2),yield ad(t)):e||(t.lu.add(2),yield vp(t),t._u.set("Unknown"))}),qv.apply(this,arguments)}function _h(n){return n.mu||(n.mu=function(e,t,r){const o=wt(e);return o.tu(),new wb(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:Ga.bind(null,n),Jr:jv.bind(null,n),Ko:LI.bind(null,n)}),n.fu.push(function(){var e=(0,Ue.Z)(function*(t){t?(n.mu.No(),Uv(n)?Ib(n):n._u.set("Unknown")):(yield n.mu.stop(),Db(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function tl(n){return n.gu||(n.gu=function(e,t,r){const o=wt(e);return o.tu(),new Eb(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:BI.bind(null,n),Jr:Mb.bind(null,n),Yo:jI.bind(null,n),Jo:HI.bind(null,n)}),n.fu.push(function(){var e=(0,Ue.Z)(function*(t){t?(n.gu.No(),yield ud(n)):(yield n.gu.stop(),n.cu.length>0&&(nt("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Cp{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,g=new Cp(e,t,d,o,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qe(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kl(n,e){if(ti("AsyncQueue",`${e}: ${n}`),jl(n))return new Qe(Re.UNAVAILABLE,`${e}: ${n}`);throw n}class ld{constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=W_(),this.sortedSet=new Ai(this.comparator)}static emptySet(e){return new ld(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ld)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ld;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class xb{constructor(){this.yu=new Ai(it.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):At():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class cd{constructor(e,t,r,o,u,d,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new cd(e,t,ld.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Ob{constructor(){this.Iu=void 0,this.listeners=[]}}class GI{constructor(){this.queries=new Jc(e=>H_(e),tm),this.onlineState="Unknown",this.Tu=new Set}}function zv(n,e){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,Ue.Z)(function*(n,e){const t=wt(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new Ob),o)try{u.Iu=yield t.onListen(r)}catch(d){const g=Kl(d,`Initialization of query '${nm(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&Wv(t)}),Rb.apply(this,arguments)}function Pb(n,e){return km.apply(this,arguments)}function km(){return km=(0,Ue.Z)(function*(n,e){const t=wt(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),km.apply(this,arguments)}function qI(n,e){const t=wt(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const g of d.listeners)g.Au(o)&&(r=!0);d.Iu=o}}r&&Wv(t)}function zI(n,e,t){const r=wt(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function Wv(n){n.Tu.forEach(e=>{e.next()})}class Nb{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new cd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class bA{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class WI{constructor(e){this.M=e}li(e){return du(this.M,e)}fi(e){return e.metadata.exists?IE(this.M,e.document,!1):Tr.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return es(e)}}class CA{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ZI(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Hn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new WI(this.M);for(const o of e)if(o.metadata.queries){const u=r.li(o.metadata.name);for(const d of o.metadata.queries){const g=(t.get(d)||Xn()).add(u);t.set(d,g)}}return t}complete(){var e=this;return(0,Ue.Z)(function*(){const t=yield function RI(n,e,t,r){return Im.apply(this,arguments)}(e.localStore,new WI(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield ab(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function ZI(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class kb{constructor(e){this.key=e}}class Tp{constructor(e){this.key=e}}class Fb{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Xn(),this.mutatedKeys=Xn(),this.Lu=rE(e),this.Uu=new ld(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new xb,o=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=Wf(this.query)&&o.size===this.query.limit?o.last():null,S=rh(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((V,G)=>{const ee=o.get(V),ue=nE(this.query,G)?G:null,le=!!ee&&this.mutatedKeys.has(ee.key),Ne=!!ue&&(ue.hasLocalMutations||this.mutatedKeys.has(ue.key)&&ue.hasCommittedMutations);let Xe=!1;ee&&ue?ee.data.isEqual(ue.data)?le!==Ne&&(r.track({type:3,doc:ue}),Xe=!0):this.Qu(ee,ue)||(r.track({type:2,doc:ue}),Xe=!0,(v&&this.Lu(ue,v)>0||S&&this.Lu(ue,S)<0)&&(g=!0)):!ee&&ue?(r.track({type:0,doc:ue}),Xe=!0):ee&&!ue&&(r.track({type:1,doc:ee}),Xe=!0,(v||S)&&(g=!0)),Xe&&(ue?(d=d.add(ue),u=Ne?u.add(V):u.delete(V)):(d=d.delete(V),u=u.delete(V)))}),Wf(this.query)||rh(this.query))for(;d.size>this.query.limit;){const V=Wf(this.query)?d.last():d.first();d=d.delete(V.key),u=u.delete(V.key),r.track({type:1,doc:V})}return{Uu:d,Ku:r,ei:g,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Ku.pu();u.sort((S,V)=>function(G,ee){const ue=le=>{switch(le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return ue(G)-ue(ee)}(S.type,V.type)||this.Lu(S.doc,V.doc)),this.ju(r);const d=t?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,v=g!==this.$u;return this.$u=g,0!==u.length||v?{snapshot:new cd(this.query,e.Uu,o,u,e.mutatedKeys,0===g,v,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new xb,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Xn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new Tp(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new kb(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=Xn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return cd.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class KI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Lb{constructor(e){this.key=e,this.Xu=!1}}class dd{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new Jc(g=>H_(g),tm),this.ea=new Map,this.na=new Set,this.sa=new Ai(it.comparator),this.ia=new Map,this.ra=new Mv,this.oa={},this.ua=new Map,this.aa=ql.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function Vb(n,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,Ue.Z)(function*(n,e){const t=c(n);let r,o;const u=t.ta.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Yu();else{const d=yield el(t.localStore,ja(e));t.isPrimaryClient&&Lv(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield Dp(t,e,r,"current"===g)}return o}),Ip.apply(this,arguments)}function Dp(n,e,t,r){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,Ue.Z)(function*(n,e,t,r){n.ha=(V,G,ee)=>{return(ue=(0,Ue.Z)(function*(le,Ne,Xe,bt){let Et=Ne.view.Gu(Xe);Et.ei&&(Et=yield yh(le.localStore,Ne.query,!1).then(({documents:un})=>Ne.view.Gu(un,Et)));const Ht=bt&&bt.targetChanges.get(Ne.targetId),pt=Ne.view.applyChanges(Et,le.isPrimaryClient,Ht);return $b(le,Ne.targetId,pt.zu),pt.snapshot}),function(le,Ne,Xe,bt){return ue.apply(this,arguments)})(n,V,G,ee);var ue};const o=yield yh(n.localStore,e,!0),u=new Fb(e,o.hi),d=u.Gu(o.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=u.applyChanges(d,n.isPrimaryClient,g);$b(n,t,v.zu);const S=new KI(e,t,u);return n.ta.set(e,S),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),v.snapshot}),Zv.apply(this,arguments)}function Kv(n,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,Ue.Z)(function*(n,e){const t=wt(n),r=t.ta.get(e),o=t.ea.get(r.targetId);if(o.length>1)return t.ea.set(r.targetId,o.filter(u=>!tm(u,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield od(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),wp(t.remoteStore,r.targetId),hd(t,r.targetId)}).catch(rd))):(hd(t,r.targetId),yield od(t.localStore,r.targetId,!0))}),Ap.apply(this,arguments)}function Ub(){return Ub=(0,Ue.Z)(function*(n,e,t){const r=f(n);try{const o=yield function(u,d){const g=wt(u),v=fi.now(),S=d.reduce((G,ee)=>G.add(ee.key),Xn());let V;return g.persistence.runTransaction("Locally write mutations","readwrite",G=>g.ai.qs(G,S).next(ee=>{V=ee;const ue=[];for(const le of d){const Ne=uE(le,V.get(le.key));null!=Ne&&ue.push(new Ha(le.key,Ne,k_(Ne.value.mapValue),Ii.exists(!0)))}return g.$s.addMutationBatch(G,v,ue,d)})).then(G=>(G.applyToLocalDocumentSet(V),{batchId:G.batchId,changes:V}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,g){let v=u.oa[u.currentUser.toKey()];v||(v=new Ai(An)),v=v.insert(d,g),u.oa[u.currentUser.toKey()]=v}(r,o.batchId,t),yield nl(r,o.changes),yield ud(r.remoteStore)}catch(o){const u=Kl(o,"Failed to persist write");t.reject(u)}}),Ub.apply(this,arguments)}function YI(n,e){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,Ue.Z)(function*(n,e){const t=wt(n);try{const r=yield rb(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.ia.get(u);d&&(an(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Xu=!0:o.modifiedDocuments.size>0?an(d.Xu):o.removedDocuments.size>0&&(an(d.Xu),d.Xu=!1))}),yield nl(t,r,e)}catch(r){yield rd(r)}}),Bb.apply(this,arguments)}function QI(n,e,t){const r=wt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ta.forEach((u,d)=>{const g=d.view.Eu(e);g.snapshot&&o.push(g.snapshot)}),function(u,d){const g=wt(u);g.onlineState=d;let v=!1;g.queries.forEach((S,V)=>{for(const G of V.listeners)G.Eu(d)&&(v=!0)}),v&&Wv(g)}(r.eventManager,e),o.length&&r.Zu.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jb(n,e,t){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,Ue.Z)(function*(n,e,t){const r=wt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ia.get(e),u=o&&o.key;if(u){let d=new Ai(it.comparator);d=d.insert(u,Tr.newNoDocument(u,Jt.min()));const g=Xn().add(u),v=new ep(Jt.min(),new Map,new Ir(An),d,g);yield YI(r,v),r.sa=r.sa.remove(u),r.ia.delete(e),Sp(r)}else yield od(r.localStore,e,!1).then(()=>hd(r,e,t)).catch(rd)}),Yv.apply(this,arguments)}function JI(n,e){return Qv.apply(this,arguments)}function Qv(){return Qv=(0,Ue.Z)(function*(n,e){const t=wt(n),r=e.batch.batchId;try{const o=yield Dv(t.localStore,e);Xv(t,r,null),Jv(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield nl(t,o)}catch(o){yield rd(o)}}),Qv.apply(this,arguments)}function XI(n,e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,Ue.Z)(function*(n,e,t){const r=wt(n);try{const o=yield function(u,d){const g=wt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return g.$s.lookupMutationBatch(v,d).next(V=>(an(null!==V),S=V.keys(),g.$s.removeMutationBatch(v,V))).next(()=>g.$s.performConsistencyCheck(v)).next(()=>g.ai.qs(v,S))})}(r.localStore,e);Xv(r,e,t),Jv(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield nl(r,o)}catch(o){yield rd(o)}}),Lm.apply(this,arguments)}function Vm(){return Vm=(0,Ue.Z)(function*(n,e){const t=wt(n);pu(t.remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=wt(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.$s.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ua.get(r)||[];o.push(e),t.ua.set(r,o)}catch(r){const o=Kl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Vm.apply(this,arguments)}function Jv(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function Xv(n,e,t){const r=wt(n);let o=r.oa[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.oa[r.currentUser.toKey()]=o}}function hd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||Um(n,r)})}function Um(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(wp(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),Sp(n))}function $b(n,e,t){for(const r of t)r instanceof kb?(n.ra.addReference(r.key,e),Gb(n,r)):r instanceof Tp?(nt("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||Um(n,r.key)):At()}function Gb(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(nt("SyncEngine","New document in limbo: "+t),n.na.add(r),Sp(n))}function Sp(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new it(Hn.fromString(e)),r=n.aa.next();n.ia.set(r,new Lb(t)),n.sa=n.sa.insert(t,r),Lv(n.remoteStore,new Hl(ja(Wc(t.path)),r,2,_o.A))}}function nl(n,e,t){return e0.apply(this,arguments)}function e0(){return e0=(0,Ue.Z)(function*(n,e,t){const r=wt(n),o=[],u=[],d=[];var g;r.ta.isEmpty()||(r.ta.forEach((g,v)=>{d.push(r.ha(v,e,t).then(S=>{if(S){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,S.fromCache?"not-current":"current"),o.push(S);const V=bv.Js(v.targetId,S);u.push(V)}}))}),yield Promise.all(d),r.Zu.Ko(o),yield(g=(0,Ue.Z)(function*(v,S){const V=wt(v);try{yield V.persistence.runTransaction("notifyLocalViewChanges","readwrite",G=>ke.forEach(S,ee=>ke.forEach(ee.zs,ue=>V.persistence.referenceDelegate.addReference(G,ee.targetId,ue)).next(()=>ke.forEach(ee.Hs,ue=>V.persistence.referenceDelegate.removeReference(G,ee.targetId,ue)))))}catch(G){if(!jl(G))throw G;nt("LocalStore","Failed to update sequence numbers: "+G)}for(const G of S){const ee=G.targetId;if(!G.fromCache){const ue=V.si.get(ee),Ne=ue.withLastLimboFreeSnapshotVersion(ue.snapshotVersion);V.si=V.si.insert(ee,Ne)}}}),function(v,S){return g.apply(this,arguments)})(r.localStore,u))}),e0.apply(this,arguments)}function TA(n,e){return qb.apply(this,arguments)}function qb(){return qb=(0,Ue.Z)(function*(n,e){const t=wt(n);if(!t.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const r=yield Iv(t.localStore,e);t.currentUser=e,(o=t).ua.forEach(d=>{d.forEach(g=>{g.reject(new Qe(Re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nl(t,r.ci)}var o}),qb.apply(this,arguments)}function IA(n,e){const t=wt(n),r=t.ia.get(e);if(r&&r.Xu)return Xn().add(r.key);{let o=Xn();const u=t.ea.get(e);if(!u)return o;for(const d of u){const g=t.ta.get(d);o=o.unionWith(g.view.qu)}return o}}function eD(n,e){return t0.apply(this,arguments)}function t0(){return t0=(0,Ue.Z)(function*(n,e){const t=wt(n),r=yield yh(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&$b(t,e.targetId,o.zu),o}),t0.apply(this,arguments)}function DA(n,e){return zb.apply(this,arguments)}function zb(){return zb=(0,Ue.Z)(function*(n,e){const t=wt(n);return OI(t.localStore,e).then(r=>nl(t,r))}),zb.apply(this,arguments)}function AA(n,e,t,r){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,Ue.Z)(function*(n,e,t,r){const o=wt(n),u=yield function(d,g){const v=wt(d),S=wt(v.$s);return v.persistence.runTransaction("Lookup mutation documents","readonly",V=>S.ln(V,g).next(G=>G?v.ai.qs(V,G):ke.resolve(null)))}(o.localStore,e);var g;null!==u?("pending"===t?yield ud(o.remoteStore):"acknowledged"===t||"rejected"===t?(Xv(o,e,r||null),Jv(o,e),g=e,wt(wt(o.localStore).$s).dn(g)):At(),yield nl(o,u)):nt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Wb.apply(this,arguments)}function n0(){return n0=(0,Ue.Z)(function*(n,e){const t=wt(n);if(c(t),f(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield tD(t,r.toArray());t.ca=!0,yield Nm(t.remoteStore,!0);for(const u of o)Lv(t.remoteStore,u)}else if(!1===e&&!1!==t.ca){const r=[];let o=Promise.resolve();t.ea.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(hd(t,d),od(t.localStore,d,!0))),wp(t.remoteStore,d)}),yield o,yield tD(t,r),function(u){const d=wt(u);d.ia.forEach((g,v)=>{wp(d.remoteStore,v)}),d.ra.bi(),d.ia=new Map,d.sa=new Ai(it.comparator)}(t),t.ca=!1,yield Nm(t.remoteStore,!1)}}),n0.apply(this,arguments)}function tD(n,e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,Ue.Z)(function*(n,e,t){const r=wt(n),o=[],u=[];for(const d of e){let g;const v=r.ea.get(d);if(v&&0!==v.length){g=yield el(r.localStore,ja(v[0]));for(const S of v){const V=r.ta.get(S),G=yield eD(r,V);G.snapshot&&u.push(G.snapshot)}}else{const S=yield Tm(r.localStore,d);g=yield el(r.localStore,S),yield Dp(r,nD(S),d,!1)}o.push(g)}return r.Zu.Ko(u),o}),Zb.apply(this,arguments)}function nD(n){return U_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function MA(n){const e=wt(n);return wt(wt(e.localStore).persistence).Os()}function i(n,e,t,r){return s.apply(this,arguments)}function s(){return s=(0,Ue.Z)(function*(n,e,t,r){const o=wt(n);if(o.ca)return void nt("SyncEngine","Ignoring unexpected query state notification.");const u=o.ea.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield OI(o.localStore,Wt(u[0])),g=ep.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield nl(o,d,g);break}case"rejected":yield od(o.localStore,e,!0),hd(o,e,r);break;default:At()}}),s.apply(this,arguments)}function a(n,e,t){return l.apply(this,arguments)}function l(){return l=(0,Ue.Z)(function*(n,e,t){const r=c(n);if(r.ca){for(const o of e){if(r.ea.has(o)){nt("SyncEngine","Adding an already active target "+o);continue}const u=yield Tm(r.localStore,o),d=yield el(r.localStore,u);yield Dp(r,nD(u),d.targetId,!1),Lv(r.remoteStore,d)}for(const o of t)r.ea.has(o)&&(yield od(r.localStore,o,!1).then(()=>{wp(r.remoteStore,o),hd(r,o)}).catch(rd))}}),l.apply(this,arguments)}function c(n){const e=wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jb.bind(null,e),e.Zu.Ko=qI.bind(null,e.eventManager),e.Zu.la=zI.bind(null,e.eventManager),e}function f(n){const e=wt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XI.bind(null,e),e}class C{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ue.Z)(function*(){t.M=Sm(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return Tv(this.persistence,new nb,e.initialUser,this.M)}_a(e){return new fb(xv.Wi,this.M)}da(e){return new kI}terminate(){var e=this;return(0,Ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class D extends C{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ue.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield f(r.ga.syncEngine),yield ud(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return Tv(this.persistence,new nb,e.initialUser,this.M)}wa(e){return new WE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=Ev(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new sd(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Nv(),yp(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new kI}}class N extends D{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ue.Z)(function*(){yield t().call(r,e);const o=r.ga.syncEngine;r.sharedClientState instanceof _b&&(r.sharedClientState.syncEngine={kr:AA.bind(null,o),Mr:i.bind(null,o),Or:a.bind(null,o),Os:MA.bind(null,o),Nr:DA.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var u=(0,Ue.Z)(function*(d){yield function SA(n,e){return n0.apply(this,arguments)}(r.ga.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}da(e){const t=Nv();if(!_b.vt(t))throw new Qe(Re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ev(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _b(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class L{initialize(e,t){var r=this;return(0,Ue.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>QI(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=TA.bind(null,r.syncEngine),yield Nm(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new GI}createDatastore(e){const t=Sm(e.databaseInfo.databaseId),r=new Pv(e.databaseInfo);return new EA(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=g=>QI(this.syncEngine,g,0),d=mp.vt()?new mp:new vA,new FI(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,g,v,S){const V=new dd(r,o,u,d,g,v);return S&&(V.ca=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ue.Z)(function*(t){const r=wt(t);nt("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield vp(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function W(n,e=10240){let t=0;return{read:()=>(0,Ue.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ue.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class re{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class me{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Ni,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,Ue.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,Ue.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,Ue.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),o=Number(r);isNaN(o)&&e.Ra(`length string (${r}) is not valid number`);const u=yield e.ba(o);return new bA(JSON.parse(u),t.length+o)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,Ue.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Ue.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,Ue.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Be{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ue.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Qe(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ue.Z)(function*(u,d){const g=wt(u),v=np(g.M)+"/documents",S={documents:d.map(ue=>ah(g.M,ue))},V=yield g.co("BatchGetDocuments",v,S),G=new Map;V.forEach(ue=>{const le=function uI(n,e){return"found"in e?function(t,r){an(!!r.found);const o=du(t,r.found.name),u=es(r.found.updateTime),d=new ki({mapValue:{fields:r.found.fields}});return Tr.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){an(!!r.missing),an(!!r.readTime);const o=du(t,r.missing),u=es(r.readTime);return Tr.newNoDocument(o,u)}(n,e):At()}(g.M,ue);G.set(le.key.toString(),le)});const ee=[];return d.forEach(ue=>{const le=G.get(ue.toString());an(!!le),ee.push(le)}),ee}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ih(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ue.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=it.fromPath(o);e.mutations.push(new um(u,e.precondition(u)))}),yield(r=(0,Ue.Z)(function*(o,u){const d=wt(o),g=np(d.M)+"/documents",v={writes:u.map(S=>uh(d.M,S))};yield d.ro("Commit",g,v)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw At();t=Jt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Qe(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ii.updateTime(t):Ii.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jt.min()))throw new Qe(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ii.updateTime(t)}return Ii.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class st{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.va=5,this.So=new _p(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,Ue.Z)(function*(){const t=new Be(e.datastore),r=e.Da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Ca(u)}))}).catch(o=>{e.Ca(o)})}))}Da(e){try{const t=this.updateFunction(e);return!jc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!pE(t)}return!1}}class ft{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ps.UNAUTHENTICATED,this.clientId=A_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ue.Z)(function*(g){nt("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(nt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ue.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Kl(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Dt(n,e){return We.apply(this,arguments)}function We(){return We=(0,Ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Ue.Z)(function*(u){r.isEqual(u)||(yield Iv(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),We.apply(this,arguments)}function jt(n,e){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,Ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Kn(n);nt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>$I(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>$I(e.remoteStore,u)),n.onlineComponents=e}),Sn.apply(this,arguments)}function Kn(n){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,Ue.Z)(function*(n){return n.offlineComponents||(nt("FirestoreClient","Using default OfflineComponentProvider"),yield Dt(n,new C)),n.offlineComponents}),Xs.apply(this,arguments)}function gu(n){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,Ue.Z)(function*(n){return n.onlineComponents||(nt("FirestoreClient","Using default OnlineComponentProvider"),yield jt(n,new L)),n.onlineComponents}),Mp.apply(this,arguments)}function Bm(n){return Kn(n).then(e=>e.persistence)}function xp(n){return Kn(n).then(e=>e.localStore)}function jm(n){return gu(n).then(e=>e.remoteStore)}function Op(n){return gu(n).then(e=>e.syncEngine)}function Yl(n){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Ue.Z)(function*(n){const e=yield gu(n),t=e.eventManager;return t.onListen=Vb.bind(null,e.syncEngine),t.onUnlisten=Kv.bind(null,e.syncEngine),t}),Rp.apply(this,arguments)}function xA(n,e,t={}){const r=new Ni;return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return function(o,u,d,g,v){const S=new re({next:G=>{u.enqueueAndForget(()=>Pb(o,V));const ee=G.docs.has(d);!ee&&G.fromCache?v.reject(new Qe(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):ee&&G.fromCache&&g&&"server"===g.source?v.reject(new Qe(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(G)},error:G=>v.reject(G)}),V=new Nb(Wc(d.path),S,{includeMetadataChanges:!0,Du:!0});return zv(o,V)}(yield Yl(n),n.asyncQueue,e,t,r)})),r.promise}function OA(n,e,t={}){const r=new Ni;return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return function(o,u,d,g,v){const S=new re({next:G=>{u.enqueueAndForget(()=>Pb(o,V)),G.fromCache&&"server"===g.source?v.reject(new Qe(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(G)},error:G=>v.reject(G)}),V=new Nb(d,S,{includeMetadataChanges:!0,Du:!0});return zv(o,V)}(yield Yl(n),n.asyncQueue,e,t,r)})),r.promise}const RA=new Map;function rD(n,e,t){if(!t)throw new Qe(Re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PA(n,e,t,r){if(!0===e&&!0===r)throw new Qe(Re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NA(n){if(!it.isDocumentKey(n))throw new Qe(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kA(n){if(it.isDocumentKey(n))throw new Qe(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":At()}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Qe(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kb(n);throw new Qe(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function FA(n,e){if(e<=0)throw new Qe(Re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class LA{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Qe(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qe(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,PA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class o0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LA({}),this._settingsFrozen=!1,e instanceof Xi?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Qe(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xi(o.options.projectId)}(e))}get app(){if(!this._app)throw new Qe(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qe(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new VT;switch(t.type){case"gapi":const r=t.client;return an(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Gw(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Qe(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=RA.get(e);t&&(nt("ComponentProvider","Removing Datastore"),RA.delete(e),t.terminate())}(this),Promise.resolve()}}class zr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}}class vo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class Ql extends vo{constructor(e,t,r){super(e,t,Wc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new it(e))}withConverter(e){return new Ql(this.firestore,e,this._path)}}function Yb(n,e,...t){if(n=(0,ln.m9)(n),rD("collection","path",e),n instanceof o0){const r=Hn.fromString(e,...t);return kA(r),new Ql(n,null,r)}{if(!(n instanceof zr||n instanceof Ql))throw new Qe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Hn.fromString(e,...t));return kA(r),new Ql(n.firestore,null,r)}}function Qb(n,e,...t){if(n=(0,ln.m9)(n),1===arguments.length&&(e=A_.R()),rD("doc","path",e),n instanceof o0){const r=Hn.fromString(e,...t);return NA(r),new zr(n,null,new it(r))}{if(!(n instanceof zr||n instanceof Ql))throw new Qe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Hn.fromString(e,...t));return NA(r),new zr(n.firestore,n instanceof Ql?n.converter:null,new it(r))}}function VA(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),(n instanceof zr||n instanceof Ql)&&(e instanceof zr||e instanceof Ql)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function UA(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),n instanceof vo&&e instanceof vo&&n.firestore===e.firestore&&tm(n._query,e._query)&&n.converter===e.converter}class iM{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new _p(this,"async_queue_retry"),this.Ua=()=>{const t=yp();t&&nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=yp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=yp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Ni;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,Ue.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!jl(t))throw t;nt("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,ti("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const o=Cp.createAndSchedule(this,e,t,r,u=>this.Qa(u));return this.Oa.push(o),o}qa(){this.Fa&&At()}verifyOperationInProgress(){}ja(){var e=this;return(0,Ue.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function iD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class sM{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ri extends o0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new iM,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||BA(this),this._firestoreClient.terminate()}}function rs(n){return n._firestoreClient||BA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function BA(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new M_(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new ft(n._authCredentials,n._appCheckCredentials,n._queue,r)}function jA(n,e,t){const r=new Ni;return n.asyncQueue.enqueue((0,Ue.Z)(function*(){try{yield Dt(n,t),yield jt(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===Re.FAILED_PRECONDITION||u.code===Re.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function HA(n){if(n._initialized||n._terminated)throw new Qe(Re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Qe(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(Vr.fromBase64String(e))}catch(t){throw new Qe(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jl(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pp{constructor(e){this._methodName=e}}class Jb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qe(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qe(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return An(this._lat,e._lat)||An(this._long,e._long)}}const mM=/^__.*__$/;class yM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xu(e,this.data,t,this.fieldTransforms)}}class $A{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class Xb{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Ja(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new Xb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.ec(e),o}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.Ja(),o}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return nC(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(GA(this.Ya)&&mM.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class _M{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Sm(e)}uc(e,t,r,o=!1){return new Xb({Ya:e,methodName:t,oc:r,path:Ji.emptyPath(),tc:!1,rc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Np(n){const e=n._freezeSettings(),t=Sm(n._databaseId);return new _M(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eC(n,e,t,r,o,u={}){const d=n.uc(u.merge||u.mergeFields?2:0,e,t,o);uD("Data must be an object, but it was:",d,r);const g=WA(r,d);let v,S;if(u.merge)v=new Vc(d.fieldMask),S=d.fieldTransforms;else if(u.mergeFields){const V=[];for(const G of u.mergeFields){const ee=lD(e,G,t);if(!d.contains(ee))throw new Qe(Re.INVALID_ARGUMENT,`Field '${ee}' is specified in your field mask but missing from your input data.`);KA(V,ee)||V.push(ee)}v=new Vc(V),S=d.fieldTransforms.filter(G=>v.covers(G.field))}else v=null,S=d.fieldTransforms;return new yM(new ki(g),v,S)}class a0 extends Pp{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof a0}}function qA(n,e,t){return new Xb({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class sD extends Pp{_toFieldTransform(e){return new Kf(e.path,new Kc)}isEqual(e){return e instanceof sD}}class vM extends Pp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=qA(this,e,!0),r=this.ac.map(u=>kp(u,t)),o=new Yc(r);return new Kf(e.path,o)}isEqual(e){return this===e}}class wM extends Pp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=qA(this,e,!0),r=this.ac.map(u=>kp(u,t)),o=new Ul(r);return new Kf(e.path,o)}isEqual(e){return this===e}}class EM extends Pp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Qc(e.M,sE(e.M,this.cc));return new Kf(e.path,t)}isEqual(e){return this===e}}function oD(n,e,t,r){const o=n.uc(1,e,t);uD("Data must be an object, but it was:",o,r);const u=[],d=ki.empty();Nr(r,(v,S)=>{const V=tC(e,v,t);S=(0,ln.m9)(S);const G=o.nc(V);if(S instanceof a0)u.push(V);else{const ee=kp(S,G);null!=ee&&(u.push(V),d.set(V,ee))}});const g=new Vc(u);return new $A(d,g,o.fieldTransforms)}function aD(n,e,t,r,o,u){const d=n.uc(1,e,t),g=[lD(e,r,t)],v=[o];if(u.length%2!=0)throw new Qe(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ee=0;ee<u.length;ee+=2)g.push(lD(e,u[ee])),v.push(u[ee+1]);const S=[],V=ki.empty();for(let ee=g.length-1;ee>=0;--ee)if(!KA(S,g[ee])){const ue=g[ee];let le=v[ee];le=(0,ln.m9)(le);const Ne=d.nc(ue);if(le instanceof a0)S.push(ue);else{const Xe=kp(le,Ne);null!=Xe&&(S.push(ue),V.set(ue,Xe))}}const G=new Vc(S);return new $A(V,G,d.fieldTransforms)}function zA(n,e,t,r=!1){return kp(t,n.uc(r?4:3,e))}function kp(n,e){if(ZA(n=(0,ln.m9)(n)))return uD("Unsupported field value:",e,n),WA(n,e);if(n instanceof Pp)return function(t,r){if(!GA(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let g=kp(d,r.sc(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,ln.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sE(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=fi.fromDate(t);return{timestampValue:oh(r.M,o)}}if(t instanceof fi){const o=new fi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:oh(r.M,o)}}if(t instanceof Jb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jl)return{bytesValue:wE(r.M,t._byteString)};if(t instanceof zr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ic(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${Kb(t)}`)}(n,e)}function WA(n,e){const t={};return S_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(n,(r,o)=>{const u=kp(o,e.Za(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function ZA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fi||n instanceof Jb||n instanceof Jl||n instanceof zr||n instanceof Pp)}function uD(n,e,t){if(!ZA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Kb(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function lD(n,e,t){if((e=(0,ln.m9)(e))instanceof fd)return e._internalPath;if("string"==typeof e)return tC(n,e);throw nC("Field path arguments must be of type string or ",n,!1,void 0,t)}const bM=new RegExp("[~\\*/\\[\\]]");function tC(n,e,t){if(e.search(bM)>=0)throw nC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fd(...e.split("."))._internalPath}catch(r){throw nC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nC(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new Qe(Re.INVALID_ARGUMENT,g+n+v)}function KA(n,e){return n.some(t=>t.isEqual(e))}class u0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new CM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class CM extends u0{data(){return super.data()}}function rC(n,e){return"string"==typeof e?tC(n,e):e instanceof fd?e._internalPath:e._delegate._internalPath}class Fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pd extends u0{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new l0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class l0 extends pd{data(e={}){return super.data(e)}}class vh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Fp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new l0(this._firestore,this._userDataWriter,r.key,r,new Fp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qe(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new l0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Fp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const g=new l0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Fp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,S=-1;return 0!==d.type&&(v=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),S=u.indexOf(d.doc.key)),{type:TM(d.type),doc:g,oldIndex:v,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}function YA(n,e){return n instanceof pd&&e instanceof pd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof vh&&e instanceof vh&&n._firestore===e._firestore&&UA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function QA(n){if(rh(n)&&0===n.explicitOrderBy.length)throw new Qe(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c0{}function gd(n,...e){for(const t of e)n=t._apply(n);return n}class IM extends c0{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Np(e.firestore),r=function(o,u,d,g,v,S,V){let G;if(v.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Qe(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){sS(V,S);const ue=[];for(const le of V)ue.push(iS(g,o,le));G={arrayValue:{values:ue}}}else G=iS(g,o,V)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||sS(V,S),G=zA(d,"where",V,"in"===S||"not-in"===S);const ee=gs.create(v,S,G);return function(ue,le){if(le.S()){const Xe=B_(ue);if(null!==Xe&&!Xe.isEqual(le.field))throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Xe.toString()}' and '${le.field.toString()}'`);const bt=Ju(ue);null!==bt&&oS(0,le.field,bt)}const Ne=function(Xe,bt){for(const Et of Xe.filters)if(bt.indexOf(Et.op)>=0)return Et.op;return null}(ue,function(Xe){switch(Xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(le.op));if(null!==Ne)throw new Qe(Re.INVALID_ARGUMENT,Ne===le.op?`Invalid query. You cannot use more than one '${le.op.toString()}' filter.`:`Invalid query. You cannot use '${le.op.toString()}' filters with '${Ne.toString()}' filters.`)}(o,ee),ee}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new vo(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new lu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class AM extends c0{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Qe(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Qe(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new zc(o,u);return function(g,v){if(null===Ju(g)){const S=B_(g);null!==S&&oS(0,S,v.field)}}(r,d),d}(e._query,this.hc,this.dc);return new vo(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new lu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function JA(n,e="asc"){const t=e,r=rC("orderBy",n);return new AM(r,t)}class XA extends c0{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new vo(e.firestore,e.converter,em(e._query,this._c,this.wc))}}function eS(n){return FA("limit",n),new XA("limit",n,"F")}class tS extends c0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=rS(e,this.type,this.mc,this.gc);return new vo(e.firestore,e.converter,(o=t,new lu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class nS extends c0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=rS(e,this.type,this.mc,this.gc);return new vo(e.firestore,e.converter,(o=t,new lu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function rS(n,e,t,r){if(t[0]=(0,ln.m9)(t[0]),t[0]instanceof u0)return function(o,u,d,g,v){if(!g)throw new Qe(Re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const S=[];for(const V of Ba(o))if(V.field.isKeyField())S.push(th(u,g.key));else{const G=g.data.field(V.field);if(Zg(G))throw new Qe(Re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+V.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===G){const ee=V.field.canonicalString();throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ee}' (used as the orderBy) does not exist.`)}S.push(G)}return new Qu(S,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Np(n.firestore);return function(u,d,g,v,S,V){const G=u.explicitOrderBy;if(S.length>G.length)throw new Qe(Re.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ee=[];for(let ue=0;ue<S.length;ue++){const le=S[ue];if(G[ue].field.isKeyField()){if("string"!=typeof le)throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof le}`);if(!j_(u)&&-1!==le.indexOf("/"))throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${le}' contains a slash.`);const Ne=u.path.child(Hn.fromString(le));if(!it.isDocumentKey(Ne))throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Ne}' is not because it contains an odd number of segments.`);const Xe=new it(Ne);ee.push(th(d,Xe))}else{const Ne=zA(g,v,le);ee.push(Ne)}}return new Qu(ee,V)}(n._query,n.firestore._databaseId,o,e,t,r)}}function iS(n,e,t){if("string"==typeof(t=(0,ln.m9)(t))){if(""===t)throw new Qe(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(e)&&-1!==t.indexOf("/"))throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Hn.fromString(t));if(!it.isDocumentKey(r))throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return th(n,new it(r))}if(t instanceof zr)return th(n,t._key);throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kb(t)}.`)}function sS(n,e){if(!Array.isArray(n)||0===n.length)throw new Qe(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Qe(Re.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function oS(n,e,t){if(!t.isEqual(e))throw new Qe(Re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class cD{convertValue(e,t="none"){switch(Fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Uc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw At()}}convertObject(e,t){const r={};return Nr(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Jb(qr(e.latitude),qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=HT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const t=kl(e);return new fi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Hn.fromString(e);an(rv(r));const o=new Xi(r.get(1),r.get(3)),u=new it(r.popFirst(5));return o.isEqual(t)||ti(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function iC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class PM extends cD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,t)}}class aS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Np(e)}set(e,t,r){this._verifyNotCommitted();const o=wh(e,this._firestore),u=iC(o.converter,t,r),d=eC(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Ii.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=wh(e,this._firestore);let d;return d="string"==typeof(t=(0,ln.m9)(t))||t instanceof fd?aD(this._dataReader,"WriteBatch.update",u._key,t,r,o):oD(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Ii.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wh(e,this._firestore);return this._mutations=this._mutations.concat(new ih(t._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qe(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wh(n,e){if((n=(0,ln.m9)(n)).firestore!==e)throw new Qe(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lp extends cD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,t)}}function uS(n,e,t){n=Wn(n,zr);const r=Wn(n.firestore,ri),o=iC(n.converter,e,t);return Hm(r,[eC(Np(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Ii.none())])}function lS(n,e,t,...r){n=Wn(n,zr);const o=Wn(n.firestore,ri),u=Np(o);let d;return d="string"==typeof(e=(0,ln.m9)(e))||e instanceof fd?aD(u,"updateDoc",n._key,e,t,r):oD(u,"updateDoc",n._key,e),Hm(o,[d.toMutation(n._key,Ii.exists(!0))])}function cS(n,e){const t=Wn(n.firestore,ri),r=Qb(n),o=iC(n.converter,e);return Hm(t,[eC(Np(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Ii.exists(!1))]).then(()=>r)}function dD(n,...e){var t,r,o;n=(0,ln.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||iD(e[d])||(u=e[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges};if(iD(e[d])){const G=e[d];e[d]=null===(t=G.next)||void 0===t?void 0:t.bind(G),e[d+1]=null===(r=G.error)||void 0===r?void 0:r.bind(G),e[d+2]=null===(o=G.complete)||void 0===o?void 0:o.bind(G)}let v,S,V;if(n instanceof zr)S=Wn(n.firestore,ri),V=Wc(n._key.path),v={next:G=>{e[d]&&e[d](hD(S,n,G))},error:e[d+1],complete:e[d+2]};else{const G=Wn(n,vo);S=Wn(G.firestore,ri),V=G._query;const ee=new Lp(S);v={next:ue=>{e[d]&&e[d](new vh(S,ee,G,ue))},error:e[d+1],complete:e[d+2]},QA(n._query)}return function(G,ee,ue,le){const Ne=new re(le),Xe=new Nb(ee,Ne,ue);return G.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return zv(yield Yl(G),Xe)})),()=>{Ne.pa(),G.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return Pb(yield Yl(G),Xe)}))}}(rs(S),V,g,v)}function Hm(n,e){return function(t,r){const o=new Ni;return t.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return function Fm(n,e,t){return Ub.apply(this,arguments)}(yield Op(t),r,o)})),o.promise}(rs(n),e)}function hD(n,e,t){const r=t.docs.get(e._key),o=new Lp(n);return new pd(n,o,e._key,r,new Fp(t.hasPendingWrites,t.fromCache),e.converter)}class HM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Np(e)}get(e){const t=wh(e,this._firestore),r=new PM(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return At();const u=o[0];if(u.isFoundDocument())return new u0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new u0(this._firestore,r,t._key,null,t.converter);throw At()})}set(e,t,r){const o=wh(e,this._firestore),u=iC(o.converter,t,r),d=eC(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=wh(e,this._firestore);let d;return d="string"==typeof(t=(0,ln.m9)(t))||t instanceof fd?aD(this._dataReader,"Transaction.update",u._key,t,r,o):oD(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=wh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wh(e,this._firestore),r=new Lp(this._firestore);return super.get(e).then(o=>new pd(this._firestore,r,t._key,o._document,new Fp(!1,!1),t.converter))}}!function(n,e=!0){Qd=Ys.SDK_VERSION,(0,Ys._registerComponent)(new lf.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new ri(o,new $w(t.getProvider("auth-internal")),new qw(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Ys.registerVersion)(zg,"3.4.7",n),(0,Ys.registerVersion)(zg,"3.4.7","esm2017")}();var fD=k(5867),hS=k(424);function KM(n,e){if(1&n&&(h.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"p"),h._uU(4),h.qZA(),h.TgZ(5,"span",16),h._uU(6),h.qZA()()()()),2&n){const t=h.oxw().$implicit;h.xp6(4),h.Oqu(t.message),h.xp6(2),h.Oqu(t.date)}}function YM(n,e){if(1&n&&(h.TgZ(0,"div")(1,"div",17),h._UZ(2,"img",18),h.qZA(),h.TgZ(3,"div",19)(4,"div",20)(5,"p"),h._uU(6),h.qZA(),h.TgZ(7,"span",16),h._uU(8),h.qZA()()()()),2&n){const t=h.oxw().$implicit;h.xp6(6),h.Oqu(t.message),h.xp6(2),h.Oqu(t.date)}}function QM(n,e){if(1&n&&(h.TgZ(0,"div"),h.YNc(1,KM,7,2,"div",13),h.YNc(2,YM,9,2,"div",13),h.qZA()),2&n){const t=e.$implicit,r=h.oxw();h.xp6(1),h.Q6J("ngIf",t.uid==r.uid),h.xp6(1),h.Q6J("ngIf",t.uid!=r.uid)}}(0,fD.ZF)(kh_firebaseConfig);const fS=function aM(n=(0,Ys.getApp)()){return(0,Ys._getProvider)(n,"firestore").getImmediate()}(),JM=(0,hS.n)();let XM=(()=>{class n{constructor(t){this.router=t,this.messages=[],this.message="",this.uid="",this.chat()}ngOnInit(){}chat(){var t=this;return(0,Ue.Z)(function*(){(0,hS.t)(JM,r=>{r?(dD(gd(Yb(fS,"messages"),JA("order","desc"),eS(8)),d=>{t.messages=[],d.forEach(g=>{t.messages.push(g.data())}),t.messages.reverse()}),t.uid=r.uid,console.log(r.uid)):console.log("NOT LOGGED IN")})})()}view(){console.log(this.messages)}writeMessage(){var t=this;return(0,Ue.Z)(function*(){if(""!=t.message){var r=new Date,o=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate(),u=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds();try{const d=yield cS(Yb(fS,"messages"),{message:t.message,date:o+" "+u,uid:t.uid,order:Date.now()});console.log("Document written with ID: ",d.id)}catch(d){console.error("Error adding document: ",d)}t.message=""}})()}navigateHome(){this.router.navigateByUrl("Home")}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Na.F0))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-chat"]],decls:15,vars:2,consts:[["href","//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css","rel","stylesheet","id","bootstrap-css"],["href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css","type","text/css","rel","stylesheet"],[1,"button_home",3,"click"],[1,"bg-funky"],[1,"container"],[1,"messaging"],[1,"inbox_msg"],[1,"mesgs"],[1,"msg_history"],[4,"ngFor","ngForOf"],[1,"msg-container"],["type","text",1,"msg",3,"ngModel","ngModelChange"],[1,"button-send",3,"click"],[4,"ngIf"],[1,"outgoing_msg"],[1,"sent_msg"],[1,"time_date"],[1,"incoming_msg_img"],["src","https://ptetutorials.com/images/user-profile.png","alt","sunil"],[1,"received_msg"],[1,"received_withd_msg"]],template:function(t,r){1&t&&(h._UZ(0,"link",0)(1,"link",1),h.TgZ(2,"button",2),h.NdJ("click",function(){return r.navigateHome()}),h._uU(3,"X"),h.qZA(),h.TgZ(4,"body",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),h.YNc(10,QM,3,2,"div",9),h.qZA()()()(),h.TgZ(11,"div",10)(12,"input",11),h.NdJ("ngModelChange",function(u){return r.message=u}),h.qZA(),h.TgZ(13,"button",12),h.NdJ("click",function(){return r.writeMessage()}),h._uU(14,"SEND"),h.qZA()()()()),2&t&&(h.xp6(10),h.Q6J("ngForOf",r.messages),h.xp6(2),h.Q6J("ngModel",r.message))},directives:[b.sg,b.O5,sr,To,Qo],styles:['body[_ngcontent-%COMP%]{font-family:sans-serif!important}.bg-funky[_ngcontent-%COMP%]{background:#1eb7bd}.container[_ngcontent-%COMP%]{padding:1rem;height:100vh}.heading[_ngcontent-%COMP%]{color:#fff;margin:30px;font-weight:600}img[_ngcontent-%COMP%]{max-width:100%}.inbox_msg[_ngcontent-%COMP%]{border:1px solid #c4c4c4;clear:both;overflow:hidden;height:100%}.top_spac[_ngcontent-%COMP%]{margin:20px 0 0}.recent_heading[_ngcontent-%COMP%]{float:left;width:40%}.headind_srch[_ngcontent-%COMP%]{padding:10px 29px 10px 20px;overflow:hidden;border-bottom:1px solid #c4c4c4}.recent_heading[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#05728f;font-size:21px;margin:auto}.chat_ib[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px;color:#464646;margin:0 0 8px}.chat_ib[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;float:right}.chat_ib[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#989898;margin:auto}.chat_img[_ngcontent-%COMP%]{float:left;width:11%}.chat_ib[_ngcontent-%COMP%]{float:left;padding:0 0 0 15px;width:88%}.chat_people[_ngcontent-%COMP%]{overflow:hidden;clear:both}.chat_list[_ngcontent-%COMP%]{border-bottom:1px solid #c4c4c4;margin:0;padding:18px 16px 10px}.inbox_chat[_ngcontent-%COMP%]{height:550px;overflow-y:scroll}.active_chat[_ngcontent-%COMP%]{background:#ebebeb}.incoming_msg_img[_ngcontent-%COMP%]{display:inline-block;width:6%}.received_msg[_ngcontent-%COMP%]{display:inline-block;padding:0 0 0 10px;vertical-align:top;width:92%}.received_withd_msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#e4e8fb none repeat scroll 0 0;border-radius:3px;color:#646464;font-size:14px;margin:0;padding:5px 10px 5px 12px;width:100%}.time_date[_ngcontent-%COMP%]{color:#747474;display:block;font-size:10px;margin:3px 0 0}.received_withd_msg[_ngcontent-%COMP%]{width:70%}.mesgs[_ngcontent-%COMP%]{float:none;padding:40px}.sent_msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#3F51B5 none repeat scroll 0 0;border-radius:3px;font-size:14px;margin:0;color:#fff;padding:5px 10px 5px 12px;width:100%}.outgoing_msg[_ngcontent-%COMP%]{overflow:hidden;margin:26px 0}.sent_msg[_ngcontent-%COMP%]{float:right;width:70%;text-align:right}.input_msg_write[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,0) none repeat scroll 0 0;border:medium none;color:#4c4c4c;font-size:15px;min-height:48px;width:100%}.type_msg[_ngcontent-%COMP%]{border-top:1px solid #c4c4c4;position:relative}.msg_send_btn[_ngcontent-%COMP%]{background:#05728f none repeat scroll 0 0;border:medium none;border-radius:50%;color:#fff;cursor:pointer;font-size:17px;height:33px;position:absolute;right:0;top:11px;width:33px}.messaging[_ngcontent-%COMP%]{background:#fff;height:90%}.msg_history[_ngcontent-%COMP%]{max-height:516px;overflow-y:auto}.credit[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px}.credit[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:300;letter-spacing:2px;border-bottom:dotted 1px}.msg-container[_ngcontent-%COMP%]{display:flex;padding:.2rem 0rem}.msg[_ngcontent-%COMP%]{width:100%;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-weight:300;font-size:larger}.button-send[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgb(209,213,219);border-radius:.5rem;box-sizing:border-box;color:#111827;font-family:Inter var,ui-sans-serif,system-ui,-apple-system,system-ui,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-size:.875rem;font-weight:600;line-height:1.25rem;padding:.75rem 1rem;text-align:center;-webkit-text-decoration:none #D1D5DB solid;text-decoration:none #D1D5DB solid;text-decoration-thickness:auto;box-shadow:0 1px 2px #0000000d;cursor:pointer;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-send[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.button-send[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}.button-send[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.button_home[_ngcontent-%COMP%]{position:fixed;right:0%;top:0%}']}),n})(),ex=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}navigateUrl(t){this.router.navigateByUrl(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Na.F0))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-error"]],decls:26,vars:0,consts:[["id","svgWrap_2","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 700 250"],["id","id3_2","d","M195.7 232.67h-37.1V149.7H27.76c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98H158.6V29.62h37.1v203.05z"],["id","id2_2","d","M470.69 147.71c0 8.31-1.06 16.17-3.19 23.58-2.12 7.41-5.12 14.28-8.99 20.6-3.87 6.33-8.45 11.99-13.74 16.99-5.29 5-11.07 9.28-17.35 12.81a85.146 85.146 0 0 1-20.04 8.14 83.637 83.637 0 0 1-21.67 2.83H319.3c-7.46 0-14.73-.94-21.81-2.83-7.08-1.89-13.76-4.6-20.04-8.14a88.292 88.292 0 0 1-17.35-12.81c-5.29-5-9.84-10.67-13.66-16.99-3.82-6.32-6.8-13.19-8.92-20.6-2.12-7.41-3.19-15.27-3.19-23.58v-33.13c0-12.46 2.34-23.88 7.01-34.27 4.67-10.38 10.92-19.33 18.76-26.83 7.83-7.5 16.87-13.36 27.12-17.56 10.24-4.2 20.93-6.3 32.07-6.3h66.41c7.36 0 14.58.94 21.67 2.83 7.08 1.89 13.76 4.6 20.04 8.14a88.292 88.292 0 0 1 17.35 12.81c5.29 5 9.86 10.67 13.74 16.99 3.87 6.33 6.87 13.19 8.99 20.6 2.13 7.41 3.19 15.27 3.19 23.58v33.14zm-37.1-33.13c0-7.27-1.32-13.88-3.96-19.82-2.64-5.95-6.16-11.04-10.55-15.29-4.39-4.25-9.46-7.5-15.22-9.77-5.76-2.27-11.8-3.35-18.13-3.26h-66.41c-6.14-.09-12.11.97-17.91 3.19-5.81 2.22-10.95 5.43-15.44 9.63-4.48 4.2-8.07 9.3-10.76 15.29-2.69 6-4.04 12.67-4.04 20.04v33.13c0 7.36 1.32 14.02 3.96 19.97 2.64 5.95 6.18 11.02 10.62 15.22 4.44 4.2 9.56 7.43 15.36 9.7 5.8 2.27 11.87 3.35 18.2 3.26h66.41c7.27 0 13.85-1.2 19.75-3.61s10.93-5.73 15.08-9.98 7.36-9.32 9.63-15.22c2.27-5.9 3.4-12.34 3.4-19.33v-33.15zm-16-26.91a17.89 17.89 0 0 1 2.83 6.73c.47 2.41.47 4.77 0 7.08-.47 2.31-1.39 4.48-2.76 6.51-1.37 2.03-3.14 3.75-5.31 5.17l-99.4 66.41c-1.61 1.23-3.26 2.08-4.96 2.55-1.7.47-3.45.71-5.24.71-3.02 0-5.9-.71-8.64-2.12-2.74-1.42-4.96-3.44-6.66-6.09a17.89 17.89 0 0 1-2.83-6.73c-.47-2.41-.5-4.77-.07-7.08.43-2.31 1.3-4.48 2.62-6.51 1.32-2.03 3.07-3.75 5.24-5.17l99.69-66.41a17.89 17.89 0 0 1 6.73-2.83c2.41-.47 4.77-.47 7.08 0 2.31.47 4.48 1.37 6.51 2.69 2.03 1.32 3.75 3.02 5.17 5.09z"],["id","id1_2","d","M688.33 232.67h-37.1V149.7H520.39c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98h112.57V29.62h37.1v203.05z"],["id","svgWrap_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 700 250"],["id","id3_1","d","M195.7 232.67h-37.1V149.7H27.76c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98H158.6V29.62h37.1v203.05z"],["id","id2_1","d","M470.69 147.71c0 8.31-1.06 16.17-3.19 23.58-2.12 7.41-5.12 14.28-8.99 20.6-3.87 6.33-8.45 11.99-13.74 16.99-5.29 5-11.07 9.28-17.35 12.81a85.146 85.146 0 0 1-20.04 8.14 83.637 83.637 0 0 1-21.67 2.83H319.3c-7.46 0-14.73-.94-21.81-2.83-7.08-1.89-13.76-4.6-20.04-8.14a88.292 88.292 0 0 1-17.35-12.81c-5.29-5-9.84-10.67-13.66-16.99-3.82-6.32-6.8-13.19-8.92-20.6-2.12-7.41-3.19-15.27-3.19-23.58v-33.13c0-12.46 2.34-23.88 7.01-34.27 4.67-10.38 10.92-19.33 18.76-26.83 7.83-7.5 16.87-13.36 27.12-17.56 10.24-4.2 20.93-6.3 32.07-6.3h66.41c7.36 0 14.58.94 21.67 2.83 7.08 1.89 13.76 4.6 20.04 8.14a88.292 88.292 0 0 1 17.35 12.81c5.29 5 9.86 10.67 13.74 16.99 3.87 6.33 6.87 13.19 8.99 20.6 2.13 7.41 3.19 15.27 3.19 23.58v33.14zm-37.1-33.13c0-7.27-1.32-13.88-3.96-19.82-2.64-5.95-6.16-11.04-10.55-15.29-4.39-4.25-9.46-7.5-15.22-9.77-5.76-2.27-11.8-3.35-18.13-3.26h-66.41c-6.14-.09-12.11.97-17.91 3.19-5.81 2.22-10.95 5.43-15.44 9.63-4.48 4.2-8.07 9.3-10.76 15.29-2.69 6-4.04 12.67-4.04 20.04v33.13c0 7.36 1.32 14.02 3.96 19.97 2.64 5.95 6.18 11.02 10.62 15.22 4.44 4.2 9.56 7.43 15.36 9.7 5.8 2.27 11.87 3.35 18.2 3.26h66.41c7.27 0 13.85-1.2 19.75-3.61s10.93-5.73 15.08-9.98 7.36-9.32 9.63-15.22c2.27-5.9 3.4-12.34 3.4-19.33v-33.15zm-16-26.91a17.89 17.89 0 0 1 2.83 6.73c.47 2.41.47 4.77 0 7.08-.47 2.31-1.39 4.48-2.76 6.51-1.37 2.03-3.14 3.75-5.31 5.17l-99.4 66.41c-1.61 1.23-3.26 2.08-4.96 2.55-1.7.47-3.45.71-5.24.71-3.02 0-5.9-.71-8.64-2.12-2.74-1.42-4.96-3.44-6.66-6.09a17.89 17.89 0 0 1-2.83-6.73c-.47-2.41-.5-4.77-.07-7.08.43-2.31 1.3-4.48 2.62-6.51 1.32-2.03 3.07-3.75 5.24-5.17l99.69-66.41a17.89 17.89 0 0 1 6.73-2.83c2.41-.47 4.77-.47 7.08 0 2.31.47 4.48 1.37 6.51 2.69 2.03 1.32 3.75 3.02 5.17 5.09z"],["id","id1_1","d","M688.33 232.67h-37.1V149.7H520.39c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98h112.57V29.62h37.1v203.05z"],["id","glow"],["result","coloredBlur","stddeviation","4",1,"blur"],["in","coloredBlur"],["in","SourceGraphic"],[1,"buttonHome",3,"click"],[1,"shadow"],[1,"edge"],[1,"front","text"]],template:function(t,r){1&t&&(h.TgZ(0,"body"),h._UZ(1,"div"),h.O4$(),h.TgZ(2,"svg",0)(3,"g"),h._UZ(4,"path",1)(5,"path",2)(6,"path",3),h.qZA()(),h.TgZ(7,"svg",4)(8,"g"),h._UZ(9,"path",5)(10,"path",6)(11,"path",7),h.qZA()(),h.TgZ(12,"svg")(13,"defs")(14,"filter",8),h._UZ(15,"fegaussianblur",9),h.TgZ(16,"femerge"),h._UZ(17,"femergenode",10)(18,"femergenode",11),h.qZA()()()(),h.kcU(),h.TgZ(19,"h2"),h._uU(20,"Page Not Found"),h.qZA(),h.TgZ(21,"button",12),h.NdJ("click",function(){return r.navigateUrl("home")}),h._UZ(22,"span",13)(23,"span",14),h.TgZ(24,"span",15),h._uU(25," Home "),h.qZA()()())},styles:['@import"https://fonts.googleapis.com/css?family=Audiowide&display=swap";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;overflow:hidden}div[_ngcontent-%COMP%]{position:absolute;top:0%;left:0%;height:100%;width:100%;margin:0;background:radial-gradient(circle,#240015 0%,#12000b 100%);overflow:hidden}.wrap[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:150px;font-size:32px;text-transform:uppercase;transform:translate(-50%,-50%);display:block;color:#12000a;font-weight:300;font-family:Audiowide;text-shadow:0px 0px 4px #12000a;animation:fadeInText 3s ease-in 3.5s forwards,flicker4 5s linear 7.5s infinite,hueRotate 6s ease-in-out 3s infinite}h3[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:190px;font-size:34px;text-transform:uppercase;transform:translate(-50%,-50%);display:block;color:#d60176;font-weight:300;font-family:Audiowide;text-shadow:0px 0px 4px #12000a}button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:210px;font-size:34px;text-transform:uppercase;transform:translate(-50%,-50%);border:none;background:transparent;padding:0;cursor:pointer;outline-offset:4px;transition:filter .25s;-webkit-user-select:none;user-select:none;touch-action:manipulation}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:12px;background:hsl(0deg 0% 0% / .25);will-change:transform;transform:translateY(2px);transition:transform .6s cubic-bezier(.3,.7,.4,1)}.edge[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:12px;background:linear-gradient(to left,hsl(340deg 100% 16%) 0%,hsl(340deg 100% 32%) 8%,hsl(340deg 100% 32%) 92%,hsl(340deg 100% 16%) 100%)}.front[_ngcontent-%COMP%]{display:block;position:relative;padding:12px 27px;border-radius:12px;font-size:1.1rem;color:#fff;background:hsl(345deg 100% 47%);will-change:transform;transform:translateY(-4px);transition:transform .6s cubic-bezier(.3,.7,.4,1)}button[_ngcontent-%COMP%]:hover{filter:brightness(110%)}button[_ngcontent-%COMP%]:hover   .front[_ngcontent-%COMP%]{transform:translateY(-6px);transition:transform .25s cubic-bezier(.3,.7,.4,1.5)}button[_ngcontent-%COMP%]:active   .front[_ngcontent-%COMP%]{transform:translateY(-2px);transition:transform 34ms}button[_ngcontent-%COMP%]:hover   .shadow[_ngcontent-%COMP%]{transform:translateY(4px);transition:transform .25s cubic-bezier(.3,.7,.4,1.5)}button[_ngcontent-%COMP%]:active   .shadow[_ngcontent-%COMP%]{transform:translateY(1px);transition:transform 34ms}button[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}#svgWrap_1[_ngcontent-%COMP%], #svgWrap_2[_ngcontent-%COMP%]{position:absolute;height:auto;width:600px;max-width:100%;top:50%;left:50%;transform:translate(-50%,-50%)}#svgWrap_1[_ngcontent-%COMP%], #svgWrap_2[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{animation:hueRotate 6s ease-in-out 3s infinite}#id1_1[_ngcontent-%COMP%], #id2_1[_ngcontent-%COMP%], #id3_1[_ngcontent-%COMP%]{stroke:#ff005d;stroke-width:3px;fill:transparent}#id1_2[_ngcontent-%COMP%], #id2_2[_ngcontent-%COMP%], #id3_2[_ngcontent-%COMP%]{stroke:#12000a;stroke-width:3px;fill:transparent;filter:url(#glow)}#id3_1[_ngcontent-%COMP%]{stroke-dasharray:940px;stroke-dashoffset:-940px;animation:drawLine3 2.5s ease-in-out 0s forwards,flicker3 4s linear 4s infinite}#id2_1[_ngcontent-%COMP%]{stroke-dasharray:735px;stroke-dashoffset:-735px;animation:drawLine2 2.5s ease-in-out .5s forwards,flicker2 4s linear 4.5s infinite}#id1_1[_ngcontent-%COMP%]{stroke-dasharray:940px;stroke-dashoffset:-940px;animation:drawLine1 2.5s ease-in-out 1s forwards,flicker1 4s linear 5s infinite}@keyframes drawLine1{0%{stroke-dashoffset:-940px}to{stroke-dashoffset:0px}}@keyframes drawLine2{0%{stroke-dashoffset:-735px}to{stroke-dashoffset:0px}}@keyframes drawLine3{0%{stroke-dashoffset:-940px}to{stroke-dashoffset:0px}}@keyframes flicker1{0%{stroke:#ff005d}1%{stroke:transparent}3%{stroke:transparent}4%{stroke:#ff005d}6%{stroke:#ff005d}7%{stroke:transparent}13%{stroke:transparent}14%{stroke:#ff005d}to{stroke:#ff005d}}@keyframes flicker2{0%{stroke:#ff005d}50%{stroke:#ff005d}51%{stroke:transparent}61%{stroke:transparent}62%{stroke:#ff005d}to{stroke:#ff005d}}@keyframes flicker3{0%{stroke:#ff005d}1%{stroke:transparent}10%{stroke:transparent}11%{stroke:#ff005d}40%{stroke:#ff005d}41%{stroke:transparent}45%{stroke:transparent}46%{stroke:#ff005d}to{stroke:#ff005d}}@keyframes flicker4{0%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}30%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}31%{color:#12000a;text-shadow:0px 0px 4px #12000a}32%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}36%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}37%{color:#12000a;text-shadow:0px 0px 4px #12000a}41%{color:#12000a;text-shadow:0px 0px 4px #12000a}42%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}85%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}86%{color:#12000a;text-shadow:0px 0px 4px #12000a}95%{color:#12000a;text-shadow:0px 0px 4px #12000a}96%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}to{color:#ff005d;text-shadow:0px 0px 4px #ff005d}}@keyframes fadeInText{1%{color:#12000a;text-shadow:0px 0px 4px #12000a}70%{color:#ff005d;text-shadow:0px 0px 14px #ff005d}to{color:#ff005d;text-shadow:0px 0px 4px #ff005d}}@keyframes hueRotate{0%{filter:hue-rotate(0deg)}50%{filter:hue-rotate(-120deg)}to{filter:hue-rotate(0deg)}}']}),n})();var tx=k(8263);class pD{constructor(){this.email="",this.password=""}}var pS=k(4986),ii=k(5813),gD=k(8675),mD=k(4482);function yD(){return(0,mD.e)((n,e)=>{let t,r=!1;n.subscribe((0,lt.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}var _D=k(5026),nx=k(4671);function ix(n,e){return n===e}var Fo=k(2011),gS=(k(5881),k(3942));function vD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Qe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function mS(){if("undefined"==typeof Uint8Array)throw new Qe("unimplemented","Uint8Arrays are not available in this environment.")}function yS(){if(!function Yw(){return"undefined"!=typeof atob}())throw new Qe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class d0{constructor(e){this._delegate=e}static fromBase64String(e){return yS(),new d0(Jl.fromBase64String(e))}static fromUint8Array(e){return mS(),new d0(Jl.fromUint8Array(e))}toBase64(){return yS(),this._delegate.toBase64()}toUint8Array(){return mS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wD(n){return function ax(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class ux{enableIndexedDbPersistence(e,t){return function uM(n,e){HA(n=Wn(n,ri));const t=rs(n),r=n._freezeSettings(),o=new L;return jA(t,o,new D(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function lM(n){HA(n=Wn(n,ri));const e=rs(n),t=n._freezeSettings(),r=new L;return jA(e,r,new N(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function cM(n){if(n._initialized&&!n._terminated)throw new Qe(Re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ni;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ue.Z)(function*(){try{yield(t=(0,Ue.Z)(function*(r){if(!$a.vt())return Promise.resolve();const o=r+"main";yield $a.delete(o)}),function(r){return t.apply(this,arguments)})(Ev(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class _S{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Xi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function nM(n,e,t,r={}){var o;const u=(n=Wn(n,o0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Xd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=Ps.MOCK_USER;else{d=(0,ln.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Qe(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ps(v)}n._authCredentials=new UT(new Hw(d,g))}}(this._delegate,e,t,r)}enableNetwork(){return function hM(n){return function r0(n){return n.asyncQueue.enqueue((0,Ue.Z)(function*(){const e=yield Bm(n),t=yield jm(n);return e.setNetworkEnabled(!0),function(r){const o=wt(r);return o.lu.delete(0),ad(o)}(t)}))}(rs(n=Wn(n,ri)))}(this._delegate)}disableNetwork(){return function fM(n){return function s0(n){return n.asyncQueue.enqueue((0,Ue.Z)(function*(){const e=yield Bm(n),t=yield jm(n);return e.setNetworkEnabled(!1),(r=(0,Ue.Z)(function*(o){const u=wt(o);u.lu.add(0),yield vp(u),u._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(rs(n=Wn(n,ri)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,PA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dM(n){return function(e){const t=new Ni;return e.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return function Hb(n,e){return Vm.apply(this,arguments)}(yield Op(e),t)})),t.promise}(rs(n=Wn(n,ri)))}(this._delegate)}onSnapshotsInSync(e){return function jM(n,e){return function J1(n,e){const t=new re(e);return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return r=yield Yl(n),o=t,wt(r).Tu.add(o),void o.next();var r,o})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return r=yield Yl(n),o=t,void wt(r).Tu.delete(o);var r,o}))}}(rs(n=Wn(n,ri)),iD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Qe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new $m(this,Yb(this._delegate,e))}catch(t){throw Lo(t,"collection()","Firestore.collection()")}}doc(e){try{return new mu(this,Qb(this._delegate,e))}catch(t){throw Lo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vo(this,function rM(n,e){if(n=Wn(n,o0),rD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Qe(Re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vo(n,null,(t=e,new lu(Hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Lo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function $M(n,e){return function X1(n,e){const t=new Ni;return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){const r=yield(o=n,gu(o).then(u=>u.datastore));var o;new st(n.asyncQueue,r,e,t).run()})),t.promise}(rs(n=Wn(n,ri)),t=>e(new HM(n,t)))}(this._delegate,t=>e(new vS(this,t)))}batch(){return rs(this._delegate),new wS(new aS(this._delegate,e=>Hm(this._delegate,e)))}loadBundle(e){return function pM(n,e){const t=rs(n=Wn(n,ri)),r=new sM;return function eM(n,e,t,r){const o=function(u,d){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,S){if(v instanceof Uint8Array)return W(v,S);if(v instanceof ArrayBuffer)return W(new Uint8Array(v),S);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new me(v,d);var v}(t,Sm(e));n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){!function y(n,e,t){const r=wt(n);var o;(o=(0,Ue.Z)(function*(u,d,g){try{const v=yield d.getMetadata();if(yield function(ee,ue){const le=wt(ee),Ne=es(ue.createTime);return le.persistence.runTransaction("hasNewerBundle","readonly",Xe=>le.ds.getBundleMetadata(Xe,ue.id)).then(Xe=>!!Xe&&Xe.createTime.compareTo(Ne)>=0)}(u.localStore,v))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(ee=v).totalDocuments,bytesLoaded:ee.totalBytes,totalDocuments:ee.totalDocuments,totalBytes:ee.totalBytes}),Promise.resolve(new Set);g._updateProgress(ZI(v));const S=new CA(v,u.localStore,d.M);let V=yield d.fa();for(;V;){const ee=yield S.Nu(V);ee&&g._updateProgress(ee),V=yield d.fa()}const G=yield S.complete();return yield nl(u,G.Ou,void 0),yield function(ee,ue){const le=wt(ee);return le.persistence.runTransaction("Save bundle","readwrite",Ne=>le.ds.saveBundleMetadata(Ne,ue))}(u.localStore,v),g._completeWith(G.progress),Promise.resolve(G.Mu)}catch(v){return Xd("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v),Promise.resolve(new Set)}var ee}),function(u,d,g){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield Op(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function gM(n,e){return function tM(n,e){return n.asyncQueue.enqueue((0,Ue.Z)(function*(){return function(t,r){const o=wt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.ds.getNamedQuery(u,r))}(yield xp(n),e)}))}(rs(n=Wn(n,ri)),e).then(t=>t?new vo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Vo(this,t):null)}}class sC extends cD{constructor(e){super(),this.firestore=e}convertBytes(e){return new d0(new Jl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return mu.forKey(t,this.firestore,null)}}class vS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sC(e)}get(e){const t=Up(e);return this._delegate.get(t).then(r=>new h0(this._firestore,new pd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Up(e);return r?(vD("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Up(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}}class wS{constructor(e){this._delegate=e}set(e,t,r){const o=Up(e);return r?(vD("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Up(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Vp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new l0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new f0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Vp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Vp(e,new sC(e),t),o.set(t,u)),u}}Vp.INSTANCES=new WeakMap;class mu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Qe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new mu(t,new zr(t._delegate,r,new it(e)))}static forKey(e,t,r){return new mu(t,new zr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new $m(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new $m(this.firestore,Yb(this._delegate,e))}catch(t){throw Lo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ln.m9)(e))instanceof zr&&VA(this._delegate,e)}set(e,t){t=vD("DocumentReference.set",t);try{return t?uS(this._delegate,e,t):uS(this._delegate,e)}catch(r){throw Lo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?lS(this._delegate,e):lS(this._delegate,e,t,...r)}catch(o){throw Lo(o,"updateDoc()","DocumentReference.update()")}}delete(){return function BM(n){return Hm(Wn(n.firestore,ri),[new ih(n._key,Ii.none())])}(this._delegate)}onSnapshot(...e){const t=ES(e),r=bS(e,o=>new h0(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return dD(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function kM(n){n=Wn(n,zr);const e=Wn(n.firestore,ri),t=rs(e),r=new Lp(e);return function Y1(n,e){const t=new Ni;return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return(r=(0,Ue.Z)(function*(o,u,d){try{const g=yield function(v,S){const V=wt(v);return V.persistence.runTransaction("read document","readonly",G=>V.ai.Bs(G,S))}(o,u);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Qe(Re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=Kl(g,`Failed to get document '${u} from cache`);d.reject(v)}}),function(o,u,d){return r.apply(this,arguments)})(yield xp(n),e,t);var r})),t.promise}(t,n._key).then(o=>new pd(e,r,n._key,o,new Fp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function FM(n){n=Wn(n,zr);const e=Wn(n.firestore,ri);return xA(rs(e),n._key,{source:"server"}).then(t=>hD(e,n,t))}(this._delegate):function NM(n){n=Wn(n,zr);const e=Wn(n.firestore,ri);return xA(rs(e),n._key).then(t=>hD(e,n,t))}(this._delegate),t.then(r=>new h0(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new mu(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function Lo(n,e,t){return n.message=n.message.replace(e,t),n}function ES(n){for(const e of n)if("object"==typeof e&&!wD(e))return e;return{}}function bS(n,e){var t,r;let o;return o=wD(n[0])?n[0]:wD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class h0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new mu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return YA(this._delegate,e._delegate)}}class f0 extends h0{data(e){const t=this._delegate.data(e);return function LT(n,e){n||At()}(void 0!==t),t}}class Vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sC(e)}where(e,t,r){try{return new Vo(this.firestore,gd(this._delegate,function DM(n,e,t){const r=e,o=rC("where",n);return new IM(o,r,t)}(e,t,r)))}catch(o){throw Lo(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vo(this.firestore,gd(this._delegate,JA(e,t)))}catch(r){throw Lo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vo(this.firestore,gd(this._delegate,eS(e)))}catch(t){throw Lo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vo(this.firestore,gd(this._delegate,function SM(n){return FA("limitToLast",n),new XA("limitToLast",n,"L")}(e)))}catch(t){throw Lo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vo(this.firestore,gd(this._delegate,function MM(...n){return new tS("startAt",n,!0)}(...e)))}catch(t){throw Lo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vo(this.firestore,gd(this._delegate,function xM(...n){return new tS("startAfter",n,!1)}(...e)))}catch(t){throw Lo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vo(this.firestore,gd(this._delegate,function OM(...n){return new nS("endBefore",n,!1)}(...e)))}catch(t){throw Lo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vo(this.firestore,gd(this._delegate,function RM(...n){return new nS("endAt",n,!0)}(...e)))}catch(t){throw Lo(t,"endAt()","Query.endAt()")}}isEqual(e){return UA(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function VM(n){n=Wn(n,vo);const e=Wn(n.firestore,ri),t=rs(e),r=new Lp(e);return function Q1(n,e){const t=new Ni;return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return(r=(0,Ue.Z)(function*(o,u,d){try{const g=yield yh(o,u,!0),v=new Fb(u,g.hi),S=v.Gu(g.documents),V=v.applyChanges(S,!1);d.resolve(V.snapshot)}catch(g){const v=Kl(g,`Failed to execute query '${u} against cache`);d.reject(v)}}),function(o,u,d){return r.apply(this,arguments)})(yield xp(n),e,t);var r})),t.promise}(t,n._query).then(o=>new vh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function UM(n){n=Wn(n,vo);const e=Wn(n.firestore,ri),t=rs(e),r=new Lp(e);return OA(t,n._query,{source:"server"}).then(o=>new vh(e,r,n,o))}(this._delegate):function LM(n){n=Wn(n,vo);const e=Wn(n.firestore,ri),t=rs(e),r=new Lp(e);return QA(n._query),OA(t,n._query).then(o=>new vh(e,r,n,o))}(this._delegate),t.then(r=>new ED(this.firestore,new vh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ES(e),r=bS(e,o=>new ED(this.firestore,new vh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return dD(this._delegate,t,r)}withConverter(e){return new Vo(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}class cx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new f0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ED{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new f0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new cx(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new f0(this._firestore,r))})}isEqual(e){return YA(this._delegate,e._delegate)}}class $m extends Vo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new mu(this.firestore,e):null}doc(e){try{return new mu(this.firestore,void 0===e?Qb(this._delegate):Qb(this._delegate,e))}catch(t){throw Lo(t,"doc()","CollectionReference.doc()")}}add(e){return cS(this._delegate,e).then(t=>new mu(this.firestore,t))}isEqual(e){return VA(this._delegate,e._delegate)}withConverter(e){return new $m(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function Up(n){return Wn(n,zr)}class bD{constructor(...e){this._delegate=new fd(...e)}static documentId(){return new bD(Ji.keyField().canonicalString())}isEqual(e){return(e=(0,ln.m9)(e))instanceof fd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function qM(){return new sD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bp(e)}static delete(){const e=function GM(){return new a0("deleteField")}();return e._methodName="FieldValue.delete",new Bp(e)}static arrayUnion(...e){const t=function zM(...n){return new vM("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Bp(t)}static arrayRemove(...e){const t=function WM(...n){return new wM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Bp(t)}static increment(e){const t=function ZM(n){return new EM("increment",n)}(e);return t._methodName="FieldValue.increment",new Bp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dx={Firestore:_S,GeoPoint:Jb,Timestamp:fi,Blob:d0,Transaction:vS,WriteBatch:wS,DocumentReference:mu,DocumentSnapshot:h0,Query:Vo,QueryDocumentSnapshot:f0,QuerySnapshot:ED,CollectionReference:$m,FieldPath:bD,FieldValue:Bp,setLogLevel:function lx(n){!function jw(n){Va.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function fx(n){(function hx(n,e){n.INTERNAL.registerComponent(new lf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},dx)))})(n,(e,t)=>new _S(e,t,new ux)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(gS.Z);var px=k(6451),oC=k(5363),Xl=k(3900),gx=k(6063);class mx extends Ye.x{constructor(e=1/0,t=1/0,r=gx.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let g=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)g=v;g&&r.splice(0,g+1)}}}var yx=k(3099);function CS(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,yx.B)({connector:()=>new mx(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}var _x=k(590),vx=k(576);function TS(n,e){return(0,vx.m)(e)?(0,Xl.w)(()=>n,e):(0,Xl.w)(()=>n)}var CD=k(9468);const IS=new Map,Tx={activated:!1,tokenObservers:[]},Ix={initialized:!1,enabled:!1};function Ls(n){return IS.get(n)||Tx}function rl(n,e){IS.set(n,e)}function uC(){return Ix}class xx{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ue.Z)(function*(){t.stop();try{t.pending=new ln.BH,yield function Ox(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ln.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Uo=new ln.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AS(n){if(!Ls(n).activated)throw Uo.create("use-before-activation",{appName:n.name})}function AD(n,e){return SD.apply(this,arguments)}function SD(){return SD=(0,Ue.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const G=yield o.getHeartbeatsHeader();G&&(r["X-Firebase-Client"]=G)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,g;try{d=yield fetch(n,u)}catch(G){throw Uo.create("fetch-network-error",{originalErrorMessage:G.message})}if(200!==d.status)throw Uo.create("fetch-status-error",{httpStatus:d.status});try{g=yield d.json()}catch(G){throw Uo.create("fetch-parse-error",{originalErrorMessage:G.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Uo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const S=1e3*Number(v[1]),V=Date.now();return{token:g.attestationToken,expireTimeMillis:V+S,issuedAtTimeMillis:V}}),SD.apply(this,arguments)}function Fx(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const p0="firebase-app-check-store";let dC=null;function MS(){return dC||(dC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Uo.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(p0,{keyPath:"compositeKey"})}}catch(t){e(Uo.create("storage-open",{originalErrorMessage:t.message}))}}),dC)}function MD(){return MD=(0,Ue.Z)(function*(n,e){const r=(yield MS()).transaction(p0,"readwrite"),u=r.objectStore(p0).put({compositeKey:n,value:e});return new Promise((d,g)=>{u.onsuccess=v=>{d()},r.onerror=v=>{var S;g(Uo.create("storage-set",{originalErrorMessage:null===(S=v.target.error)||void 0===S?void 0:S.message}))}})}),MD.apply(this,arguments)}const g0=new Tc.Yd("@firebase/app-check");function PS(n,e){return(0,ln.hl)()?function Bx(n,e){return function xS(n,e){return MD.apply(this,arguments)}(function RS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{g0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function NS(){return uC().enabled}function kS(){return PD.apply(this,arguments)}function PD(){return PD=(0,Ue.Z)(function*(){const n=uC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),PD.apply(this,arguments)}const zx={error:"UNKNOWN_ERROR"};function Wx(n){return ln.US.encodeString(JSON.stringify(n),!1)}function hC(n){return ND.apply(this,arguments)}function ND(){return ND=(0,Ue.Z)(function*(n,e=!1){const t=n.app;AS(t);const r=Ls(t);let u,o=r.token;if(!o){const v=yield r.cachedTokenPromise;v&&fC(v)&&(o=v)}if(!e&&o&&fC(o))return{token:o.token};let g,d=!1;if(NS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=AD(Fx(t,yield kS()),n.heartbeatServiceProvider).then(S=>(r.exchangeTokenPromise=void 0,S)),d=!0);const v=yield r.exchangeTokenPromise;return yield PS(t,v),rl(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),o=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?g0.warn(v.message):g0.error(v),u=v}return o?(g={token:o.token},rl(t,Object.assign(Object.assign({},r),{token:o})),yield PS(t,o)):g=Kx(u),d&&LS(t,g),g}),ND.apply(this,arguments)}function FD(n,e){const t=Ls(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),rl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function FS(n){const{app:e}=n,t=Ls(e);let r=t.tokenRefresher;r||(r=function Zx(n){const{app:e}=n;return new xx((0,Ue.Z)(function*(){let r;if(r=Ls(e).token?yield hC(n,!0):yield hC(n),r.error)throw r.error}),()=>!0,()=>{const t=Ls(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),rl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function LS(n,e){const t=Ls(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function fC(n){return n.expireTimeMillis-Date.now()>0}function Kx(n){return{token:Wx(zx),error:n}}class Yx{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ls(this.app);for(const t of e)FD(this.app,t.next);return Promise.resolve()}}const qS="app-check-internal";!function cO(){(0,Ys._registerComponent)(new lf.wA("app-check",n=>function Qx(n,e){return new Yx(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qS).initialize()})),(0,Ys._registerComponent)(new lf.wA(qS,n=>function Jx(n){return{getToken:e=>hC(n,e),addTokenListener:e=>function kD(n,e,t,r){const{app:o}=n,u=Ls(o),d={next:t,error:r,type:e};if(rl(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&fC(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),FS(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>FS(n))}(n,"INTERNAL",e),removeTokenListener:e=>FD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ys.registerVersion)("@firebase/app-check","0.5.5")}();class gC{constructor(){return(0,ii.vb)("app-check")}}"undefined"!=typeof window&&window;var jD=k(127);const WS=new h.OlP("angularfire2.auth.use-emulator"),ZS=new h.OlP("angularfire2.auth.settings"),KS=new h.OlP("angularfire2.auth.tenant-id"),YS=new h.OlP("angularfire2.auth.langugage-code"),QS=new h.OlP("angularfire2.auth.use-device-language"),JS=new h.OlP("angularfire.auth.persistence"),XS=(n,e,t,r,o,u,d,g)=>(0,Fo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,u&&v.useDeviceLanguage(),d)for(const[S,V]of Object.entries(d))v.settings[S]=V;return g&&v.setPersistence(g),v},[t,r,o,u,d,g]);let mC=(()=>{class n{constructor(t,r,o,u,d,g,v,S,V,G,ee,ue){const le=new Ye.x,Ne=(0,T.of)(void 0).pipe((0,oC.Q)(d.outsideAngular),(0,Xl.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,Ft.U)(()=>(0,Fo.on)(t,u,r)),(0,Ft.U)(Xe=>XS(Xe,u,g,S,V,G,v,ee)),CS({bufferSize:1,refCount:!1}));if((0,b.PM)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,T.of)(null);else{Ne.pipe((0,_x.P)()).subscribe();const bt=Ne.pipe((0,Xl.w)(pt=>pt.getRedirectResult().then(un=>un,()=>null)),ii.iC,CS({bufferSize:1,refCount:!1})),Et=Ne.pipe((0,Xl.w)(pt=>new Ee.y(un=>({unsubscribe:u.runOutsideAngular(()=>pt.onAuthStateChanged($t=>un.next($t),$t=>un.error($t),()=>un.complete()))})))),Ht=Ne.pipe((0,Xl.w)(pt=>new Ee.y(un=>({unsubscribe:u.runOutsideAngular(()=>pt.onIdTokenChanged($t=>un.next($t),$t=>un.error($t),()=>un.complete()))}))));this.authState=bt.pipe(TS(Et),(0,CD.R)(d.outsideAngular),(0,oC.Q)(d.insideAngular)),this.user=bt.pipe(TS(Ht),(0,CD.R)(d.outsideAngular),(0,oC.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,Xl.w)(pt=>pt?(0,K.D)(pt.getIdToken()):(0,T.of)(null))),this.idTokenResult=this.user.pipe((0,Xl.w)(pt=>pt?(0,K.D)(pt.getIdTokenResult()):(0,T.of)(null))),this.credential=(0,px.T)(bt,le,this.authState.pipe((0,_.h)(pt=>!pt))).pipe((0,Ft.U)(pt=>(null==pt?void 0:pt.user)?pt:null),(0,CD.R)(d.outsideAngular),(0,oC.Q)(d.insideAngular))}return(0,Fo.pX)(this,Ne,u,{spy:{apply:(Xe,bt,Et)=>{(Xe.startsWith("signIn")||Xe.startsWith("createUser"))&&Et.then(Ht=>le.next(Ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Fo.Dh),h.LFG(Fo.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ii.HU),h.LFG(WS,8),h.LFG(ZS,8),h.LFG(KS,8),h.LFG(YS,8),h.LFG(QS,8),h.LFG(JS,8),h.LFG(gC,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mO=(()=>{class n{constructor(){jD.Z.registerVersion("angularfire",ii.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[mC]}),n})();function e1(n,e){return function yO(n,e=pS.z){return new Ee.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function HD(n,e){return e1(n,e).pipe((0,Ft.U)(t=>({payload:t,type:"query"})))}function yC(n,e){return HD(n,e).pipe((0,gD.O)(void 0),yD(),(0,Ft.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const v=o.find(V=>V.doc.ref.isEqual(d.ref)),S=null==t?void 0:t.payload.docs.find(V=>V.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&S&&JSON.stringify(S.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),u}))}function t1(n,e,t){return yC(n,t).pipe((0,_D.R)((r,o)=>function vO(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function wO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return $D(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return $D(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $D(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function rx(n,e=nx.y){return n=null!=n?n:ix,(0,mD.e)((t,r)=>{let o,u=!0;t.subscribe((0,lt.x)(r,d=>{const g=e(d);(u||!n(o,g))&&(u=!1,o=g,r.next(d))}))})}(),(0,Ft.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function $D(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function n1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class r1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=yC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ft.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe((0,gD.O)(void 0),yD(),(0,_.h)(([r,o])=>o.length>0||!r),(0,Ft.U)(([r,o])=>o),ii.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,_D.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=n1(e);return t1(this.query,t,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return HD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ft.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ii.iC)}get(e){return(0,K.D)(this.query.get(e)).pipe(ii.iC)}add(e){return this.ref.add(e)}doc(e){return new i1(this.ref.doc(e),this.afs)}}class i1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=a1(r,t);return new r1(o,u,this.afs)}snapshotChanges(){return function _O(n,e){return e1(n,e).pipe((0,gD.O)(void 0),yD(),(0,Ft.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ft.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,K.D)(this.ref.get(e)).pipe(ii.iC)}}class EO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?yC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ft.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,_.h)(t=>t.length>0),ii.iC):yC(this.query,this.afs.schedulers.outsideAngular).pipe(ii.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,_D.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=n1(e);return t1(this.query,t,this.afs.schedulers.outsideAngular).pipe(ii.iC)}valueChanges(e={}){return HD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ft.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),ii.iC)}get(e){return(0,K.D)(this.query.get(e)).pipe(ii.iC)}}const s1=new h.OlP("angularfire2.enableFirestorePersistence"),o1=new h.OlP("angularfire2.firestore.persistenceSettings"),bO=new h.OlP("angularfire2.firestore.settings"),CO=new h.OlP("angularfire2.firestore.use-emulator");function a1(n,e=(t=>t)){return{query:e(n),ref:n}}let u1=(()=>{class n{constructor(t,r,o,u,d,g,v,S,V,G,ee,ue,le,Ne,Xe,bt,Et){this.schedulers=v;const Ht=(0,Fo.on)(t,g,r),pt=V;G&&XS(Ht,g,ee,le,Ne,Xe,ue,bt),[this.firestore,this.persistenceEnabled$]=(0,Fo.cc)(`${Ht.name}.firestore`,"AngularFirestore",Ht.name,()=>{const un=g.runOutsideAngular(()=>Ht.firestore());if(u&&un.settings(u),pt&&un.useEmulator(...pt),o&&!(0,b.PM)(d)){const $t=()=>{try{return(0,K.D)(un.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(hr){return"undefined"!=typeof console&&console.warn(hr),(0,T.of)(!1)}};return[un,g.runOutsideAngular($t)]}return[un,(0,T.of)(!1)]},[u,pt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=a1(o,r),g=this.schedulers.ngZone.run(()=>u);return new r1(g,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new EO(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new i1(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Fo.Dh),h.LFG(Fo.xv,8),h.LFG(s1,8),h.LFG(bO,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ii.HU),h.LFG(o1,8),h.LFG(CO,8),h.LFG(mC,8),h.LFG(WS,8),h.LFG(ZS,8),h.LFG(KS,8),h.LFG(YS,8),h.LFG(QS,8),h.LFG(JS,8),h.LFG(gC,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),TO=(()=>{class n{constructor(){jD.Z.registerVersion("angularfire",ii.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:s1,useValue:!0},{provide:o1,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[u1]}),n})(),IO=(()=>{class n{constructor(t){this.db=t,this.userRef=this.db.collection("ingresos")}crearIngreso(t){var r=new Date;return console.log(t.email),this.userRef.add({email:t.email,fecha:r})}obtenerIngreso(){return this.userRef.valueChanges()}update(t,r){return this.userRef.doc(t).update(r)}delete(t){return this.userRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(u1))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_C=(()=>{class n{constructor(){}setData(t,r){const o=JSON.stringify(r);localStorage.setItem(t,o)}getData(t){return localStorage.getItem(t)}removeData(t){localStorage.removeItem(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GD=(()=>{class n{constructor(t,r){this.afAuth=t,this.localStorageService=r,this.userLogged=new pD,this.logged=!1,this.loggedChange=new Ye.x,this.loggedChange.subscribe(o=>{this.logged=o,console.log("CAMBIO ",this.logged)})}signIn(t){return this.afAuth.signInWithEmailAndPassword(t.email,t.password)}signUp(t){return this.afAuth.createUserWithEmailAndPassword(t.email,t.password)}signOut(){return this.afAuth.signOut()}setLogged(t){this.loggedChange.next(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(mC),h.LFG(_C))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DO=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(t,r,o,u,d){this.toastr=t,this.router=r,this.userFire=o,this.userAuthService=u,this.localStorageService=d,this.user=new pD}ngOnInit(){}fastLogIn(){this.user.email="ingresorapido@test.com",this.user.password="123456"}showSuccess(){this.toastr.success("Ingreso correcto!")}showError(t){this.toastr.error("Error: "+t)}logIn(){this.userAuthService.signIn(this.user).then(t=>{this.userFire.crearIngreso(this.user).then(r=>{this.userAuthService.userLogged=this.user,this.userAuthService.setLogged(!0),this.localStorageService.setData("userEmail",this.user.email),this.showSuccess(),setTimeout(()=>{this.router.navigateByUrl("home")},1e3)})}).catch(t=>{this.showError(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Rh),h.Y36(Na.F0),h.Y36(IO),h.Y36(GD),h.Y36(_C))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:2,consts:[[1,"text-center"],[1,"form-signin"],["src","../../../favicon.ico","alt","","width","72","height","72",1,"mb-4"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"w-100","mb-2","btn","btn-lg","btn-primary",3,"click"],[1,"w-100","mb-4","btn","btn-lg","btn-primary",3,"click"],["routerLink","/register"],[1,"mt-5","mb-3","text-muted"]],template:function(t,r){1&t&&(h.TgZ(0,"body",0)(1,"main",1),h._UZ(2,"img",2),h.TgZ(3,"h1",3),h._uU(4,"Sala de Juegos"),h.qZA(),h.TgZ(5,"div",4)(6,"input",5),h.NdJ("ngModelChange",function(u){return r.user.email=u}),h.qZA(),h.TgZ(7,"label",6),h._uU(8,"Email"),h.qZA()(),h.TgZ(9,"div",4)(10,"input",7),h.NdJ("ngModelChange",function(u){return r.user.password=u}),h.qZA(),h.TgZ(11,"label",8),h._uU(12,"Contrase\xf1a"),h.qZA()(),h.TgZ(13,"button",9),h.NdJ("click",function(){return r.logIn()}),h._uU(14,"Ingreso"),h.qZA(),h.TgZ(15,"button",10),h.NdJ("click",function(){return r.fastLogIn()}),h._uU(16,"Ingreso Rapido"),h.qZA(),h.TgZ(17,"a",11),h._uU(18,"Registrarse"),h.qZA(),h.TgZ(19,"p",12),h._uU(20,"\xa9 Ezequiel Archilla 2022"),h.qZA()()()),2&t&&(h.xp6(6),h.Q6J("ngModel",r.user.email),h.xp6(4),h.Q6J("ngModel",r.user.password))},directives:[sr,To,Qo,Na.yS],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),n})()},{path:"register",component:(()=>{class n{constructor(t,r,o,u){this.toastr=t,this.router=r,this.userAuthService=o,this.localStorageService=u,this.user=new pD}ngOnInit(){}showSuccess(){this.toastr.success("Registrado correcto!")}showError(t){this.toastr.error("Error: "+t)}signUp(){this.userAuthService.signUp(this.user).then(t=>{this.userAuthService.userLogged=this.user,this.userAuthService.setLogged(!0),this.localStorageService.setData("userEmail",this.user.email),this.showSuccess(),setTimeout(()=>{this.router.navigateByUrl("/home")},1e3)}).catch(t=>{this.showError(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Rh),h.Y36(Na.F0),h.Y36(GD),h.Y36(_C))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-register"]],decls:17,vars:2,consts:[[1,"text-center"],[1,"form-signin"],["src","../../../favicon.ico","alt","","width","72","height","72",1,"mb-4"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"w-100","btn","btn-lg","btn-primary",3,"click"],[1,"mt-5","mb-3","text-muted"]],template:function(t,r){1&t&&(h.TgZ(0,"body",0)(1,"main",1),h._UZ(2,"img",2),h.TgZ(3,"h1",3),h._uU(4,"Sala de Juegos"),h.qZA(),h.TgZ(5,"div",4)(6,"input",5),h.NdJ("ngModelChange",function(u){return r.user.email=u}),h.qZA(),h.TgZ(7,"label",6),h._uU(8,"Email"),h.qZA()(),h.TgZ(9,"div",4)(10,"input",7),h.NdJ("ngModelChange",function(u){return r.user.password=u}),h.qZA(),h.TgZ(11,"label",8),h._uU(12,"Contrase\xf1a"),h.qZA()(),h.TgZ(13,"button",9),h.NdJ("click",function(){return r.signUp()}),h._uU(14," Registrar "),h.qZA(),h.TgZ(15,"p",10),h._uU(16,"\xa9 Ezequiel Archilla 2022"),h.qZA()()()),2&t&&(h.xp6(6),h.Q6J("ngModel",r.user.email),h.xp6(4),h.Q6J("ngModel",r.user.password))},directives:[sr,To,Qo],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),n})()},{path:"home",component:tx.O},{path:"about",component:Y0},{path:"chat",component:XM},{path:"games",loadChildren:()=>k.e(12).then(k.bind(k,7012)).then(n=>n.GamesModule)},{path:"**",component:ex}];let AO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Na.Bz.forRoot(DO)],Na.Bz]}),n})();function SO(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",6),h.NdJ("click",function(){return h.CHM(t),h.oxw().navigateToLogin()}),h._uU(1," Ingresar "),h.qZA()}}function MO(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",7)(1,"span",8),h._uU(2),h.qZA(),h.TgZ(3,"button",9),h.NdJ("click",function(){return h.CHM(t),h.oxw().signOut()}),h._uU(4,"Salir"),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(2),h.hij("",t.email," ")}}let xO=(()=>{class n{constructor(t,r,o){this.localStorageService=t,this.router=r,this.userAuthService=o,this.logged=!1,this.email=""}ngOnInit(){this.userAuthService.loggedChange.subscribe(t=>{this.logged=t,this.email=this.userAuthService.userLogged.email,console.log(this.email),console.log(this.userAuthService.userLogged.email)})}navigateToLogin(){this.router.navigateByUrl("login")}signOut(){this.userAuthService.signOut(),this.userAuthService.setLogged(!1),this.localStorageService.removeData("userEmail")}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(_C),h.Y36(Na.F0),h.Y36(GD))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-nav-bar"]],decls:9,vars:2,consts:[[1,"navbar","navbar-dark","bg-dark","shadow-sm"],[1,"container"],["routerLink","home",1,"navbar-brand","d-flex","align-items-center"],["src","../../../favicon.ico","alt","navIcon","height","50px"],["class","button-nav-green",3,"click",4,"ngIf"],["class","d-flex flex-row align-items-center",4,"ngIf"],[1,"button-nav-green",3,"click"],[1,"d-flex","flex-row","align-items-center"],[1,"text-white"],[1,"button-nav-red",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),h._UZ(4,"img",3),h.TgZ(5,"strong"),h._uU(6,"Sala de Juegos UTN"),h.qZA()(),h.YNc(7,SO,2,0,"button",4),h.YNc(8,MO,5,1,"div",5),h.qZA()()()),2&t&&(h.xp6(7),h.Q6J("ngIf",!r.logged),h.xp6(1),h.Q6J("ngIf",r.logged))},directives:[Na.yS,b.O5],styles:['.button-nav-green[_ngcontent-%COMP%]{--green: #1BFD9C;font-size:15px;padding:.7em 2.7em;letter-spacing:.06em;position:relative;font-family:inherit;border-radius:.6em;overflow:hidden;transition:all .3s;line-height:1.4em;border:2px solid var(--green);background:linear-gradient(to right,rgba(27,253,156,.1) 1%,transparent 40%,transparent 60%,rgba(27,253,156,.1) 100%);color:var(--green);box-shadow:inset 0 0 10px #1bfd9c66,0 0 9px 3px #1bfd9c1a}.button-nav-green[_ngcontent-%COMP%]:hover{color:#82ffc9;box-shadow:inset 0 0 10px #1bfd9c99,0 0 9px 3px #1bfd9c33}.button-nav-green[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-4em;width:4em;height:100%;top:0;transition:transform .4s ease-in-out;background:linear-gradient(to right,transparent 1%,rgba(27,253,156,.1) 40%,rgba(27,253,156,.1) 60%,transparent 100%)}.button-nav-green[_ngcontent-%COMP%]:hover:before{transform:translate(15em)}.button-nav-red[_ngcontent-%COMP%]{--green: #fd1b1b;font-size:15px;padding:.7em 2.7em;letter-spacing:.06em;position:relative;font-family:inherit;border-radius:.6em;overflow:hidden;transition:all .3s;line-height:1.4em;border:2px solid var(--green);background:linear-gradient(to right,rgba(253,27,27,.1) 1%,transparent 40%,transparent 60%,rgba(253,27,27,.1) 100%);color:var(--green);box-shadow:inset 0 0 10px #fd1b2e66,0 0 9px 3px #fd1b411a}.button-nav-red[_ngcontent-%COMP%]:hover{color:#f7c1c1;box-shadow:inset 0 0 10px #fd1b2699,0 0 9px 3px #fd1b2e33}.button-nav-red[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-4em;width:4em;height:100%;top:0;transition:transform .4s ease-in-out;background:linear-gradient(to right,transparent 1%,rgba(253,27,27,.1) 40%,rgba(253,27,27,.1) 60%,transparent 100%)}.button-nav-red[_ngcontent-%COMP%]:hover:before{transform:translate(15em)}.align-vertical[_ngcontent-%COMP%]{margin:3%}']}),n})(),OO=(()=>{class n{constructor(){this.title="SalaDeJuegos2022"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"bg-arcade"],["name","test"]],template:function(t,r){1&t&&h._UZ(0,"div",0)(1,"app-nav-bar")(2,"router-outlet")(3,"router-outlet",1)},directives:[xO,Na.lC],styles:[".bg-arcade[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;background-image:url(wallpaper-arcade.e1c5e90060bab72a.gif);filter:blur(4px);-webkit-filter:blur(4px);z-index:-9999}"]}),n})();const l1="firebasestorage.googleapis.com",c1="storageBucket";class Si extends ln.ZR{constructor(e,t){super(qD(e),`Firebase Storage: ${t} (${qD(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Si.prototype)}_codeEquals(e){return qD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function qD(n){return"storage/"+n}function zD(){return new Si("unknown","An unknown error occurred, please check the error payload for server response.")}function d1(){return new Si("canceled","User canceled the upload/download.")}function h1(){return new Si("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Gm(n){return new Si("invalid-argument",n)}function f1(){return new Si("app-deleted","The Firebase app was deleted.")}function p1(n){return new Si("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function m0(n,e){return new Si("invalid-format","String does not match format '"+n+"': "+e)}function y0(n){throw new Si("internal-error","Internal error: "+n)}class wo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=wo.makeFromUrl(e,t)}catch(o){return new wo(e,"")}if(""===r.path)return r;throw function HO(n){return new Si("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+o+"(/(.*))?$","i");function S(pt){pt.path_=decodeURIComponent(pt.path)}const G=t.replace(/[.]/g,"\\."),Ht=[{regex:g,indices:{bucket:1,path:3},postModify:function u(pt){"/"===pt.path.charAt(pt.path.length-1)&&(pt.path_=pt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${G}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${t===l1?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let pt=0;pt<Ht.length;pt++){const un=Ht[pt],$t=un.regex.exec(e);if($t){let mr=$t[un.indices.path];mr||(mr=""),r=new wo($t[un.indices.bucket],mr),un.postModify(r);break}}if(null==r)throw function jO(n){return new Si("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class zO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function vC(n){return"string"==typeof n||n instanceof String}function g1(n){return WD()&&n instanceof Blob}function WD(){return"undefined"!=typeof Blob}function ZD(n,e,t,r){if(r<e)throw Gm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Gm(`Invalid value for '${n}'. Expected ${t} or less.`)}function md(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function m1(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Eh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Eh||(Eh={})),Eh))();class JO{constructor(e,t,r,o,u,d,g,v,S,V,G){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=v,this.timeout_=S,this.progressCallback_=V,this.connectionFactory_=G,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ee,ue)=>{this.resolve_=ee,this.reject_=ue,this.start_()})}start_(){const t=(r,o)=>{const u=this.resolve_,d=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(g,g.getResponse());!function KO(n){return void 0!==n}(v)?u():u(v)}catch(v){d(v)}else if(null!==g){const v=zD();v.serverResponse=g.getErrorText(),d(this.errorCallback_?this.errorCallback_(g,v):v)}else d(o.canceled?this.appDelete_?f1():d1():function BO(){return new Si("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new wC(!1,null,!0)):this.backoffId_=function WO(n,e,t){let r=1,o=null,u=null,d=!1,g=0;function v(){return 2===g}let S=!1;function V(...Xe){S||(S=!0,e.apply(null,Xe))}function G(Xe){o=setTimeout(()=>{o=null,n(ue,v())},Xe)}function ee(){u&&clearTimeout(u)}function ue(Xe,...bt){if(S)return void ee();if(Xe)return ee(),void V.call(null,Xe,...bt);if(v()||d)return ee(),void V.call(null,Xe,...bt);let Ht;r<64&&(r*=2),1===g?(g=2,Ht=0):Ht=1e3*(r+Math.random()),G(Ht)}let le=!1;function Ne(Xe){le||(le=!0,ee(),!S&&(null!==o?(Xe||(g=2),clearTimeout(o),G(0)):Xe||(g=1)))}return G(0),u=setTimeout(()=>{d=!0,Ne(!0)},t),Ne}((r,o)=>{if(o)return void r(!1,new wC(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const g=u.getErrorCode()===Eh.NO_ERROR,v=u.getStatus();if(!g||this.isRetryStatusCode_(v)){const V=u.getErrorCode()===Eh.ABORT;return void r(!1,new wC(!1,null,V))}const S=-1!==this.successCodes_.indexOf(v);r(!0,new wC(S,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ZO(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||u}}class wC{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function sR(...n){const e=function iR(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(WD())return new Blob(n);throw new Si("unsupported-environment","This browser doesn't seem to support creating Blobs")}const qa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class KD{constructor(e,t){this.data=e,this.contentType=t||null}}function YD(n,e){switch(n){case qa.RAW:return new KD(y1(e));case qa.BASE64:case qa.BASE64URL:return new KD(_1(n,e));case qa.DATA_URL:return new KD(function lR(n){const e=new v1(n);return e.base64?_1(qa.BASE64,e.rest):function uR(n){let e;try{e=decodeURIComponent(n)}catch(t){throw m0(qa.DATA_URL,"Malformed data URL.")}return y1(e)}(e.rest)}(e),function cR(n){return new v1(n).contentType}(e))}throw zD()}function y1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function _1(n,e){switch(n){case qa.BASE64:{const o=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(o||u)throw m0(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case qa.BASE64URL:{const o=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(o||u)throw m0(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function aR(n){return atob(n)}(e)}catch(o){throw m0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class v1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw m0(qa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function dR(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ec{constructor(e,t){let r=0,o="";g1(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(g1(this.data_)){const o=function oR(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new ec(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ec(r,!0)}}static getBlob(...e){if(WD()){const t=e.map(r=>r instanceof ec?r.data_:r);return new ec(sR.apply(null,t))}{const t=e.map(d=>vC(d)?YD(qa.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let g=0;g<d.length;g++)o[u++]=d[g]}),new ec(o,!0)}}uploadData(){return this.data_}}function QD(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function QO(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function w1(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function pR(n,e){return e}class Bo{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||pR}}let EC=null;function _0(){if(EC)return EC;const n=[];n.push(new Bo("bucket")),n.push(new Bo("generation")),n.push(new Bo("metageneration")),n.push(new Bo("name","fullPath",!0));const t=new Bo("name");t.xform=function e(u,d){return function gR(n){return!vC(n)||n.length<2?n:w1(n)}(d)},n.push(t);const o=new Bo("size");return o.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(o),n.push(new Bo("timeCreated")),n.push(new Bo("updated")),n.push(new Bo("md5Hash",null,!0)),n.push(new Bo("cacheControl",null,!0)),n.push(new Bo("contentDisposition",null,!0)),n.push(new Bo("contentEncoding",null,!0)),n.push(new Bo("contentLanguage",null,!0)),n.push(new Bo("contentType",null,!0)),n.push(new Bo("metadata","customMetadata",!0)),EC=n,EC}function E1(n,e,t){const r=QD(e);return null===r?null:function yR(n,e,t){const r={type:"file"},o=t.length;for(let u=0;u<o;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function mR(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new wo(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function JD(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const b1="prefixes";class tc{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function nc(n){if(!n)throw zD()}function bC(n,e){return function t(r,o){const u=E1(n,o,e);return nc(null!==u),u}}function qm(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function VO(){return new Si("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function LO(){return new Si("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function FO(n){return new Si("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function UO(n){return new Si("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function v0(n){const e=qm(n);return function t(r,o){let u=e(r,o);return 404===r.getStatus()&&(u=function kO(n){return new Si("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=o.serverResponse,u}}function T1(n,e,t){const o=md(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,g=new tc(o,"GET",bC(n,t),d);return g.errorHandler=v0(e),g}function CR(n,e,t,r,o){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),o&&(u.maxResults=o);const g=md(e.bucketOnlyServerUrl(),n.host,n._protocol),S=n.maxOperationRetryTime,V=new tc(g,"GET",function ER(n,e){return function t(r,o){const u=function wR(n,e,t){const r=QD(t);return null===r?null:function vR(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[b1])for(const o of t[b1]){const u=o.replace(/\/$/,""),d=n._makeStorageReference(new wo(e,u));r.prefixes.push(d)}if(t.items)for(const o of t.items){const u=n._makeStorageReference(new wo(e,o.name));r.items.push(u)}return r}(n,e,r)}(n,e,o);return nc(null!==u),u}}(n,e.bucket),S);return V.urlParams=u,V.errorHandler=qm(e),V}function D1(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function AR(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class CC{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function XD(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){nc(!1)}return nc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const OR={STATE_CHANGED:"state_changed"},jo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eA(n){switch(n){case"running":case"pausing":case"canceling":return jo.RUNNING;case"paused":return jo.PAUSED;case"success":return jo.SUCCESS;case"canceled":return jo.CANCELED;default:return jo.ERROR}}class RR{constructor(e,t,r){if(function YO(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function zm(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class NR extends class PR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Eh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Eh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Eh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw y0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw y0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw y0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw y0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw y0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function il(){return new NR}class x1{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=_0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function SR(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),d=D1(e,r,o),g={name:d.fullPath},v=md(u,n.host,n._protocol),V={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},G=JD(d,t),le=new tc(v,"POST",function ue(Ne){let Xe;XD(Ne);try{Xe=Ne.getResponseHeader("X-Goog-Upload-URL")}catch(bt){nc(!1)}return nc(vC(Xe)),Xe},n.maxUploadRetryTime);return le.urlParams=g,le.headers=V,le.body=G,le.errorHandler=qm(e),le}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,il,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function MR(n,e,t,r){const v=new tc(t,"POST",function u(S){const V=XD(S,["active","final"]);let G=null;try{G=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ue){nc(!1)}G||nc(!1);const ee=Number(G);return nc(!isNaN(ee)),new CC(ee,r.size(),"final"===V)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=qm(e),v}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,il,t,r);this._request=u,u.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new CC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,u)=>{let d;try{d=function xR(n,e,t,r,o,u,d,g){const v=new CC(0,0);if(d?(v.current=d.current,v.total=d.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function GO(){return new Si("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const S=v.total-v.current;let V=S;o>0&&(V=Math.min(V,o));const G=v.current,le={"X-Goog-Upload-Command":V===S?"upload, finalize":"upload","X-Goog-Upload-Offset":`${v.current}`},Ne=r.slice(G,G+V);if(null===Ne)throw h1();const Ht=new tc(t,"POST",function Xe(pt,un){const $t=XD(pt,["active","final"]),hr=v.current+V,mr=r.size();let Li;return Li="final"===$t?bC(e,u)(pt,un):null,new CC(hr,mr,"final"===$t,Li)},e.maxUploadRetryTime);return Ht.headers=le,Ht.body=Ne.uploadData(),Ht.progressCallback=g||null,Ht.errorHandler=qm(n),Ht}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const g=this._ref.storage._makeRequest(d,il,o,u);this._request=g,g.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=T1(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,il,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function A1(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},v=function g(){let Ht="";for(let pt=0;pt<2;pt++)Ht+=Math.random().toString().slice(2);return Ht}();d["Content-Type"]="multipart/related; boundary="+v;const S=D1(e,r,o),V=JD(S,t),ue=ec.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+V+"\r\n--"+v+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===ue)throw h1();const le={name:S.fullPath},Ne=md(u,n.host,n._protocol),bt=n.maxUploadRetryTime,Et=new tc(Ne,"POST",bC(n,t),bt);return Et.urlParams=le,Et.headers=d,Et.body=ue.uploadData(),Et.errorHandler=qm(e),Et}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,il,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=d1(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=eA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const u=new RR(t||void 0,r||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(eA(this._state)){case jo.SUCCESS:zm(this._resolve.bind(null,this.snapshot))();break;case jo.CANCELED:case jo.ERROR:zm(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(eA(this._state)){case jo.RUNNING:case jo.PAUSED:e.next&&zm(e.next.bind(e,this.snapshot))();break;case jo.SUCCESS:e.complete&&zm(e.complete.bind(e))();break;default:e.error&&zm(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class jp{constructor(e,t){this._service=e,this._location=t instanceof wo?t:wo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new jp(e,t)}get root(){const e=new wo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w1(this._location.path)}get storage(){return this._service}get parent(){const e=function hR(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new wo(this._location.bucket,e);return new jp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw p1(e)}}function R1(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,Ue.Z)(function*(n,e,t){const o=yield P1(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield R1(n,e,o.nextPageToken))}),tA.apply(this,arguments)}function P1(n,e){null!=e&&"number"==typeof e.maxResults&&ZD("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=CR(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,il)}function zR(n){n._throwIfRoot("getDownloadURL");const e=function TR(n,e,t){const o=md(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,g=new tc(o,"GET",function bR(n,e){return function t(r,o){const u=E1(n,o,e);return nc(null!==u),function _R(n,e,t,r){const o=QD(e);if(null===o||!vC(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const d=encodeURIComponent;return u.split(",").map(S=>{const G=n.fullPath;return md("/b/"+d(n.bucket)+"/o/"+d(G),t,r)+m1({alt:"media",token:S})})[0]}(u,o,n.host,n._protocol)}}(n,t),d);return g.errorHandler=v0(e),g}(n.storage,n._location,_0());return n.storage.makeRequestWithTokens(e,il).then(t=>{if(null===t)throw function qO(){return new Si("no-download-url","The given file does not have any download URLs.")}();return t})}function N1(n,e){const t=function fR(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new wo(n._location.bucket,t);return new jp(n.storage,r)}function k1(n,e){if(n instanceof nA){const t=n;if(null==t._bucket)throw function $O(){return new Si("no-default-bucket","No default bucket found. Did you set the '"+c1+"' property when initializing the app?")}();const r=new jp(t,t._bucket);return null!=e?k1(r,e):r}return void 0!==e?N1(n,e):n}function YR(n,e){if(e&&function ZR(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof nA)return function KR(n,e){return new jp(n,e)}(n,e);throw Gm("To use ref(service, url), the first argument must be a Storage instance.")}return k1(n,e)}function F1(n,e){const t=null==e?void 0:e[c1];return null==t?null:wo.makeFromBucketSpec(t,n)}class nA{constructor(e,t,r,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=l1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?wo.makeFromBucketSpec(o,this._host):F1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?wo.makeFromBucketSpec(this._url,e):F1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ue.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ue.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jp(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new zO(f1());{const u=function rR(n,e,t,r,o,u){const d=m1(n.urlParams),g=n.url+d,v=Object.assign({},n.headers);return function tR(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function XO(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function eR(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(v,u),function nR(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new JO(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,Ue.Z)(function*(){const[o,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,u).getPromise()})()}}const L1="@firebase/storage";function B1(n,e){return YR(n=(0,ln.m9)(n),e)}function aP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new nA(t,r,o,e,Ys.SDK_VERSION)}!function uP(){(0,Ys._registerComponent)(new lf.wA("storage",aP,"PUBLIC").setMultipleInstances(!0)),(0,Ys.registerVersion)(L1,"0.9.4",""),(0,Ys.registerVersion)(L1,"0.9.4","esm2017")}();class TC{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class j1{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TC(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new TC(r,this,this._ref))},t)}on(e,t,r,o){let u;return t&&(u="function"==typeof t?d=>t(new TC(d,this,this._ref)):{next:t.next?d=>t.next(new TC(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,o||void 0)}}class H1{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new yd(e,this._service))}get items(){return this._delegate.items.map(e=>new yd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class yd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function sP(n,e){return N1(n,e)}(this._delegate,e);return new yd(t,this.storage)}get root(){return new yd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new yd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new j1(function JR(n,e,t){return function jR(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new x1(n,new ec(e),t)}(n=(0,ln.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=qa.RAW,r){this._throwIfRoot("putString");const o=YD(t,e),u=Object.assign({},r);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new j1(new x1(this._delegate,new ec(o.data,!0),u),this)}listAll(){return function nP(n){return function $R(n){const e={prefixes:[],items:[]};return R1(n,e).then(()=>e)}(n=(0,ln.m9)(n))}(this._delegate).then(e=>new H1(e,this.storage))}list(e){return function tP(n,e){return P1(n=(0,ln.m9)(n),e)}(this._delegate,e||void 0).then(t=>new H1(t,this.storage))}getMetadata(){return function XR(n){return function GR(n){n._throwIfRoot("getMetadata");const e=T1(n.storage,n._location,_0());return n.storage.makeRequestWithTokens(e,il)}(n=(0,ln.m9)(n))}(this._delegate)}updateMetadata(e){return function eP(n,e){return function qR(n,e){n._throwIfRoot("updateMetadata");const t=function IR(n,e,t,r){const u=md(e.fullServerUrl(),n.host,n._protocol),g=JD(t,r),S=n.maxOperationRetryTime,V=new tc(u,"PATCH",bC(n,r),S);return V.headers={"Content-Type":"application/json; charset=utf-8"},V.body=g,V.errorHandler=v0(e),V}(n.storage,n._location,e,_0());return n.storage.makeRequestWithTokens(t,il)}(n=(0,ln.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function rP(n){return zR(n=(0,ln.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function iP(n){return function WR(n){n._throwIfRoot("deleteObject");const e=function DR(n,e){const r=md(e.fullServerUrl(),n.host,n._protocol),g=new tc(r,"DELETE",function d(v,S){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=v0(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,il)}(n=(0,ln.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw p1(e)}}class $1{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(G1(e))throw Gm("ref() expected a child path but got a URL, use refFromURL instead.");return new yd(B1(this._delegate,e),this)}refFromURL(e){if(!G1(e))throw Gm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{wo.makeFromUrl(e,this._delegate.host)}catch(t){throw Gm("refFromUrl() expected a valid full URL but got an invalid one.")}return new yd(B1(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function oP(n,e,t,r={}){!function QR(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,ln.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function G1(n){return/^[A-Za-z]+:\/\//.test(n)}function hP(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new $1(t,r)}function q1(n){const e=function pP(n){return new Ee.y(e=>{const t=d=>e.next(d);t(n.snapshot);const u=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){u()}}).pipe(function RO(n,e=pS.z){return(0,mD.e)((t,r)=>{let o=null,u=null,d=null;const g=()=>{if(o){o.unsubscribe(),o=null;const S=u;u=null,r.next(S)}};function v(){const S=d+n,V=e.now();if(V<S)return o=this.schedule(void 0,S-V),void r.add(o);g()}t.subscribe((0,lt.x)(r,S=>{u=S,d=e.now(),o||(o=e.schedule(v,n),r.add(o))},()=>{g(),r.complete()},void 0,()=>{u=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Ft.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function IC(n){return{getDownloadURL:()=>(0,T.of)(void 0).pipe(ii.fc,(0,Xl.w)(()=>n.getDownloadURL()),ii.iC),getMetadata:()=>(0,T.of)(void 0).pipe(ii.fc,(0,Xl.w)(()=>n.getMetadata()),ii.iC),delete:()=>(0,K.D)(n.delete()),child:e=>IC(n.child(e)),updateMetadata:e=>(0,K.D)(n.updateMetadata(e)),put:(e,t)=>q1(n.put(e,t)),putString:(e,t,r)=>q1(n.putString(e,t,r)),list:e=>(0,K.D)(n.list(e)),listAll:()=>(0,K.D)(n.listAll())}}!function fP(n){const e={TaskState:jo,TaskEvent:OR,StringFormat:qa,Storage:$1,Reference:yd};n.INTERNAL.registerComponent(new lf.wA("storage-compat",hP,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.12")}(gS.Z);const gP=new h.OlP("angularfire2.storageBucket"),mP=new h.OlP("angularfire2.storage.maxUploadRetryTime"),yP=new h.OlP("angularfire2.storage.maxOperationRetryTime"),_P=new h.OlP("angularfire2.storage.use-emulator");let vP=(()=>{class n{constructor(t,r,o,u,d,g,v,S,V,G){const ee=(0,Fo.on)(t,d,r);this.storage=(0,Fo.cc)(`${ee.name}.storage.${o}`,"AngularFireStorage",ee.name,()=>{const ue=d.runOutsideAngular(()=>ee.storage(o||void 0)),le=V;return le&&ue.useEmulator(...le),v&&ue.setMaxUploadRetryTime(v),S&&ue.setMaxOperationRetryTime(S),ue},[v,S])}ref(t){return IC(this.storage.ref(t))}refFromURL(t){return IC(this.storage.refFromURL(t))}upload(t,r,o){return IC(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Fo.Dh),h.LFG(Fo.xv,8),h.LFG(gP,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ii.HU),h.LFG(mP,8),h.LFG(yP,8),h.LFG(_P,8),h.LFG(gC,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),EP=(()=>{class n{constructor(){jD.Z.registerVersion("angularfire",ii.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[vP],imports:[wP]}),n})(),bP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[OO]}),n.\u0275inj=h.cJS({providers:[],imports:[[b.ez,nT,Jm.forRoot({timeOut:2e3,positionClass:"toast-top-center"}),Ar,AO,Xa,Fo.hO.initializeApp(kh_firebaseConfig),TO,EP,mO,Ms]]}),n})();(0,h.G48)(),si().bootstrapModule(bP).catch(n=>console.error(n))},5867:(vt,Ae,k)=>{k.d(Ae,{C6:()=>b.getApps,Mq:()=>b.getApp,ZF:()=>b.initializeApp});var b=k(9681);(0,b.registerVersion)("firebase","9.6.10","app")},127:(vt,Ae,k)=>{k.d(Ae,{Z:()=>b.Z});var b=k(3942);b.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(vt,Ae,k)=>{k.r(Ae);var b=k(5861),h=k(3942),j=k(424),ce=k(2090),ye=(k(9681),k(1877),k(4859));function fe(){return window}function X(){return(X=(0,b.Z)(function*(q,Z,K){var Ee;const{BuildInfo:Ve}=fe();(0,j.ap)(Z.sessionId,"AuthEvent did not contain a session ID");const ot=yield Le(Z.sessionId),Ut={};return(0,j.aq)()?Ut.ibi=Ve.packageName:(0,j.ar)()?Ut.apn=Ve.packageName:(0,j.as)(q,"operation-not-supported-in-this-environment"),Ve.displayName&&(Ut.appDisplayName=Ve.displayName),Ut.sessionId=ot,(0,j.at)(q,K,Z.type,void 0,null!==(Ee=Z.eventId)&&void 0!==Ee?Ee:void 0,Ut)})).apply(this,arguments)}function tt(){return(tt=(0,b.Z)(function*(q){const{BuildInfo:Z}=fe(),K={};(0,j.aq)()?K.iosBundleId=Z.packageName:(0,j.ar)()?K.androidPackageName=Z.packageName:(0,j.as)(q,"operation-not-supported-in-this-environment"),yield(0,j.au)(q,K)})).apply(this,arguments)}function et(){return(et=(0,b.Z)(function*(q,Z,K){const{cordova:Ee}=fe();let Ve=()=>{};try{yield new Promise((ot,Ut)=>{let lt=null;function Gt(){var Ft;ot();const pr=null===(Ft=Ee.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof pr&&pr(),"function"==typeof(null==K?void 0:K.close)&&K.close()}function $n(){lt||(lt=window.setTimeout(()=>{Ut((0,j.av)(q,"redirect-cancelled-by-user"))},2e3))}function fr(){"visible"===(null==document?void 0:document.visibilityState)&&$n()}Z.addPassiveListener(Gt),document.addEventListener("resume",$n,!1),(0,j.ar)()&&document.addEventListener("visibilitychange",fr,!1),Ve=()=>{Z.removePassiveListener(Gt),document.removeEventListener("resume",$n,!1),document.removeEventListener("visibilitychange",fr,!1),lt&&window.clearTimeout(lt)}})}finally{Ve()}})).apply(this,arguments)}function Le(q){return gt.apply(this,arguments)}function gt(){return(gt=(0,b.Z)(function*(q){const Z=rt(q),K=yield crypto.subtle.digest("SHA-256",Z);return Array.from(new Uint8Array(K)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function rt(q){if((0,j.ap)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(q);const Z=new ArrayBuffer(q.length),K=new Uint8Array(Z);for(let Ee=0;Ee<q.length;Ee++)K[Ee]=q.charCodeAt(Ee);return K}class qe extends j.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Z=>{this.resolveInialized=Z})}addPassiveListener(Z){this.passiveListeners.add(Z)}removePassiveListener(Z){this.passiveListeners.delete(Z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Z){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(Z)),super.onEvent(Z)}initialized(){var Z=this;return(0,b.Z)(function*(){yield Z.initPromise})()}}function ve(q){return mt.apply(this,arguments)}function mt(){return(mt=(0,b.Z)(function*(q){const Z=yield Ie()._get(xe(q));return Z&&(yield Ie()._remove(xe(q))),Z})).apply(this,arguments)}function Te(){const q=[],Z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<20;K++){const Ee=Math.floor(Math.random()*Z.length);q.push(Z.charAt(Ee))}return q.join("")}function Ie(){return(0,j.ax)(j.b)}function xe(q){return(0,j.ay)("authEvent",q.config.apiKey,q.name)}function Bt(q){if(!(null==q?void 0:q.includes("?")))return{};const[Z,...K]=q.split("?");return(0,ce.zd)(K.join("?"))}function St(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,j.av)("no-auth-event")}}function zt(){var q;return(null===(q=null==self?void 0:self.location)||void 0===q?void 0:q.protocol)||null}function Zn(q=(0,ce.z$)()){return!("file:"!==zt()&&"ionic:"!==zt()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function si(){try{const q=self.localStorage,Z=j.aG();if(q)return q.setItem(Z,"1"),q.removeItem(Z),!function Wr(q=(0,ce.z$)()){return function Yn(){return(0,ce.w1)()&&11===(null==document?void 0:document.documentMode)}()||function _r(q=(0,ce.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,ce.hl)()}catch(q){return Dr()&&(0,ce.hl)()}return!1}function Dr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ar(){return(function Yt(){return"http:"===zt()||"https:"===zt()}()||(0,ce.ru)()||Zn())&&!function jn(){return(0,ce.b$)()||(0,ce.UG)()}()&&si()&&!Dr()}function ms(){return Zn()&&"undefined"!=typeof document}function Zr(){return(Zr=(0,b.Z)(function*(){return!!ms()&&new Promise(q=>{const Z=setTimeout(()=>{q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Z),q(!0)})})})).apply(this,arguments)}const Dn={LOCAL:"local",NONE:"none",SESSION:"session"},er=j.aw,gi="persistence";function tr(q){return Br.apply(this,arguments)}function Br(){return(Br=(0,b.Z)(function*(q){yield q._initializationPromise;const Z=dt(),K=j.ay(gi,q.config.apiKey,q.name);Z&&Z.setItem(K,q._getPersistence())})).apply(this,arguments)}function dt(){var q;try{return(null===(q=function ur(){return"undefined"!=typeof window?window:null}())||void 0===q?void 0:q.sessionStorage)||null}catch(Z){return null}}const xt=j.aw;class yt{constructor(){this.browserResolver=j.ax(j.k),this.cordovaResolver=j.ax(class Kt{constructor(){this._redirectPersistence=j.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=j.aA}_initialize(Z){var K=this;return(0,b.Z)(function*(){const Ee=Z._key();let Ve=K.eventManagers.get(Ee);return Ve||(Ve=new qe(Z),K.eventManagers.set(Ee,Ve),K.attachCallbackListeners(Z,Ve)),Ve})()}_openPopup(Z){(0,j.as)(Z,"operation-not-supported-in-this-environment")}_openRedirect(Z,K,Ee,Ve){var ot=this;return(0,b.Z)(function*(){!function Me(q){var Z,K,Ee,Ve,ot,Ut,lt,Gt,$n,fr;const Ft=fe();(0,j.aw)("function"==typeof(null===(Z=null==Ft?void 0:Ft.universalLinks)||void 0===Z?void 0:Z.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,j.aw)(void 0!==(null===(K=null==Ft?void 0:Ft.BuildInfo)||void 0===K?void 0:K.packageName),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,j.aw)("function"==typeof(null===(ot=null===(Ve=null===(Ee=null==Ft?void 0:Ft.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===ot?void 0:ot.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aw)("function"==typeof(null===(Gt=null===(lt=null===(Ut=null==Ft?void 0:Ft.cordova)||void 0===Ut?void 0:Ut.plugins)||void 0===lt?void 0:lt.browsertab)||void 0===Gt?void 0:Gt.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.aw)("function"==typeof(null===(fr=null===($n=null==Ft?void 0:Ft.cordova)||void 0===$n?void 0:$n.InAppBrowser)||void 0===fr?void 0:fr.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Z);const Ut=yield ot._initialize(Z);yield Ut.initialized(),Ut.resetRedirect(),(0,j.aB)(),yield ot._originValidation(Z);const lt=function Fe(q,Z,K=null){return{type:Z,eventId:K,urlResponse:null,sessionId:Te(),postBody:null,tenantId:q.tenantId,error:(0,j.av)(q,"no-auth-event")}}(Z,Ee,Ve);yield function je(q,Z){return Ie()._set(xe(q),Z)}(Z,lt);const Gt=yield function te(q,Z,K){return X.apply(this,arguments)}(Z,lt,K),$n=yield function $e(q){const{cordova:Z}=fe();return new Promise(K=>{Z.plugins.browsertab.isAvailable(Ee=>{let Ve=null;Ee?Z.plugins.browsertab.openUrl(q):Ve=Z.InAppBrowser.open(q,(0,j.ao)()?"_blank":"_system","location=yes"),K(Ve)})})}(Gt);return function Ke(q,Z,K){return et.apply(this,arguments)}(Z,Ut,$n)})()}_isIframeWebStorageSupported(Z,K){throw new Error("Method not implemented.")}_originValidation(Z){const K=Z._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function pe(q){return tt.apply(this,arguments)}(Z)),this.originValidationPromises[K]}attachCallbackListeners(Z,K){const{universalLinks:Ee,handleOpenURL:Ve,BuildInfo:ot}=fe(),Ut=setTimeout((0,b.Z)(function*(){yield ve(Z),K.onEvent(St())}),500),lt=function(){var fr=(0,b.Z)(function*(Ft){clearTimeout(Ut);const pr=yield ve(Z);let ir=null;pr&&(null==Ft?void 0:Ft.url)&&(ir=function he(q,Z){var K,Ee;const Ve=function Ce(q){const Z=Bt(q),K=Z.link?decodeURIComponent(Z.link):void 0,Ee=Bt(K).link,Ve=Z.deep_link_id?decodeURIComponent(Z.deep_link_id):void 0;return Bt(Ve).link||Ve||Ee||K||q}(Z);if(Ve.includes("/__/auth/callback")){const ot=Bt(Ve),Ut=ot.firebaseError?function Je(q){try{return JSON.parse(q)}catch(Z){return null}}(decodeURIComponent(ot.firebaseError)):null,lt=null===(Ee=null===(K=null==Ut?void 0:Ut.code)||void 0===K?void 0:K.split("auth/"))||void 0===Ee?void 0:Ee[1],Gt=lt?(0,j.av)(lt):null;return Gt?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:Ve,postBody:null}}return null}(pr,Ft.url)),K.onEvent(ir||St())});return function(pr){return fr.apply(this,arguments)}}();void 0!==Ee&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,lt);const Gt=Ve,$n=`${ot.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var fr=(0,b.Z)(function*(Ft){if(Ft.toLowerCase().startsWith($n)&&lt({url:Ft}),"function"==typeof Gt)try{Gt(Ft)}catch(pr){console.error(pr)}});return function(Ft){return fr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=j.a,this._completeRedirectFn=j.aA}_initialize(Z){var K=this;return(0,b.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(Z)})()}_openPopup(Z,K,Ee,Ve){var ot=this;return(0,b.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openPopup(Z,K,Ee,Ve)})()}_openRedirect(Z,K,Ee,Ve){var ot=this;return(0,b.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openRedirect(Z,K,Ee,Ve)})()}_isIframeWebStorageSupported(Z,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Z,K)}_originValidation(Z){return this.assertedUnderlyingResolver._originValidation(Z)}get _shouldInitProactively(){return ms()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Z=this;return(0,b.Z)(function*(){if(Z.underlyingResolver)return;const K=yield function Mt(){return Zr.apply(this,arguments)}();Z.underlyingResolver=K?Z.cordovaResolver:Z.browserResolver})()}}function Hr(q){return q.unwrap()}function _n(q){return nr(q)}function nr(q){const{_tokenResponse:Z}=q instanceof ce.ZR?q.customData:q;if(!Z)return null;if(!(q instanceof ce.ZR)&&"temporaryProof"in Z&&"phoneNumber"in Z)return j.P.credentialFromResult(q);const K=Z.providerId;if(!K||K===j.o.PASSWORD)return null;let Ee;switch(K){case j.o.GOOGLE:Ee=j.N;break;case j.o.FACEBOOK:Ee=j.M;break;case j.o.GITHUB:Ee=j.Q;break;case j.o.TWITTER:Ee=j.V;break;default:const{oauthIdToken:Ve,oauthAccessToken:ot,oauthTokenSecret:Ut,pendingToken:lt,nonce:Gt}=Z;return ot||Ut||Ve||lt?lt?K.startsWith("saml.")?j.aJ._create(K,lt):j.I._fromParams({providerId:K,signInMethod:K,pendingToken:lt,idToken:Ve,accessToken:ot}):new j.T(K).credential({idToken:Ve,accessToken:ot,rawNonce:Gt}):null}return q instanceof ce.ZR?Ee.credentialFromError(q):Ee.credentialFromResult(q)}function hn(q,Z){return Z.catch(K=>{throw K instanceof ce.ZR&&function is(q,Z){var K;const Ee=null===(K=Z.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===Z.code)Z.resolver=new fn(q,j.am(q,Z));else if(Ee){const Ve=nr(Z),ot=Z;Ve&&(ot.credential=Ve,ot.tenantId=Ee.tenantId||void 0,ot.email=Ee.email||void 0,ot.phoneNumber=Ee.phoneNumber||void 0)}}(q,K),K}).then(K=>{const Ve=K.user;return{operationType:K.operationType,credential:_n(K),additionalUserInfo:j.ak(K),user:ht.getOrCreate(Ve)}})}function kt(q,Z){return rr.apply(this,arguments)}function rr(){return(rr=(0,b.Z)(function*(q,Z){const K=yield Z;return{verificationId:K.verificationId,confirm:Ee=>hn(q,K.confirm(Ee))}})).apply(this,arguments)}class fn{constructor(Z,K){this.resolver=K,this.auth=function Mi(q){return q.wrapped()}(Z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Z){return hn(Hr(this.auth),this.resolver.resolveSignIn(Z))}}class ht{constructor(Z){this._delegate=Z,this.multiFactor=j.an(Z)}static getOrCreate(Z){return ht.USER_MAP.has(Z)||ht.USER_MAP.set(Z,new ht(Z)),ht.USER_MAP.get(Z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Z){return this._delegate.getIdTokenResult(Z)}getIdToken(Z){return this._delegate.getIdToken(Z)}linkAndRetrieveDataWithCredential(Z){return this.linkWithCredential(Z)}linkWithCredential(Z){var K=this;return(0,b.Z)(function*(){return hn(K.auth,j.Y(K._delegate,Z))})()}linkWithPhoneNumber(Z,K){var Ee=this;return(0,b.Z)(function*(){return kt(Ee.auth,j.l(Ee._delegate,Z,K))})()}linkWithPopup(Z){var K=this;return(0,b.Z)(function*(){return hn(K.auth,j.d(K._delegate,Z,yt))})()}linkWithRedirect(Z){var K=this;return(0,b.Z)(function*(){return yield tr(j.aC(K.auth)),j.g(K._delegate,Z,yt)})()}reauthenticateAndRetrieveDataWithCredential(Z){return this.reauthenticateWithCredential(Z)}reauthenticateWithCredential(Z){var K=this;return(0,b.Z)(function*(){return hn(K.auth,j.Z(K._delegate,Z))})()}reauthenticateWithPhoneNumber(Z,K){return kt(this.auth,j.r(this._delegate,Z,K))}reauthenticateWithPopup(Z){return hn(this.auth,j.e(this._delegate,Z,yt))}reauthenticateWithRedirect(Z){var K=this;return(0,b.Z)(function*(){return yield tr(j.aC(K.auth)),j.h(K._delegate,Z,yt)})()}sendEmailVerification(Z){return j.aa(this._delegate,Z)}unlink(Z){var K=this;return(0,b.Z)(function*(){return yield j.aj(K._delegate,Z),K})()}updateEmail(Z){return j.af(this._delegate,Z)}updatePassword(Z){return j.ag(this._delegate,Z)}updatePhoneNumber(Z){return j.u(this._delegate,Z)}updateProfile(Z){return j.ae(this._delegate,Z)}verifyBeforeUpdateEmail(Z,K){return j.ab(this._delegate,Z,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ht.USER_MAP=new WeakMap;const Pe=j.aw;let ut=(()=>{class q{constructor(K,Ee){if(this.app=K,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=K.options;Pe(Ve,"invalid-api-key",{appName:K.name}),Pe(Ve,"invalid-api-key",{appName:K.name});const ot="undefined"!=typeof window?yt:void 0;this._delegate=Ee.initialize({options:{persistence:on(Ve,K.name),popupRedirectResolver:ot}}),this._delegate._updateErrorMap(j.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ht.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Ee){j.E(this._delegate,K,Ee)}applyActionCode(K){return j.a1(this._delegate,K)}checkActionCode(K){return j.a2(this._delegate,K)}confirmPasswordReset(K,Ee){return j.a0(this._delegate,K,Ee)}createUserWithEmailAndPassword(K,Ee){var Ve=this;return(0,b.Z)(function*(){return hn(Ve._delegate,j.a4(Ve._delegate,K,Ee))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return j.a9(this._delegate,K)}isSignInWithEmailLink(K){return j.a7(this._delegate,K)}getRedirectResult(){var K=this;return(0,b.Z)(function*(){Pe(Ar(),K._delegate,"operation-not-supported-in-this-environment");const Ee=yield j.j(K._delegate,yt);return Ee?hn(K._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function kn(q,Z){(0,j.aC)(q)._logFramework(Z)}(this._delegate,K)}onAuthStateChanged(K,Ee,Ve){const{next:ot,error:Ut,complete:lt}=Nt(K,Ee,Ve);return this._delegate.onAuthStateChanged(ot,Ut,lt)}onIdTokenChanged(K,Ee,Ve){const{next:ot,error:Ut,complete:lt}=Nt(K,Ee,Ve);return this._delegate.onIdTokenChanged(ot,Ut,lt)}sendSignInLinkToEmail(K,Ee){return j.a6(this._delegate,K,Ee)}sendPasswordResetEmail(K,Ee){return j.$(this._delegate,K,Ee||void 0)}setPersistence(K){var Ee=this;return(0,b.Z)(function*(){let Ve;switch(function lr(q,Z){er(Object.values(Dn).includes(Z),q,"invalid-persistence-type"),(0,ce.b$)()?er(Z!==Dn.SESSION,q,"unsupported-persistence-type"):(0,ce.UG)()?er(Z===Dn.NONE,q,"unsupported-persistence-type"):Dr()?er(Z===Dn.NONE||Z===Dn.LOCAL&&(0,ce.hl)(),q,"unsupported-persistence-type"):er(Z===Dn.NONE||si(),q,"unsupported-persistence-type")}(Ee._delegate,K),K){case Dn.SESSION:Ve=j.a;break;case Dn.LOCAL:Ve=(yield j.ax(j.i)._isAvailable())?j.i:j.b;break;case Dn.NONE:Ve=j.K;break;default:return j.as("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return hn(this._delegate,j.W(this._delegate))}signInWithCredential(K){return hn(this._delegate,j.X(this._delegate,K))}signInWithCustomToken(K){return hn(this._delegate,j._(this._delegate,K))}signInWithEmailAndPassword(K,Ee){return hn(this._delegate,j.a5(this._delegate,K,Ee))}signInWithEmailLink(K,Ee){return hn(this._delegate,j.a8(this._delegate,K,Ee))}signInWithPhoneNumber(K,Ee){return kt(this._delegate,j.s(this._delegate,K,Ee))}signInWithPopup(K){var Ee=this;return(0,b.Z)(function*(){return Pe(Ar(),Ee._delegate,"operation-not-supported-in-this-environment"),hn(Ee._delegate,j.c(Ee._delegate,K,yt))})()}signInWithRedirect(K){var Ee=this;return(0,b.Z)(function*(){return Pe(Ar(),Ee._delegate,"operation-not-supported-in-this-environment"),yield tr(Ee._delegate),j.f(Ee._delegate,K,yt)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return j.a3(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=Dn,q})();function Nt(q,Z,K){let Ee=q;"function"!=typeof q&&({next:Ee,error:Z,complete:K}=q);const Ve=Ee;return{next:Ut=>Ve(Ut&&ht.getOrCreate(Ut)),error:Z,complete:K}}function on(q,Z){const K=function jr(q,Z){const K=dt();if(!K)return[];const Ee=j.ay(gi,q,Z);switch(K.getItem(Ee)){case Dn.NONE:return[j.K];case Dn.LOCAL:return[j.i,j.a];case Dn.SESSION:return[j.a];default:return[]}}(q,Z);if("undefined"!=typeof self&&!K.includes(j.i)&&K.push(j.i),"undefined"!=typeof window)for(const Ee of[j.b,j.a])K.includes(Ee)||K.push(Ee);return K.includes(j.K)||K.push(j.K),K}class rn{constructor(){this.providerId="phone",this._delegate=new j.P(Hr(h.Z.auth()))}static credential(Z,K){return j.P.credential(Z,K)}verifyPhoneNumber(Z,K){return this._delegate.verifyPhoneNumber(Z,K)}unwrap(){return this._delegate}}rn.PHONE_SIGN_IN_METHOD=j.P.PHONE_SIGN_IN_METHOD,rn.PROVIDER_ID=j.P.PROVIDER_ID;const se=j.aw;class J{constructor(Z,K,Ee=h.Z.app()){var Ve;se(null===(Ve=Ee.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new j.R(Z,K,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Se(q){q.INTERNAL.registerComponent(new ye.wA("auth-compat",Z=>{const K=Z.getProvider("app-compat").getImmediate(),Ee=Z.getProvider("auth");return new ut(K,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:j.A.EMAIL_SIGNIN,PASSWORD_RESET:j.A.PASSWORD_RESET,RECOVER_EMAIL:j.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:j.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:j.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:j.A.VERIFY_EMAIL}},EmailAuthProvider:j.L,FacebookAuthProvider:j.M,GithubAuthProvider:j.Q,GoogleAuthProvider:j.N,OAuthProvider:j.T,SAMLAuthProvider:j.U,PhoneAuthProvider:rn,PhoneMultiFactorGenerator:j.m,RecaptchaVerifier:J,TwitterAuthProvider:j.V,Auth:ut,AuthCredential:j.G,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.2.11")}(h.Z)},8306:(vt,Ae,k)=>{k.d(Ae,{y:()=>te});var b=k(2961),h=k(727),j=k(8822),ce=k(4671);var ye=k(2416),fe=k(576),we=k(2806);let te=(()=>{class $e{constructor(et){et&&(this._subscribe=et)}lift(et){const Me=new $e;return Me.source=this,Me.operator=et,Me}subscribe(et,Me,Le){const gt=function tt($e){return $e&&$e instanceof b.Lv||function pe($e){return $e&&(0,fe.m)($e.next)&&(0,fe.m)($e.error)&&(0,fe.m)($e.complete)}($e)&&(0,h.Nn)($e)}(et)?et:new b.Hp(et,Me,Le);return(0,we.x)(()=>{const{operator:rt,source:Ge}=this;gt.add(rt?rt.call(gt,Ge):Ge?this._subscribe(gt):this._trySubscribe(gt))}),gt}_trySubscribe(et){try{return this._subscribe(et)}catch(Me){et.error(Me)}}forEach(et,Me){return new(Me=X(Me))((Le,gt)=>{const rt=new b.Hp({next:Ge=>{try{et(Ge)}catch(qe){gt(qe),rt.unsubscribe()}},error:gt,complete:Le});this.subscribe(rt)})}_subscribe(et){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(et)}[j.L](){return this}pipe(...et){return function de($e){return 0===$e.length?ce.y:1===$e.length?$e[0]:function(et){return $e.reduce((Me,Le)=>Le(Me),et)}}(et)(this)}toPromise(et){return new(et=X(et))((Me,Le)=>{let gt;this.subscribe(rt=>gt=rt,rt=>Le(rt),()=>Me(gt))})}}return $e.create=Ke=>new $e(Ke),$e})();function X($e){var Ke;return null!==(Ke=null!=$e?$e:ye.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(vt,Ae,k)=>{k.d(Ae,{x:()=>ye});var b=k(8306),h=k(727);const ce=(0,k(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),de=k(2806);let ye=(()=>{class we extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const pe=new fe(this,this);return pe.operator=X,pe}_throwIfClosed(){if(this.closed)throw new ce}next(X){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(X)}})}error(X){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:pe}=this;for(;pe.length;)pe.shift().error(X)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:pe,isStopped:tt,observers:$e}=this;return pe||tt?h.Lc:(this.currentObservers=null,$e.push(X),new h.w0(()=>{this.currentObservers=null,(0,ae.P)($e,X)}))}_checkFinalizedStatuses(X){const{hasError:pe,thrownError:tt,isStopped:$e}=this;pe?X.error(tt):$e&&X.complete()}asObservable(){const X=new b.y;return X.source=this,X}}return we.create=(te,X)=>new fe(te,X),we})();class fe extends ye{constructor(te,X){super(),this.destination=te,this.source=X}next(te){var X,pe;null===(pe=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===pe||pe.call(X,te)}error(te){var X,pe;null===(pe=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===pe||pe.call(X,te)}complete(){var te,X;null===(X=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===X||X.call(te)}_subscribe(te){var X,pe;return null!==(pe=null===(X=this.source)||void 0===X?void 0:X.subscribe(te))&&void 0!==pe?pe:h.Lc}}},2961:(vt,Ae,k)=>{k.d(Ae,{Hp:()=>et,Lv:()=>pe});var b=k(576),h=k(727),j=k(2416),ce=k(7849);function ae(){}const de=we("C",void 0,void 0);function we(Ge,qe,Fe){return{kind:Ge,value:qe,error:Fe}}var te=k(3410),X=k(2806);class pe extends h.w0{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,h.Nn)(qe)&&qe.add(this)):this.destination=rt}static create(qe,Fe,je){return new et(qe,Fe,je)}next(qe){this.isStopped?gt(function fe(Ge){return we("N",Ge,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?gt(function ye(Ge){return we("E",void 0,Ge)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?gt(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function $e(Ge,qe){return tt.call(Ge,qe)}class Ke{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(qe)}catch(je){Me(je)}}error(qe){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(qe)}catch(je){Me(je)}else Me(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(Fe){Me(Fe)}}}class et extends pe{constructor(qe,Fe,je){let ve;if(super(),(0,b.m)(qe)||!qe)ve={next:null!=qe?qe:void 0,error:null!=Fe?Fe:void 0,complete:null!=je?je:void 0};else{let mt;this&&j.v.useDeprecatedNextContext?(mt=Object.create(qe),mt.unsubscribe=()=>this.unsubscribe(),ve={next:qe.next&&$e(qe.next,mt),error:qe.error&&$e(qe.error,mt),complete:qe.complete&&$e(qe.complete,mt)}):ve=qe}this.destination=new Ke(ve)}}function Me(Ge){j.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(Ge):(0,ce.h)(Ge)}function gt(Ge,qe){const{onStoppedNotification:Fe}=j.v;Fe&&te.z.setTimeout(()=>Fe(Ge,qe))}const rt={closed:!0,next:ae,error:function Le(Ge){throw Ge},complete:ae}},727:(vt,Ae,k)=>{k.d(Ae,{Lc:()=>de,w0:()=>ae,Nn:()=>ye});var b=k(576);const j=(0,k(3888).d)(we=>function(X){we(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((pe,tt)=>`${tt+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var ce=k(8737);class ae{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const $e of X)$e.remove(this);else X.remove(this);const{initialTeardown:pe}=this;if((0,b.m)(pe))try{pe()}catch($e){te=$e instanceof j?$e.errors:[$e]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const $e of tt)try{fe($e)}catch(Ke){te=null!=te?te:[],Ke instanceof j?te=[...te,...Ke.errors]:te.push(Ke)}}if(te)throw new j(te)}}add(te){var X;if(te&&te!==this)if(this.closed)fe(te);else{if(te instanceof ae){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(te)}}_hasParent(te){const{_parentage:X}=this;return X===te||Array.isArray(X)&&X.includes(te)}_addParent(te){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(te),X):X?[X,te]:te}_removeParent(te){const{_parentage:X}=this;X===te?this._parentage=null:Array.isArray(X)&&(0,ce.P)(X,te)}remove(te){const{_finalizers:X}=this;X&&(0,ce.P)(X,te),te instanceof ae&&te._removeParent(this)}}ae.EMPTY=(()=>{const we=new ae;return we.closed=!0,we})();const de=ae.EMPTY;function ye(we){return we instanceof ae||we&&"closed"in we&&(0,b.m)(we.remove)&&(0,b.m)(we.add)&&(0,b.m)(we.unsubscribe)}function fe(we){(0,b.m)(we)?we():we.unsubscribe()}},2416:(vt,Ae,k)=>{k.d(Ae,{v:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(vt,Ae,k)=>{k.d(Ae,{z:()=>ae});var b=k(8189),j=k(7669),ce=k(8996);function ae(...de){return function h(){return(0,b.J)(1)}()((0,ce.D)(de,(0,j.yG)(de)))}},515:(vt,Ae,k)=>{k.d(Ae,{E:()=>h});const h=new(k(8306).y)(ae=>ae.complete())},8996:(vt,Ae,k)=>{k.d(Ae,{D:()=>qe});var b=k(8421),h=k(5363),j=k(9468),de=k(8306),fe=k(2202),we=k(576),te=k(9672);function pe(Fe,je){if(!Fe)throw new Error("Iterable cannot be null");return new de.y(ve=>{(0,te.f)(ve,je,()=>{const mt=Fe[Symbol.asyncIterator]();(0,te.f)(ve,je,()=>{mt.next().then(he=>{he.done?ve.complete():ve.next(he.value)})},0,!0)})})}var tt=k(3670),$e=k(8239),Ke=k(1144),et=k(6495),Me=k(2206),Le=k(4532),gt=k(3260);function qe(Fe,je){return je?function Ge(Fe,je){if(null!=Fe){if((0,tt.c)(Fe))return function ce(Fe,je){return(0,b.Xf)(Fe).pipe((0,j.R)(je),(0,h.Q)(je))}(Fe,je);if((0,Ke.z)(Fe))return function ye(Fe,je){return new de.y(ve=>{let mt=0;return je.schedule(function(){mt===Fe.length?ve.complete():(ve.next(Fe[mt++]),ve.closed||this.schedule())})})}(Fe,je);if((0,$e.t)(Fe))return function ae(Fe,je){return(0,b.Xf)(Fe).pipe((0,j.R)(je),(0,h.Q)(je))}(Fe,je);if((0,Me.D)(Fe))return pe(Fe,je);if((0,et.T)(Fe))return function X(Fe,je){return new de.y(ve=>{let mt;return(0,te.f)(ve,je,()=>{mt=Fe[fe.h](),(0,te.f)(ve,je,()=>{let he,Te;try{({value:he,done:Te}=mt.next())}catch(Ie){return void ve.error(Ie)}Te?ve.complete():ve.next(he)},0,!0)}),()=>(0,we.m)(null==mt?void 0:mt.return)&&mt.return()})}(Fe,je);if((0,gt.L)(Fe))return function rt(Fe,je){return pe((0,gt.Q)(Fe),je)}(Fe,je)}throw(0,Le.z)(Fe)}(Fe,je):(0,b.Xf)(Fe)}},8421:(vt,Ae,k)=>{k.d(Ae,{Xf:()=>tt});var b=k(655),h=k(1144),j=k(8239),ce=k(8306),ae=k(3670),de=k(2206),ye=k(4532),fe=k(6495),we=k(3260),te=k(576),X=k(7849),pe=k(8822);function tt(Ge){if(Ge instanceof ce.y)return Ge;if(null!=Ge){if((0,ae.c)(Ge))return function $e(Ge){return new ce.y(qe=>{const Fe=Ge[pe.L]();if((0,te.m)(Fe.subscribe))return Fe.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,h.z)(Ge))return function Ke(Ge){return new ce.y(qe=>{for(let Fe=0;Fe<Ge.length&&!qe.closed;Fe++)qe.next(Ge[Fe]);qe.complete()})}(Ge);if((0,j.t)(Ge))return function et(Ge){return new ce.y(qe=>{Ge.then(Fe=>{qe.closed||(qe.next(Fe),qe.complete())},Fe=>qe.error(Fe)).then(null,X.h)})}(Ge);if((0,de.D)(Ge))return Le(Ge);if((0,fe.T)(Ge))return function Me(Ge){return new ce.y(qe=>{for(const Fe of Ge)if(qe.next(Fe),qe.closed)return;qe.complete()})}(Ge);if((0,we.L)(Ge))return function gt(Ge){return Le((0,we.Q)(Ge))}(Ge)}throw(0,ye.z)(Ge)}function Le(Ge){return new ce.y(qe=>{(function rt(Ge,qe){var Fe,je,ve,mt;return(0,b.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,b.KL)(Ge);!(je=yield Fe.next()).done;)if(qe.next(je.value),qe.closed)return}catch(he){ve={error:he}}finally{try{je&&!je.done&&(mt=Fe.return)&&(yield mt.call(Fe))}finally{if(ve)throw ve.error}}qe.complete()})})(Ge,qe).catch(Fe=>qe.error(Fe))})}},6451:(vt,Ae,k)=>{k.d(Ae,{T:()=>de});var b=k(8189),h=k(8421),j=k(515),ce=k(7669),ae=k(8996);function de(...ye){const fe=(0,ce.yG)(ye),we=(0,ce._6)(ye,1/0),te=ye;return te.length?1===te.length?(0,h.Xf)(te[0]):(0,b.J)(we)((0,ae.D)(te,fe)):j.E}},9646:(vt,Ae,k)=>{k.d(Ae,{of:()=>j});var b=k(7669),h=k(8996);function j(...ce){const ae=(0,b.yG)(ce);return(0,h.D)(ce,ae)}},5403:(vt,Ae,k)=>{k.d(Ae,{x:()=>h});var b=k(2961);function h(ce,ae,de,ye,fe){return new j(ce,ae,de,ye,fe)}class j extends b.Lv{constructor(ae,de,ye,fe,we,te){super(ae),this.onFinalize=we,this.shouldUnsubscribe=te,this._next=de?function(X){try{de(X)}catch(pe){ae.error(pe)}}:super._next,this._error=fe?function(X){try{fe(X)}catch(pe){ae.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(X){ae.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4351:(vt,Ae,k)=>{k.d(Ae,{b:()=>j});var b=k(5577),h=k(576);function j(ce,ae){return(0,h.m)(ae)?(0,b.z)(ce,ae,1):(0,b.z)(ce,1)}},6590:(vt,Ae,k)=>{k.d(Ae,{d:()=>j});var b=k(4482),h=k(5403);function j(ce){return(0,b.e)((ae,de)=>{let ye=!1;ae.subscribe((0,h.x)(de,fe=>{ye=!0,de.next(fe)},()=>{ye||de.next(ce),de.complete()}))})}},9300:(vt,Ae,k)=>{k.d(Ae,{h:()=>j});var b=k(4482),h=k(5403);function j(ce,ae){return(0,b.e)((de,ye)=>{let fe=0;de.subscribe((0,h.x)(ye,we=>ce.call(ae,we,fe++)&&ye.next(we)))})}},590:(vt,Ae,k)=>{k.d(Ae,{P:()=>ye});var b=k(6805),h=k(9300),j=k(5698),ce=k(6590),ae=k(8068),de=k(4671);function ye(fe,we){const te=arguments.length>=2;return X=>X.pipe(fe?(0,h.h)((pe,tt)=>fe(pe,tt,X)):de.y,(0,j.q)(1),te?(0,ce.d)(we):(0,ae.T)(()=>new b.K))}},4004:(vt,Ae,k)=>{k.d(Ae,{U:()=>j});var b=k(4482),h=k(5403);function j(ce,ae){return(0,b.e)((de,ye)=>{let fe=0;de.subscribe((0,h.x)(ye,we=>{ye.next(ce.call(ae,we,fe++))}))})}},8189:(vt,Ae,k)=>{k.d(Ae,{J:()=>j});var b=k(5577),h=k(4671);function j(ce=1/0){return(0,b.z)(h.y,ce)}},5577:(vt,Ae,k)=>{k.d(Ae,{z:()=>fe});var b=k(4004),h=k(8421),j=k(4482),ce=k(9672),ae=k(5403),ye=k(576);function fe(we,te,X=1/0){return(0,ye.m)(te)?fe((pe,tt)=>(0,b.U)(($e,Ke)=>te(pe,$e,tt,Ke))((0,h.Xf)(we(pe,tt))),X):("number"==typeof te&&(X=te),(0,j.e)((pe,tt)=>function de(we,te,X,pe,tt,$e,Ke,et){const Me=[];let Le=0,gt=0,rt=!1;const Ge=()=>{rt&&!Me.length&&!Le&&te.complete()},qe=je=>Le<pe?Fe(je):Me.push(je),Fe=je=>{$e&&te.next(je),Le++;let ve=!1;(0,h.Xf)(X(je,gt++)).subscribe((0,ae.x)(te,mt=>{null==tt||tt(mt),$e?qe(mt):te.next(mt)},()=>{ve=!0},void 0,()=>{if(ve)try{for(Le--;Me.length&&Le<pe;){const mt=Me.shift();Ke?(0,ce.f)(te,Ke,()=>Fe(mt)):Fe(mt)}Ge()}catch(mt){te.error(mt)}}))};return we.subscribe((0,ae.x)(te,qe,()=>{rt=!0,Ge()})),()=>{null==et||et()}}(pe,tt,we,X)))}},5363:(vt,Ae,k)=>{k.d(Ae,{Q:()=>ce});var b=k(9672),h=k(4482),j=k(5403);function ce(ae,de=0){return(0,h.e)((ye,fe)=>{ye.subscribe((0,j.x)(fe,we=>(0,b.f)(fe,ae,()=>fe.next(we),de),()=>(0,b.f)(fe,ae,()=>fe.complete(),de),we=>(0,b.f)(fe,ae,()=>fe.error(we),de)))})}},5026:(vt,Ae,k)=>{k.d(Ae,{R:()=>ce});var b=k(4482),h=k(5403);function j(ae,de,ye,fe,we){return(te,X)=>{let pe=ye,tt=de,$e=0;te.subscribe((0,h.x)(X,Ke=>{const et=$e++;tt=pe?ae(tt,Ke,et):(pe=!0,Ke),fe&&X.next(tt)},we&&(()=>{pe&&X.next(tt),X.complete()})))}}function ce(ae,de){return(0,b.e)(j(ae,de,arguments.length>=2,!0))}},3099:(vt,Ae,k)=>{k.d(Ae,{B:()=>de});var b=k(8996),h=k(5698),j=k(7579),ce=k(2961),ae=k(4482);function de(fe={}){const{connector:we=(()=>new j.x),resetOnError:te=!0,resetOnComplete:X=!0,resetOnRefCountZero:pe=!0}=fe;return tt=>{let $e=null,Ke=null,et=null,Me=0,Le=!1,gt=!1;const rt=()=>{null==Ke||Ke.unsubscribe(),Ke=null},Ge=()=>{rt(),$e=et=null,Le=gt=!1},qe=()=>{const Fe=$e;Ge(),null==Fe||Fe.unsubscribe()};return(0,ae.e)((Fe,je)=>{Me++,!gt&&!Le&&rt();const ve=et=null!=et?et:we();je.add(()=>{Me--,0===Me&&!gt&&!Le&&(Ke=ye(qe,pe))}),ve.subscribe(je),$e||($e=new ce.Hp({next:mt=>ve.next(mt),error:mt=>{gt=!0,rt(),Ke=ye(Ge,te,mt),ve.error(mt)},complete:()=>{Le=!0,rt(),Ke=ye(Ge,X),ve.complete()}}),(0,b.D)(Fe).subscribe($e))})(tt)}}function ye(fe,we,...te){return!0===we?(fe(),null):!1===we?null:we(...te).pipe((0,h.q)(1)).subscribe(()=>fe())}},8675:(vt,Ae,k)=>{k.d(Ae,{O:()=>ce});var b=k(7272),h=k(7669),j=k(4482);function ce(...ae){const de=(0,h.yG)(ae);return(0,j.e)((ye,fe)=>{(de?(0,b.z)(ae,ye,de):(0,b.z)(ae,ye)).subscribe(fe)})}},9468:(vt,Ae,k)=>{k.d(Ae,{R:()=>h});var b=k(4482);function h(j,ce=0){return(0,b.e)((ae,de)=>{de.add(j.schedule(()=>ae.subscribe(de),ce))})}},3900:(vt,Ae,k)=>{k.d(Ae,{w:()=>ce});var b=k(8421),h=k(4482),j=k(5403);function ce(ae,de){return(0,h.e)((ye,fe)=>{let we=null,te=0,X=!1;const pe=()=>X&&!we&&fe.complete();ye.subscribe((0,j.x)(fe,tt=>{null==we||we.unsubscribe();let $e=0;const Ke=te++;(0,b.Xf)(ae(tt,Ke)).subscribe(we=(0,j.x)(fe,et=>fe.next(de?de(tt,et,Ke,$e++):et),()=>{we=null,pe()}))},()=>{X=!0,pe()}))})}},5698:(vt,Ae,k)=>{k.d(Ae,{q:()=>ce});var b=k(515),h=k(4482),j=k(5403);function ce(ae){return ae<=0?()=>b.E:(0,h.e)((de,ye)=>{let fe=0;de.subscribe((0,j.x)(ye,we=>{++fe<=ae&&(ye.next(we),ae<=fe&&ye.complete())}))})}},8505:(vt,Ae,k)=>{k.d(Ae,{b:()=>ae});var b=k(576),h=k(4482),j=k(5403),ce=k(4671);function ae(de,ye,fe){const we=(0,b.m)(de)||ye||fe?{next:de,error:ye,complete:fe}:de;return we?(0,h.e)((te,X)=>{var pe;null===(pe=we.subscribe)||void 0===pe||pe.call(we);let tt=!0;te.subscribe((0,j.x)(X,$e=>{var Ke;null===(Ke=we.next)||void 0===Ke||Ke.call(we,$e),X.next($e)},()=>{var $e;tt=!1,null===($e=we.complete)||void 0===$e||$e.call(we),X.complete()},$e=>{var Ke;tt=!1,null===(Ke=we.error)||void 0===Ke||Ke.call(we,$e),X.error($e)},()=>{var $e,Ke;tt&&(null===($e=we.unsubscribe)||void 0===$e||$e.call(we)),null===(Ke=we.finalize)||void 0===Ke||Ke.call(we)}))}):ce.y}},8068:(vt,Ae,k)=>{k.d(Ae,{T:()=>ce});var b=k(6805),h=k(4482),j=k(5403);function ce(de=ae){return(0,h.e)((ye,fe)=>{let we=!1;ye.subscribe((0,j.x)(fe,te=>{we=!0,fe.next(te)},()=>we?fe.complete():fe.error(de())))})}function ae(){return new b.K}},4408:(vt,Ae,k)=>{k.d(Ae,{o:()=>ae});var b=k(727);class h extends b.w0{constructor(ye,fe){super()}schedule(ye,fe=0){return this}}const j={setInterval(de,ye,...fe){const{delegate:we}=j;return(null==we?void 0:we.setInterval)?we.setInterval(de,ye,...fe):setInterval(de,ye,...fe)},clearInterval(de){const{delegate:ye}=j;return((null==ye?void 0:ye.clearInterval)||clearInterval)(de)},delegate:void 0};var ce=k(8737);class ae extends h{constructor(ye,fe){super(ye,fe),this.scheduler=ye,this.work=fe,this.pending=!1}schedule(ye,fe=0){if(this.closed)return this;this.state=ye;const we=this.id,te=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(te,we,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(te,this.id,fe),this}requestAsyncId(ye,fe,we=0){return j.setInterval(ye.flush.bind(ye,this),we)}recycleAsyncId(ye,fe,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return fe;j.clearInterval(fe)}execute(ye,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(ye,fe);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,fe){let te,we=!1;try{this.work(ye)}catch(X){we=!0,te=X||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:ye,scheduler:fe}=this,{actions:we}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(we,this),null!=ye&&(this.id=this.recycleAsyncId(fe,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Ae,k)=>{k.d(Ae,{v:()=>j});var b=k(6063);class h{constructor(ae,de=h.now){this.schedulerActionCtor=ae,this.now=de}schedule(ae,de=0,ye){return new this.schedulerActionCtor(this,ae).schedule(ye,de)}}h.now=b.l.now;class j extends h{constructor(ae,de=h.now){super(ae,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:de}=this;if(this._active)return void de.push(ae);let ye;this._active=!0;do{if(ye=ae.execute(ae.state,ae.delay))break}while(ae=de.shift());if(this._active=!1,ye){for(;ae=de.shift();)ae.unsubscribe();throw ye}}}},4986:(vt,Ae,k)=>{k.d(Ae,{z:()=>j});var b=k(4408);const j=new(k(7565).v)(b.o)},6063:(vt,Ae,k)=>{k.d(Ae,{l:()=>b});const b={now:()=>(b.delegate||Date).now(),delegate:void 0}},3410:(vt,Ae,k)=>{k.d(Ae,{z:()=>b});const b={setTimeout(h,j,...ce){const{delegate:ae}=b;return(null==ae?void 0:ae.setTimeout)?ae.setTimeout(h,j,...ce):setTimeout(h,j,...ce)},clearTimeout(h){const{delegate:j}=b;return((null==j?void 0:j.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(vt,Ae,k)=>{k.d(Ae,{h:()=>h});const h=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Ae,k)=>{k.d(Ae,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(vt,Ae,k)=>{k.d(Ae,{K:()=>h});const h=(0,k(3888).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(vt,Ae,k)=>{k.d(Ae,{_6:()=>de,jO:()=>ce,yG:()=>ae});var b=k(576);function j(ye){return ye[ye.length-1]}function ce(ye){return(0,b.m)(j(ye))?ye.pop():void 0}function ae(ye){return function h(ye){return ye&&(0,b.m)(ye.schedule)}(j(ye))?ye.pop():void 0}function de(ye,fe){return"number"==typeof j(ye)?ye.pop():fe}},4742:(vt,Ae,k)=>{k.d(Ae,{D:()=>ae});const{isArray:b}=Array,{getPrototypeOf:h,prototype:j,keys:ce}=Object;function ae(ye){if(1===ye.length){const fe=ye[0];if(b(fe))return{args:fe,keys:null};if(function de(ye){return ye&&"object"==typeof ye&&h(ye)===j}(fe)){const we=ce(fe);return{args:we.map(te=>fe[te]),keys:we}}}return{args:ye,keys:null}}},8737:(vt,Ae,k)=>{function b(h,j){if(h){const ce=h.indexOf(j);0<=ce&&h.splice(ce,1)}}k.d(Ae,{P:()=>b})},3888:(vt,Ae,k)=>{function b(h){const ce=h(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}k.d(Ae,{d:()=>b})},1810:(vt,Ae,k)=>{function b(h,j){return h.reduce((ce,ae,de)=>(ce[ae]=j[de],ce),{})}k.d(Ae,{n:()=>b})},2806:(vt,Ae,k)=>{k.d(Ae,{O:()=>ce,x:()=>j});var b=k(2416);let h=null;function j(ae){if(b.v.useDeprecatedSynchronousErrorHandling){const de=!h;if(de&&(h={errorThrown:!1,error:null}),ae(),de){const{errorThrown:ye,error:fe}=h;if(h=null,ye)throw fe}}else ae()}function ce(ae){b.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=ae)}},9672:(vt,Ae,k)=>{function b(h,j,ce,ae=0,de=!1){const ye=j.schedule(function(){ce(),de?h.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(h.add(ye),!de)return ye}k.d(Ae,{f:()=>b})},4671:(vt,Ae,k)=>{function b(h){return h}k.d(Ae,{y:()=>b})},1144:(vt,Ae,k)=>{k.d(Ae,{z:()=>b});const b=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(vt,Ae,k)=>{k.d(Ae,{D:()=>h});var b=k(576);function h(j){return Symbol.asyncIterator&&(0,b.m)(null==j?void 0:j[Symbol.asyncIterator])}},576:(vt,Ae,k)=>{function b(h){return"function"==typeof h}k.d(Ae,{m:()=>b})},3670:(vt,Ae,k)=>{k.d(Ae,{c:()=>j});var b=k(8822),h=k(576);function j(ce){return(0,h.m)(ce[b.L])}},6495:(vt,Ae,k)=>{k.d(Ae,{T:()=>j});var b=k(2202),h=k(576);function j(ce){return(0,h.m)(null==ce?void 0:ce[b.h])}},8239:(vt,Ae,k)=>{k.d(Ae,{t:()=>h});var b=k(576);function h(j){return(0,b.m)(null==j?void 0:j.then)}},3260:(vt,Ae,k)=>{k.d(Ae,{L:()=>ce,Q:()=>j});var b=k(655),h=k(576);function j(ae){return(0,b.FC)(this,arguments,function*(){const ye=ae.getReader();try{for(;;){const{value:fe,done:we}=yield(0,b.qq)(ye.read());if(we)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(fe)}}finally{ye.releaseLock()}})}function ce(ae){return(0,h.m)(null==ae?void 0:ae.getReader)}},4482:(vt,Ae,k)=>{k.d(Ae,{A:()=>h,e:()=>j});var b=k(576);function h(ce){return(0,b.m)(null==ce?void 0:ce.lift)}function j(ce){return ae=>{if(h(ae))return ae.lift(function(de){try{return ce(de,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(vt,Ae,k)=>{k.d(Ae,{Z:()=>ce});var b=k(4004);const{isArray:h}=Array;function ce(ae){return(0,b.U)(de=>function j(ae,de){return h(de)?ae(...de):ae(de)}(ae,de))}},7849:(vt,Ae,k)=>{k.d(Ae,{h:()=>j});var b=k(2416),h=k(3410);function j(ce){h.z.setTimeout(()=>{const{onUnhandledError:ae}=b.v;if(!ae)throw ce;ae(ce)})}},4532:(vt,Ae,k)=>{function b(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ae,{z:()=>b})},655:(vt,Ae,k)=>{function ce(he,Te){var Ie={};for(var xe in he)Object.prototype.hasOwnProperty.call(he,xe)&&Te.indexOf(xe)<0&&(Ie[xe]=he[xe]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(xe=Object.getOwnPropertySymbols(he);Je<xe.length;Je++)Te.indexOf(xe[Je])<0&&Object.prototype.propertyIsEnumerable.call(he,xe[Je])&&(Ie[xe[Je]]=he[xe[Je]])}return Ie}function fe(he,Te,Ie,xe){return new(Ie||(Ie=Promise))(function(Ce,Bt){function Tn(St){try{Ct(xe.next(St))}catch(kn){Bt(kn)}}function Kt(St){try{Ct(xe.throw(St))}catch(kn){Bt(kn)}}function Ct(St){St.done?Ce(St.value):function Je(Ce){return Ce instanceof Ie?Ce:new Ie(function(Bt){Bt(Ce)})}(St.value).then(Tn,Kt)}Ct((xe=xe.apply(he,Te||[])).next())})}function Me(he){return this instanceof Me?(this.v=he,this):new Me(he)}function Le(he,Te,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,xe=Ie.apply(he,Te||[]),Ce=[];return Je={},Bt("next"),Bt("throw"),Bt("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function Bt(xn){xe[xn]&&(Je[xn]=function(kr){return new Promise(function(yn,zt){Ce.push([xn,kr,yn,zt])>1||Tn(xn,kr)})})}function Tn(xn,kr){try{!function Kt(xn){xn.value instanceof Me?Promise.resolve(xn.value.v).then(Ct,St):kn(Ce[0][2],xn)}(xe[xn](kr))}catch(yn){kn(Ce[0][3],yn)}}function Ct(xn){Tn("next",xn)}function St(xn){Tn("throw",xn)}function kn(xn,kr){xn(kr),Ce.shift(),Ce.length&&Tn(Ce[0][0],Ce[0][1])}}function rt(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Te=he[Symbol.asyncIterator];return Te?Te.call(he):(he=function pe(he){var Te="function"==typeof Symbol&&Symbol.iterator,Ie=Te&&he[Te],xe=0;if(Ie)return Ie.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&xe>=he.length&&(he=void 0),{value:he&&he[xe++],done:!he}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),Ie={},xe("next"),xe("throw"),xe("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function xe(Ce){Ie[Ce]=he[Ce]&&function(Bt){return new Promise(function(Tn,Kt){!function Je(Ce,Bt,Tn,Kt){Promise.resolve(Kt).then(function(Ct){Ce({value:Ct,done:Tn})},Bt)}(Tn,Kt,(Bt=he[Ce](Bt)).done,Bt.value)})}}}k.d(Ae,{FC:()=>Le,KL:()=>rt,_T:()=>ce,mG:()=>fe,qq:()=>Me})},9808:(vt,Ae,k)=>{k.d(Ae,{Do:()=>Ge,EM:()=>zo,HT:()=>ae,JF:()=>qn,K0:()=>ye,Mx:()=>Eo,O5:()=>vr,PM:()=>_i,S$:()=>Me,V_:()=>te,Ye:()=>qe,b0:()=>rt,bD:()=>Mr,ez:()=>wu,lw:()=>fe,mr:()=>gt,q:()=>j,sg:()=>cr,w_:()=>de});var b=k(5e3);let h=null;function j(){return h}function ae(O){h||(h=O)}class de{}const ye=new b.OlP("DocumentToken");let fe=(()=>{class O{historyGo(x){throw new Error("Not implemented")}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=b.Yz7({token:O,factory:function(){return function we(){return(0,b.LFG)(X)}()},providedIn:"platform"}),O})();const te=new b.OlP("Location Initialized");let X=(()=>{class O extends fe{constructor(x){super(),this._doc=x,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(x){const $=j().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",x,!1),()=>$.removeEventListener("popstate",x)}onHashChange(x){const $=j().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",x,!1),()=>$.removeEventListener("hashchange",x)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(x){this.location.pathname=x}pushState(x,$,ne){pe()?this._history.pushState(x,$,ne):this.location.hash=ne}replaceState(x,$,ne){pe()?this._history.replaceState(x,$,ne):this.location.hash=ne}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return O.\u0275fac=function(x){return new(x||O)(b.LFG(ye))},O.\u0275prov=b.Yz7({token:O,factory:function(){return function tt(){return new X((0,b.LFG)(ye))}()},providedIn:"platform"}),O})();function pe(){return!!window.history.pushState}function $e(O,U){if(0==O.length)return U;if(0==U.length)return O;let x=0;return O.endsWith("/")&&x++,U.startsWith("/")&&x++,2==x?O+U.substring(1):1==x?O+U:O+"/"+U}function Ke(O){const U=O.match(/#|\?|$/),x=U&&U.index||O.length;return O.slice(0,x-("/"===O[x-1]?1:0))+O.slice(x)}function et(O){return O&&"?"!==O[0]?"?"+O:O}let Me=(()=>{class O{historyGo(x){throw new Error("Not implemented")}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=b.Yz7({token:O,factory:function(){return function Le(O){const U=(0,b.LFG)(ye).location;return new rt((0,b.LFG)(fe),U&&U.origin||"")}()},providedIn:"root"}),O})();const gt=new b.OlP("appBaseHref");let rt=(()=>{class O extends Me{constructor(x,$){if(super(),this._platformLocation=x,this._removeListenerFns=[],null==$&&($=this._platformLocation.getBaseHrefFromDOM()),null==$)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=$}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return $e(this._baseHref,x)}path(x=!1){const $=this._platformLocation.pathname+et(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&x?`${$}${ne}`:$}pushState(x,$,ne,De){const He=this.prepareExternalUrl(ne+et(De));this._platformLocation.pushState(x,$,He)}replaceState(x,$,ne,De){const He=this.prepareExternalUrl(ne+et(De));this._platformLocation.replaceState(x,$,He)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var $,ne;null===(ne=($=this._platformLocation).historyGo)||void 0===ne||ne.call($,x)}}return O.\u0275fac=function(x){return new(x||O)(b.LFG(fe),b.LFG(gt,8))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac}),O})(),Ge=(()=>{class O extends Me{constructor(x,$){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let $=this._platformLocation.hash;return null==$&&($="#"),$.length>0?$.substring(1):$}prepareExternalUrl(x){const $=$e(this._baseHref,x);return $.length>0?"#"+$:$}pushState(x,$,ne,De){let He=this.prepareExternalUrl(ne+et(De));0==He.length&&(He=this._platformLocation.pathname),this._platformLocation.pushState(x,$,He)}replaceState(x,$,ne,De){let He=this.prepareExternalUrl(ne+et(De));0==He.length&&(He=this._platformLocation.pathname),this._platformLocation.replaceState(x,$,He)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var $,ne;null===(ne=($=this._platformLocation).historyGo)||void 0===ne||ne.call($,x)}}return O.\u0275fac=function(x){return new(x||O)(b.LFG(fe),b.LFG(gt,8))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac}),O})(),qe=(()=>{class O{constructor(x,$){this._subject=new b.vpe,this._urlChangeListeners=[],this._platformStrategy=x;const ne=this._platformStrategy.getBaseHref();this._platformLocation=$,this._baseHref=Ke(ve(ne)),this._platformStrategy.onPopState(De=>{this._subject.emit({url:this.path(!0),pop:!0,state:De.state,type:De.type})})}path(x=!1){return this.normalize(this._platformStrategy.path(x))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(x,$=""){return this.path()==this.normalize(x+et($))}normalize(x){return O.stripTrailingSlash(function je(O,U){return O&&U.startsWith(O)?U.substring(O.length):U}(this._baseHref,ve(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._platformStrategy.prepareExternalUrl(x)}go(x,$="",ne=null){this._platformStrategy.pushState(ne,"",x,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+et($)),ne)}replaceState(x,$="",ne=null){this._platformStrategy.replaceState(ne,"",x,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+et($)),ne)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(x=0){var $,ne;null===(ne=($=this._platformStrategy).historyGo)||void 0===ne||ne.call($,x)}onUrlChange(x){this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}))}_notifyUrlChangeListeners(x="",$){this._urlChangeListeners.forEach(ne=>ne(x,$))}subscribe(x,$,ne){return this._subject.subscribe({next:x,error:$,complete:ne})}}return O.normalizeQueryParams=et,O.joinWithSlash=$e,O.stripTrailingSlash=Ke,O.\u0275fac=function(x){return new(x||O)(b.LFG(Me),b.LFG(fe))},O.\u0275prov=b.Yz7({token:O,factory:function(){return function Fe(){return new qe((0,b.LFG)(Me),(0,b.LFG)(fe))}()},providedIn:"root"}),O})();function ve(O){return O.replace(/\/index.html$/,"")}function Eo(O,U){U=encodeURIComponent(U);for(const x of O.split(";")){const $=x.indexOf("="),[ne,De]=-1==$?[x,""]:[x.slice(0,$),x.slice($+1)];if(ne.trim()===U)return decodeURIComponent(De)}return null}class oi{constructor(U,x,$,ne){this.$implicit=U,this.ngForOf=x,this.index=$,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cr=(()=>{class O{constructor(x,$,ne){this._viewContainer=x,this._template=$,this._differs=ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const $=this._viewContainer;x.forEachOperation((ne,De,He)=>{if(null==ne.previousIndex)$.createEmbeddedView(this._template,new oi(ne.item,this._ngForOf,-1,-1),null===He?void 0:He);else if(null==He)$.remove(null===De?void 0:De);else if(null!==De){const at=$.get(De);$.move(at,He),Sr(at,ne)}});for(let ne=0,De=$.length;ne<De;ne++){const at=$.get(ne).context;at.index=ne,at.count=De,at.ngForOf=this._ngForOf}x.forEachIdentityChange(ne=>{Sr($.get(ne.currentIndex),ne)})}static ngTemplateContextGuard(x,$){return!0}}return O.\u0275fac=function(x){return new(x||O)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))},O.\u0275dir=b.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),O})();function Sr(O,U){O.context.$implicit=U.item}let vr=(()=>{class O{constructor(x,$){this._viewContainer=x,this._context=new Vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Bs("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Bs("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,$){return!0}}return O.\u0275fac=function(x){return new(x||O)(b.Y36(b.s_b),b.Y36(b.Rgc))},O.\u0275dir=b.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),O})();class Vn{constructor(){this.$implicit=null,this.ngIf=null}}function Bs(O,U){if(U&&!U.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,b.AaK)(U)}'.`)}let wu=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275mod=b.oAB({type:O}),O.\u0275inj=b.cJS({}),O})();const Mr="browser";function _i(O){return"server"===O}let zo=(()=>{class O{}return O.\u0275prov=(0,b.Yz7)({token:O,providedIn:"root",factory:()=>new Wo((0,b.LFG)(ye),window)}),O})();class Wo{constructor(U,x){this.document=U,this.window=x,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const x=function bs(O,U){const x=O.getElementById(U)||O.getElementsByName(U)[0];if(x)return x;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const $=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let ne=$.currentNode;for(;ne;){const De=ne.shadowRoot;if(De){const He=De.getElementById(U)||De.querySelector(`[name="${U}"]`);if(He)return He}ne=$.nextNode()}}return null}(this.document,U);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(U){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=U)}}scrollToElement(U){const x=U.getBoundingClientRect(),$=x.left+this.window.pageXOffset,ne=x.top+this.window.pageYOffset,De=this.offset();this.window.scrollTo($-De[0],ne-De[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const U=Hi(this.window.history)||Hi(Object.getPrototypeOf(this.window.history));return!(!U||!U.writable&&!U.set)}catch(U){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(U){return!1}}}function Hi(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class qn{}},5e3:(vt,Ae,k)=>{k.d(Ae,{$8M:()=>aa,$Z:()=>Bw,AFp:()=>Nv,AaK:()=>fe,BQk:()=>Jd,CHM:()=>Ka,CRH:()=>fp,CZH:()=>Pv,CqO:()=>Wg,EJc:()=>Fv,EiD:()=>jh,EpF:()=>nt,F4k:()=>Xd,FYo:()=>RE,FiY:()=>Os,G48:()=>zv,GfV:()=>PE,Gpc:()=>X,JOm:()=>Oa,JVY:()=>Uh,L6k:()=>ny,LAX:()=>Xp,LFG:()=>Ot,LSH:()=>ng,Lbi:()=>wb,NdJ:()=>At,O4$:()=>Iu,OlP:()=>Rr,Oqu:()=>Yg,PXZ:()=>HI,Q6J:()=>T_,QGY:()=>ti,Qsj:()=>mI,R0b:()=>Ga,RDi:()=>Hi,Rgc:()=>cp,SBq:()=>ip,Sil:()=>Vv,Suo:()=>ZE,TTD:()=>Do,TgZ:()=>Lc,Tol:()=>eh,Udp:()=>Bc,VLi:()=>UI,X6Q:()=>GI,XFs:()=>Mt,Xpm:()=>rn,Y36:()=>Fc,YKP:()=>jl,YNc:()=>hi,Yjl:()=>Ve,Yz7:()=>yn,ZZ4:()=>Um,_Bn:()=>rv,_UZ:()=>zg,_Vd:()=>rp,_c5:()=>eD,_uU:()=>N_,aQg:()=>Sp,c2e:()=>bb,cJS:()=>Yt,cg1:()=>em,d8E:()=>rh,dDg:()=>ud,deG:()=>vd,dqk:()=>_n,eBb:()=>Jp,eFA:()=>Mb,ekj:()=>M_,g9A:()=>kv,h0i:()=>hu,hGG:()=>t0,hij:()=>ki,iGM:()=>WE,ifc:()=>dt,ip1:()=>vb,kL8:()=>H_,kcU:()=>uc,lG2:()=>Ee,mCW:()=>F,n5z:()=>Zi,oAB:()=>q,oJD:()=>Tl,oxw:()=>Ni,pB0:()=>ry,q3G:()=>di,q4F:()=>NE,qLn:()=>bc,qOj:()=>Hd,qZA:()=>qg,qzn:()=>wl,sBO:()=>qI,sIi:()=>xf,s_b:()=>$l,soG:()=>ad,tBr:()=>la,tb:()=>Eb,tp0:()=>Sa,uIk:()=>Vg,vHH:()=>Ke,vpe:()=>ks,wAp:()=>Wt,xp6:()=>z0,yhl:()=>Qp,ynx:()=>Va,z2F:()=>Cp,z3N:()=>Ma,zSh:()=>Vd,zs3:()=>No});var b=k(7579),h=k(727),j=k(8306),ce=k(6451),ae=k(3099);function de(i){for(let s in i)if(i[s]===de)return s;throw Error("Could not find renamed property on target object.")}function ye(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function fe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(fe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function we(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const te=de({__forward_ref__:de});function X(i){return i.__forward_ref__=X,i.toString=function(){return fe(this())},i}function pe(i){return tt(i)?i():i}function tt(i){return"function"==typeof i&&i.hasOwnProperty(te)&&i.__forward_ref__===X}class Ke extends Error{constructor(s,a){super(function et(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function Me(i){return"string"==typeof i?i:null==i?"":String(i)}function Le(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Me(i)}function qe(i,s){const a=s?` in ${s}`:"";throw new Ke(-201,`No provider for ${Le(i)} found${a}`)}function Ct(i,s){null==i&&function St(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function yn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Yt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Zn(i){return jn(i,si)||jn(i,Ar)}function jn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Wr(i){return i&&(i.hasOwnProperty(Dr)||i.hasOwnProperty(ms))?i[Dr]:null}const si=de({\u0275prov:de}),Dr=de({\u0275inj:de}),Ar=de({ngInjectableDef:de}),ms=de({ngInjectorDef:de});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let Zr;function Dn(i){const s=Zr;return Zr=i,s}function er(i,s,a){const l=Zn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Mt.Optional?null:void 0!==s?s:void qe(fe(i),"Injector")}function lr(i){return{toString:i}.toString()}var tr=(()=>((tr=tr||{})[tr.OnPush=0]="OnPush",tr[tr.Default=1]="Default",tr))(),dt=(()=>{return(i=dt||(dt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",dt;var i})();const xt="undefined"!=typeof globalThis&&globalThis,yt="undefined"!=typeof window&&window,Hr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_n=xt||"undefined"!=typeof global&&global||yt||Hr,hn={},kt=[],rr=de({\u0275cmp:de}),fn=de({\u0275dir:de}),ht=de({\u0275pipe:de}),Pe=de({\u0275mod:de}),ut=de({\u0275fac:de}),Nt=de({__NG_ELEMENT_ID__:de});let on=0;function rn(i){return lr(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===tr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||kt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||dt.Emulated,id:"c",styles:i.styles||kt,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,f=i.features,y=i.pipes;return l.id+=on++,l.inputs=K(i.inputs,a),l.outputs=K(i.outputs),f&&f.forEach(C=>C(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(J):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(oe):null,l})}function J(i){return ot(i)||function Ut(i){return i[fn]||null}(i)}function oe(i){return function lt(i){return i[ht]||null}(i)}const Se={};function q(i){return lr(()=>{const s={type:i.type,bootstrap:i.bootstrap||kt,declarations:i.declarations||kt,imports:i.imports||kt,exports:i.exports||kt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Se[i.id]=i.type),s})}function K(i,s){if(null==i)return hn;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),a[c]=l,s&&(s[c]=f)}return a}const Ee=rn;function Ve(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function ot(i){return i[rr]||null}function Gt(i,s){const a=i[Pe]||null;if(!a&&!0===s)throw new Error(`Type ${fe(i)} does not have '\u0275mod' property.`);return a}function $r(i){return Array.isArray(i)&&"object"==typeof i[1]}function Ui(i){return Array.isArray(i)&&!0===i[1]}function _s(i){return 0!=(8&i.flags)}function vs(i){return 2==(2&i.flags)}function Bi(i){return 1==(1&i.flags)}function ui(i){return null!==i.template}function js(i){return 0!=(512&i[2])}function yi(i,s){return i.hasOwnProperty(ut)?i[ut]:null}class sl{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Do(){return va}function va(i){return i.type.prototype.ngOnChanges&&(i.setInput=li),wa}function wa(){const i=Mr(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===hn)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function li(i,s,a,l){const c=Mr(i)||function os(i,s){return i[wu]=s}(i,{previous:hn,current:null}),f=c.current||(c.current={}),y=c.previous,C=this.declaredInputs[a],D=y[C];f[C]=new sl(D&&D.currentValue,s,y===hn),i[l]=s}Do.ngInherit=!0;const wu="__ngSimpleChanges__";function Mr(i){return i[wu]||null}let Wo;function Hi(i){Wo=i}function bs(){return void 0!==Wo?Wo:"undefined"!=typeof document?document:void 0}function qn(i){return!!i.listen}const O={createRenderer:(i,s)=>bs()};function x(i){for(;Array.isArray(i);)i=i[0];return i}function De(i,s){return x(s[i])}function He(i,s){return x(s[i.index])}function Rn(i,s){return i.data[s]}function en(i,s){const a=s[i];return $r(a)?a:a[0]}function tn(i){return 4==(4&i[2])}function Qn(i){return 128==(128&i[2])}function Pn(i,s){return null==s?null:i[s]}function Yr(i){i[18]=0}function xr(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const Lt={lFrame:bu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Cs(){return Lt.bindingsEnabled}function ze(){return Lt.lFrame.lView}function pn(){return Lt.lFrame.tView}function Ka(i){return Lt.lFrame.contextLView=i,i[8]}function zn(){let i=Ya();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ya(){return Lt.lFrame.currentTNode}function Ts(i,s){const a=Lt.lFrame;a.currentTNode=i,a.isParent=s}function So(){return Lt.lFrame.isParent}function us(){Lt.lFrame.isParent=!1}function ba(){return Lt.isInCheckNoChangesMode}function Ca(i){Lt.isInCheckNoChangesMode=i}function Yo(){return Lt.lFrame.bindingIndex++}function vi(i){const s=Lt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function ol(i,s){const a=Lt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Eu(s)}function Eu(i){Lt.lFrame.currentDirectiveIndex=i}function ea(i){const s=Lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Qa(){return Lt.lFrame.currentQueryIndex}function al(i){Lt.lFrame.currentQueryIndex=i}function ta(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function na(i,s,a){if(a&Mt.SkipSelf){let c=s,f=i;for(;!(c=c.parent,null!==c||a&Mt.Host||(c=ta(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,i=f}const l=Lt.lFrame=Gs();return l.currentTNode=s,l.lView=i,!0}function xo(i){const s=Gs(),a=i[1];Lt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Gs(){const i=Lt.lFrame,s=null===i?null:i.child;return null===s?bu(i):s}function bu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Cu(){const i=Lt.lFrame;return Lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Tu=Cu;function io(){const i=Cu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Jr(){return Lt.lFrame.selectedIndex}function so(i){Lt.lFrame.selectedIndex=i}function dr(){const i=Lt.lFrame;return Rn(i.tView,i.selectedIndex)}function Iu(){Lt.lFrame.currentNamespace="svg"}function uc(){!function Ja(){Lt.lFrame.currentNamespace=null}()}function ra(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:N,ngOnDestroy:L}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),C&&((i.contentHooks||(i.contentHooks=[])).push(a,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,C)),D&&(i.viewHooks||(i.viewHooks=[])).push(-a,D),N&&((i.viewHooks||(i.viewHooks=[])).push(a,N),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,N)),null!=L&&(i.destroyHooks||(i.destroyHooks=[])).push(a,L)}}function Ia(i,s,a){ci(i,s,3,a)}function ia(i,s,a,l){(3&i[2])===a&&ci(i,s,a,l)}function Or(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function ci(i,s,a,l){const f=null!=l?l:-1,y=s.length-1;let C=0;for(let D=void 0!==l?65535&i[18]:0;D<y;D++)if("number"==typeof s[D+1]){if(C=s[D],null!=l&&C>=l)break}else s[D]<0&&(i[18]+=65536),(C<f||-1==f)&&(Da(i,a,s,D),i[18]=(4294901760&i[18])+D+2),D++}function Da(i,s,a,l){const c=a[l]<0,f=a[l+1],C=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class oo{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function uo(i,s,a){const l=qn(i);let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const y=a[c++],C=a[c++],D=a[c++];l?i.setAttribute(s,C,D,y):s.setAttributeNS(y,C,D)}else{const y=f,C=a[++c];Ds(y)?l&&i.setProperty(s,y,C):l?i.setAttribute(s,y,C):s.setAttribute(y,C),c++}}return c}function xu(i){return 3===i||4===i||6===i}function Ds(i){return 64===i.charCodeAt(0)}function As(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||Ou(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function Ou(i,s,a,l,c){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const C=i[f++];if("number"==typeof C){if(C===s){y=-1;break}if(C>s){y=f-1;break}}}for(;f<i.length;){const C=i[f];if("number"==typeof C)break;if(C===a){if(null===l)return void(null!==c&&(i[f+1]=c));if(l===i[f+1])return void(i[f+2]=c)}f++,null!==l&&f++,null!==c&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==c&&i.splice(f++,0,c)}function Er(i){return-1!==i}function Ws(i){return 32767&i}function Zs(i,s){let a=function Ru(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let sa=!0;function lo(i){const s=sa;return sa=i,s}let oa=0;function co(i,s){const a=dl(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,ho(l.data,i),ho(s,null),ho(l.blueprint,null));const c=Wi(i,s),f=i.injectorIndex;if(Er(c)){const y=Ws(c),C=Zs(c,s),D=C[1].data;for(let N=0;N<8;N++)s[f+N]=C[y+N]|D[y+N]}return s[f+8]=c,f}function ho(i,s){i.push(0,0,0,0,0,0,0,0,s)}function dl(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Wi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const f=c[1],y=f.type;if(l=2===y?f.declTNode:1===y?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function T(i,s,a){!function Xa(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Nt)&&(l=a[Nt]),null==l&&(l=a[Nt]=oa++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function _(i,s,a){if(a&Mt.Optional)return i;qe(s,"NodeInjector")}function M(i,s,a,l){if(a&Mt.Optional&&void 0===l&&(l=null),0==(a&(Mt.Self|Mt.Host))){const c=i[9],f=Dn(void 0);try{return c?c.get(s,l,a&Mt.Optional):er(s,l,a&Mt.Optional)}finally{Dn(f)}}return _(l,s,a)}function P(i,s,a,l=Mt.Default,c){if(null!==i){const f=function cn(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Nt)?i[Nt]:void 0;return"number"==typeof s?s>=0?255&s:Y:s}(a);if("function"==typeof f){if(!na(s,i,l))return l&Mt.Host?_(c,a,l):M(s,a,l,c);try{const y=f(l);if(null!=y||l&Mt.Optional)return y;qe(a)}finally{Tu()}}else if("number"==typeof f){let y=null,C=dl(i,s),D=-1,N=l&Mt.Host?s[16][6]:null;for((-1===C||l&Mt.SkipSelf)&&(D=-1===C?Wi(i,s):s[C+8],-1!==D&&gn(l,!1)?(y=s[1],C=Ws(D),s=Zs(D,s)):C=-1);-1!==C;){const L=s[1];if(Tt(f,C,L.data)){const W=ie(C,s,a,y,l,N);if(W!==B)return W}D=s[C+8],-1!==D&&gn(l,s[1].data[C+8]===N)&&Tt(f,C,s)?(y=L,C=Ws(D),s=Zs(D,s)):C=-1}}}return M(s,a,l,c)}const B={};function Y(){return new Cn(zn(),ze())}function ie(i,s,a,l,c,f){const y=s[1],C=y.data[i+8],L=Oe(C,y,a,null==l?vs(C)&&sa:l!=y&&0!=(3&C.type),c&Mt.Host&&f===C);return null!==L?_t(s,y,L,C):B}function Oe(i,s,a,l,c){const f=i.providerIndexes,y=s.data,C=1048575&f,D=i.directiveStart,L=f>>20,re=c?C+L:i.directiveEnd;for(let me=l?C:C+L;me<re;me++){const Be=y[me];if(me<D&&a===Be||me>=D&&Be.type===a)return me}if(c){const me=y[D];if(me&&ui(me)&&me.type===a)return D}return null}function _t(i,s,a,l){let c=i[a];const f=s.data;if(function zs(i){return i instanceof oo}(c)){const y=c;y.resolving&&function gt(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${i}${a}`)}(Le(f[a]));const C=lo(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?Dn(y.injectImpl):null;na(i,l,Mt.Default);try{c=i[a]=y.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function qs(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(l){const y=va(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==D&&Dn(D),lo(C),y.resolving=!1,Tu()}}return c}function Tt(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function gn(i,s){return!(i&Mt.Self||i&Mt.Host&&s)}class Cn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return P(this._tNode,this._lView,s,l,a)}}function Zi(i){return lr(()=>{const s=i.prototype.constructor,a=s[ut]||Ki(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const f=c[ut]||Ki(c);if(f&&f!==a)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Ki(i){return tt(i)?()=>{const s=Ki(pe(i));return s&&s()}:yi(i)}function aa(i){return function w(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const f=a[c];if(xu(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(f===s)return a[c+1];c+=2}}}return null}(zn(),i)}const wi="__parameters__";function po(i,s,a){return lr(()=>{const l=function br(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...f){if(this instanceof c)return l.apply(this,f),this;const y=new c(...f);return C.annotation=y,C;function C(D,N,L){const W=D.hasOwnProperty(wi)?D[wi]:Object.defineProperty(D,wi,{value:[]})[wi];for(;W.length<=L;)W.push(null);return(W[L]=W[L]||[]).push(y),D}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Rr{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=yn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const vd=new Rr("AnalyzeForEntryComponents");function Ri(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Ri(l,s)):s!==i&&s.push(l)}return s}function Ks(i,s){i.forEach(a=>Array.isArray(a)?Ks(a,s):s(a))}function eu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function ua(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ms(i,s,a){let l=Aa(i,s);return l>=0?i[1|l]=a:(l=~l,function hc(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function xh(i,s){const a=Aa(i,s);if(a>=0)return i[1|a]}function Aa(i,s){return function Oo(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const f=l+(c-l>>1),y=i[f<<a];if(s===y)return f<<a;y>s?c=f:l=f+1}return~(c<<a)}(i,s,1)}const ru={},Cd="__NG_DI_FLAG__",gc="ngTempTokenPath",R=/\n/gm,Q="__source",ge=de({provide:String,useValue:de});let be;function Ye(i){const s=be;return be=i,s}function It(i,s=Mt.Default){if(void 0===be)throw new Ke(203,"");return null===be?er(i,void 0,s):be.get(i,s&Mt.Optional?null:void 0,s)}function Ot(i,s=Mt.Default){return(function ur(){return Zr}()||It)(pe(i),s)}const Un=Ot;function nn(i){const s=[];for(let a=0;a<i.length;a++){const l=pe(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Ke(900,"");let c,f=Mt.Default;for(let y=0;y<l.length;y++){const C=l[y],D=Gr(C);"number"==typeof D?-1===D?c=C.token:f|=D:c=C}s.push(Ot(c,f))}else s.push(Ot(l))}return s}function ei(i,s){return i[Cd]=s,i.prototype[Cd]=s,i}function Gr(i){return i[Cd]}const la=ei(po("Inject",i=>({token:i})),-1),Os=ei(po("Optional"),8),Sa=ei(po("SkipSelf"),4);let Ph,Uu;function wc(i){var s;return(null===(s=function Nh(){if(void 0===Ph&&(Ph=null,_n.trustedTypes))try{Ph=_n.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Ph}())||void 0===s?void 0:s.createHTML(i))||i}function Kp(i){var s;return(null===(s=function Dd(){if(void 0===Uu&&(Uu=null,_n.trustedTypes))try{Uu=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Uu}())||void 0===s?void 0:s.createHTML(i))||i}class Bu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Xm extends Bu{getTypeName(){return"HTML"}}class ey extends Bu{getTypeName(){return"Style"}}class Lh extends Bu{getTypeName(){return"Script"}}class ty extends Bu{getTypeName(){return"URL"}}class Vh extends Bu{getTypeName(){return"ResourceURL"}}function Ma(i){return i instanceof Bu?i.changingThisBreaksApplicationSecurity:i}function wl(i,s){const a=Qp(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function Qp(i){return i instanceof Bu&&i.getTypeName()||null}function Uh(i){return new Xm(i)}function ny(i){return new ey(i)}function Jp(i){return new Lh(i)}function Xp(i){return new ty(i)}function ry(i){return new Vh(i)}class iy{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(wc(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class sy{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=wc(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=wc(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const y=a.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const p=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,I=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function F(i){return(i=String(i)).match(p)||i.match(I)?i:"unsafe:"+i}function _e(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Ze(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const Rt=_e("area,br,col,hr,img,wbr"),qt=_e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),En=_e("rp,rt"),bl=Ze(Rt,Ze(qt,_e("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ze(En,_e("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ze(En,qt)),Ad=_e("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ju=_e("srcset"),Cl=Ze(Ad,ju,_e("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_e("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sd=_e("script,style,template");class Md{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!bl.hasOwnProperty(a))return this.sanitizedSomething=!0,!Sd.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let c=0;c<l.length;c++){const f=l.item(c),y=f.name,C=y.toLowerCase();if(!Cl.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=f.value;Ad[C]&&(D=F(D)),ju[C]&&(i=D,D=(i=String(i)).split(",").map(s=>F(s.trim())).join(", ")),this.buf.push(" ",y,'="',xd(D),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();bl.hasOwnProperty(a)&&!Rt.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(xd(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const cs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bh=/([^\#-~ |!])/g;function xd(i){return i.replace(/&/g,"&amp;").replace(cs,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Bh,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hu;function jh(i,s){let a=null;try{Hu=Hu||function eg(i){const s=new sy(i);return function E(){try{return!!(new window.DOMParser).parseFromString(wc(""),"text/html")}catch(i){return!1}}()?new iy(s):s}(i);let l=s?String(s):"";a=Hu.getInertBodyElement(l);let c=5,f=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=f,f=a.innerHTML,a=Hu.getInertBodyElement(l)}while(l!==f);return wc((new Md).sanitizeChildren(Hh(a)||a))}finally{if(a){const l=Hh(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Hh(i){return"content"in i&&function iA(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var di=(()=>((di=di||{})[di.NONE=0]="NONE",di[di.HTML=1]="HTML",di[di.STYLE=2]="STYLE",di[di.SCRIPT=3]="SCRIPT",di[di.URL=4]="URL",di[di.RESOURCE_URL=5]="RESOURCE_URL",di))();function Tl(i){const s=$h();return s?Kp(s.sanitize(di.HTML,i)||""):wl(i,"HTML")?Kp(Ma(i)):jh(bs(),Me(i))}function ng(i){const s=$h();return s?s.sanitize(di.URL,i)||"":wl(i,"URL")?Ma(i):F(Me(i))}function $h(){const i=ze();return i&&i[12]}const qh="__ngContext__";function hs(i,s){i[qh]=s}function $u(i){const s=function Ec(i){return i[qh]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Wh(i){return i.ngOriginalError}function ig(i,...s){i.error(...s)}class bc{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function M0(i){return i&&i.ngErrorLogger||ig}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Wh(s);for(;a&&Wh(a);)a=Wh(a);return a||null}}const PC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_n))();function ou(i){return i instanceof Function?i():i}var Oa=(()=>((Oa=Oa||{})[Oa.Important=1]="Important",Oa[Oa.DashCase=2]="DashCase",Oa))();function hy(i,s){return undefined(i,s)}function Kh(i){const s=i[3];return Ui(s)?s[3]:s}function gy(i){return Yh(i[13])}function my(i){return Yh(i[4])}function Yh(i){for(;null!==i&&!Ui(i);)i=i[4];return i}function da(i,s,a,l,c){if(null!=l){let f,y=!1;Ui(l)?f=l:$r(l)&&(y=!0,l=l[0]);const C=x(l);0===i&&null!==a?null==c?N0(s,a,C):Pd(s,a,C,c||null,!0):1===i&&null!==a?Pd(s,a,C,c||null,!0):2===i?function Ty(i,s,a){const l=tf(i,s);l&&function HC(i,s,a,l){qn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,C,y):3===i&&s.destroyNode(C),null!=f&&function GC(i,s,a,l,c){const f=a[7];f!==x(a)&&da(s,i,l,f,c);for(let C=10;C<a.length;C++){const D=a[C];Cc(D[1],D,i,s,l,f)}}(s,i,f,a,c)}}function yy(i,s,a){if(qn(i))return i.createElement(s,a);{const l=null!==a?function zo(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function Jh(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,xr(c,-1)),a.splice(l,1)}function Xh(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&Jh(c,l),s>0&&(i[a-1][4]=l[4]);const f=ua(i,10+s);!function kC(i,s){Cc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function ef(i,s){if(!(256&s[2])){const a=s[11];qn(a)&&a.destroyNode&&Cc(i,s,a,3,null,null),function VC(i){let s=i[13];if(!s)return vy(i[1],i);for(;s;){let a=null;if($r(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)$r(s)&&vy(s[1],s),s=s[3];null===s&&(s=i),$r(s)&&vy(s[1],s),a=s&&s[4]}s=a}}(s)}}function vy(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function BC(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof oo)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const C=c[f[y]],D=f[y+1];try{D.call(C)}finally{}}else try{f.call(c)}finally{}}}}(i,s),function P0(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],C="function"==typeof y?y(s):x(s[y]),D=l[c=a[f+2]],N=a[f+3];"boolean"==typeof N?C.removeEventListener(a[f],D,N):N>=0?l[c=N]():l[c=-N].unsubscribe(),f+=2}else{const y=l[c=a[f+1]];a[f].call(y)}if(null!==l){for(let f=c+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&qn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Ui(s[3])){a!==s[3]&&Jh(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function jC(i,s,a){return function cg(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===dt.None||c===dt.Emulated)return null}return He(l,a)}(i,s.parent,a)}function Pd(i,s,a,l,c){qn(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function N0(i,s,a){qn(i)?i.appendChild(s,a):s.appendChild(a)}function k0(i,s,a,l,c){null!==l?Pd(i,s,a,l,c):N0(i,s,a)}function tf(i,s){return qn(i)?i.parentNode(s):s.parentNode}let L0=function F0(i,s,a){return 40&i.type?He(i,a):null};function dg(i,s,a,l){const c=jC(i,l,s),f=s[11],C=function Ey(i,s,a){return L0(i,s,a)}(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let D=0;D<a.length;D++)k0(f,c,a[D],C,!1);else k0(f,c,a,C,!1)}function nf(i,s){if(null!==s){const a=s.type;if(3&a)return He(s,i);if(4&a)return Cy(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return nf(i,l);{const c=i[s.index];return Ui(c)?Cy(-1,c):x(c)}}if(32&a)return hy(s,i)()||x(i[s.index]);{const l=U0(i,s);return null!==l?Array.isArray(l)?l[0]:nf(Kh(i[16]),l):nf(i,s.next)}}return null}function U0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Cy(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return nf(l,c)}return s[7]}function Iy(i,s,a,l,c,f,y){for(;null!=a;){const C=l[a.index],D=a.type;if(y&&0===s&&(C&&hs(x(C),l),a.flags|=4),64!=(64&a.flags))if(8&D)Iy(i,s,a.child,l,c,f,!1),da(s,i,c,C,f);else if(32&D){const N=hy(a,l);let L;for(;L=N();)da(s,i,c,L,f);da(s,i,c,C,f)}else 16&D?B0(i,s,l,a,c,f):da(s,i,c,C,f);a=y?a.projectionNext:a.next}}function Cc(i,s,a,l,c,f){Iy(a,l,i.firstChild,s,c,f,!1)}function B0(i,s,a,l,c,f){const y=a[16],D=y[6].projection[l.projection];if(Array.isArray(D))for(let N=0;N<D.length;N++)da(s,i,c,D[N],f);else Iy(i,s,D,y[3],c,f,!0)}function Dy(i,s,a){qn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Ay(i,s,a){qn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Ro(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const f=s.length;if(c+f===l||i.charCodeAt(c+f)<=32)return c}a=c+1}}const Nd="ng-template";function Sy(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==Ro(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function H0(i){return 4===i.type&&i.value!==Nd}function zC(i,s,a){return s===(4!==i.type||a?i.value:Nd)}function My(i,s,a){let l=4;const c=i.attrs||[],f=function $0(i){for(let s=0;s<i.length;s++)if(xu(i[s]))return s;return i.length}(c);let y=!1;for(let C=0;C<s.length;C++){const D=s[C];if("number"!=typeof D){if(!y)if(4&l){if(l=2|1&l,""!==D&&!zC(i,D,a)||""===D&&1===s.length){if(Ra(l))return!1;y=!0}}else{const N=8&l?D:s[++C];if(8&l&&null!==i.attrs){if(!Sy(i.attrs,N,a)){if(Ra(l))return!1;y=!0}continue}const W=WC(8&l?"class":D,c,H0(i),a);if(-1===W){if(Ra(l))return!1;y=!0;continue}if(""!==N){let re;re=W>f?"":c[W+1].toLowerCase();const me=8&l?re:null;if(me&&-1!==Ro(me,N,0)||2&l&&N!==re){if(Ra(l))return!1;y=!0}}}}else{if(!y&&!Ra(l)&&!Ra(D))return!1;if(y&&Ra(D))continue;y=!1,l=D|1&l}}return Ra(l)||y}function Ra(i){return 0==(1&i)}function WC(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let f=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)f=!0;else{if(1===y||2===y){let C=s[++c];for(;"string"==typeof C;)C=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=f?1:2}return-1}return function G0(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function rf(i,s,a=!1){for(let l=0;l<s.length;l++)if(My(i,s[l],a))return!0;return!1}function Po(i,s){return i?":not("+s.trim()+")":s}function kd(i){let s=i[0],a=1,l=2,c="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const C=i[++a];c+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!Ra(y)&&(s+=Po(f,c),c=""),l=y,f=f||!Ra(l);a++}return""!==c&&(s+=Po(f,c)),s}const mn={};function z0(i){xy(pn(),ze(),Jr()+i,ba())}function xy(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Ia(s,f,a)}else{const f=i.preOrderHooks;null!==f&&ia(s,f,0,a)}so(a)}function hg(i,s){return i<<17|s<<2}function Pa(i){return i>>17&32767}function pg(i){return 2|i}function zu(i){return(131068&i)>>2}function Oy(i,s){return-131069&i|s<<2}function Ry(i){return 1|i}function Hy(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],f=a[l+1];if(-1!==f){const y=i.data[f];al(c),y.contentQueries(2,s[f],f)}}}function Ic(i,s,a,l,c,f,y,C,D,N){const L=s.blueprint.slice();return L[0]=c,L[2]=140|l,Yr(L),L[3]=L[15]=i,L[8]=a,L[10]=y||i&&i[10],L[11]=C||i&&i[11],L[12]=D||i&&i[12]||null,L[9]=N||i&&i[9]||null,L[6]=f,L[16]=2==s.type?i[16]:L,L}function Zu(i,s,a,l,c){let f=i.data[s];if(null===f)f=function yg(i,s,a,l,c){const f=Ya(),y=So(),D=i.data[s]=function sw(i,s,a,l,c,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=D),null!==f&&(y?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D)),D}(i,s,a,l,c),function Qo(){return Lt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=c;const y=function qi(){const i=Lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return Ts(f,!0),f}function Ei(i,s,a,l){if(0===a)return-1;const c=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function Dc(i,s,a){xo(s);try{const l=i.viewQuery;null!==l&&gf(1,l,a);const c=i.template;null!==c&&$y(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Hy(i,s),i.staticViewQueries&&gf(2,i.viewQuery,a);const f=i.components;null!==f&&function nw(i,s){for(let a=0;a<s.length;a++)Jy(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,io()}}function bi(i,s,a,l){const c=s[2];if(256==(256&c))return;xo(s);const f=ba();try{Yr(s),function Mo(i){return Lt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&$y(i,s,a,2,l);const y=3==(3&c);if(!f)if(y){const N=i.preOrderCheckHooks;null!==N&&Ia(s,N,null)}else{const N=i.preOrderHooks;null!==N&&ia(s,N,0,null),Or(s,0)}if(function hT(i){for(let s=gy(i);null!==s;s=my(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],f=c[3];0==(1024&c[2])&&xr(f,1),c[2]|=1024}}}(s),function cw(i){for(let s=gy(i);null!==s;s=my(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];Qn(l)&&bi(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&Hy(i,s),!f)if(y){const N=i.contentCheckHooks;null!==N&&Ia(s,N)}else{const N=i.contentHooks;null!==N&&ia(s,N,1),Or(s,1)}!function tw(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)so(~c);else{const f=c,y=a[++l],C=a[++l];ol(y,f),C(2,s[f])}}}finally{so(-1)}}(i,s);const C=i.components;null!==C&&function iT(i,s){for(let a=0;a<s.length;a++)Qy(i,s[a])}(s,C);const D=i.viewQuery;if(null!==D&&gf(2,D,l),!f)if(y){const N=i.viewCheckHooks;null!==N&&Ia(s,N)}else{const N=i.viewHooks;null!==N&&ia(s,N,2),Or(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,xr(s[3],-1))}finally{io()}}function rw(i,s,a,l){const c=s[10],f=!ba(),y=tn(s);try{f&&!y&&c.begin&&c.begin(),y&&Dc(i,s,l),bi(i,s,a,l)}finally{f&&!y&&c.end&&c.end()}}function $y(i,s,a,l,c){const f=Jr(),y=2&l;try{so(-1),y&&s.length>20&&xy(i,s,20,ba()),a(l,c)}finally{so(f)}}function _g(i,s,a){if(_s(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}function vg(i,s,a){!Cs()||(function uT(i,s,a,l){const c=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||co(a,s),hs(l,s);const y=a.initialInputs;for(let C=c;C<f;C++){const D=i.data[C],N=ui(D);N&&Yy(s,a,D);const L=_t(s,i,C,a);hs(L,s),null!==y&&cT(0,C-c,L,D,0,y),N&&(en(a.index,s)[8]=L)}}(i,s,a,He(a,s)),128==(128&a.flags)&&function hf(i,s,a){const l=a.directiveStart,c=a.directiveEnd,y=a.index,C=function Xo(){return Lt.lFrame.currentDirectiveIndex}();try{so(y);for(let D=l;D<c;D++){const N=i.data[D],L=s[D];Eu(D),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&uw(N,L)}}finally{so(-1),Eu(C)}}(i,s,a))}function wg(i,s,a=He){const l=s.localNames;if(null!==l){let c=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],C=-1===y?a(s,i):i[y];i[c++]=C}}}function Gy(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Fd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Fd(i,s,a,l,c,f,y,C,D,N){const L=20+l,W=L+c,re=function sT(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:mn);return a}(L,W),me="function"==typeof N?N():N;return re[1]={type:i,blueprint:re,template:a,queries:null,viewQuery:C,declTNode:s,data:re.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:me,incompleteFirstPass:!1}}function Eg(i,s,a,l){const c=Mg(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&r_(i).push(l,c.length-1))}function ow(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function Qs(i,s,a,l,c,f,y,C){const D=He(s,a);let L,N=s.inputs;!C&&null!=N&&(L=N[l])?(xg(i,a,L,l,c),vs(s)&&function zy(i,s){const a=en(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function bg(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=y?y(c,s.value||"",l):c,qn(f)?f.setProperty(D,l,c):Ds(l)||(D.setProperty?D.setProperty(l,c):D[l]=c))}function Zy(i,s,a,l){let c=!1;if(Cs()){const f=function lT(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];rf(a,y.selectors,!1)&&(c||(c=[]),T(co(a,s),i,y.type),ui(y)?(ff(i,a),c.unshift(y)):c.push(y))}return c}(i,s,a),y=null===l?null:{"":-1};if(null!==f){c=!0,Ig(a,i.data.length,f.length);for(let L=0;L<f.length;L++){const W=f[L];W.providersResolver&&W.providersResolver(W)}let C=!1,D=!1,N=Ei(i,s,f.length,null);for(let L=0;L<f.length;L++){const W=f[L];a.mergedAttrs=As(a.mergedAttrs,W.hostAttrs),Dg(i,a,s,N,W),Ky(N,W,y),null!==W.contentQueries&&(a.flags|=8),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(a.flags|=128);const re=W.type.prototype;!C&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),C=!0),!D&&(re.ngOnChanges||re.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),D=!0),N++}!function aw(i,s){const l=s.directiveEnd,c=i.data,f=s.attrs,y=[];let C=null,D=null;for(let N=s.directiveStart;N<l;N++){const L=c[N],W=L.inputs,re=null===f||H0(s)?null:lw(W,f);y.push(re),C=ow(W,N,C),D=ow(L.outputs,N,D)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=C,s.outputs=D}(i,a)}y&&function Tg(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const f=a[s[c+1]];if(null==f)throw new Ke(-301,!1);l.push(s[c],f)}}}(a,l,y)}return a.mergedAttrs=As(a.mergedAttrs,a.attrs),c}function fs(i,s,a,l,c,f){const y=f.hostBindings;if(y){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const D=~s.index;(function df(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=D&&C.push(D),C.push(l,c,y)}}function uw(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function ff(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Ky(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;ui(s)&&(a[""]=i)}}function Ig(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Dg(i,s,a,l,c){i.data[l]=c;const f=c.factory||(c.factory=yi(c.type)),y=new oo(f,ui(c),null);i.blueprint[l]=y,a[l]=y,fs(i,s,0,l,Ei(i,a,c.hostVars,mn),c)}function Yy(i,s,a){const l=He(s,i),c=Gy(a),f=i[10],y=Ci(i,Ic(i,c,null,a.onPush?64:16,l,s,f,f.createRenderer(l,a),null,null));i[s.index]=y}function ka(i,s,a,l,c,f){const y=He(i,s);!function Ag(i,s,a,l,c,f,y){if(null==f)qn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const C=null==y?Me(f):y(f,l||"",c);qn(i)?i.setAttribute(s,c,C,a):a?s.setAttributeNS(a,c,C):s.setAttribute(c,C)}}(s[11],y,f,i.value,a,l,c)}function cT(i,s,a,l,c,f){const y=f[s];if(null!==y){const C=l.setInput;for(let D=0;D<y.length;){const N=y[D++],L=y[D++],W=y[D++];null!==C?l.setInput(a,W,N,L):a[L]=W}}}function lw(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Sg(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function Qy(i,s){const a=en(s,i);if(Qn(a)){const l=a[1];80&a[2]?bi(l,a,l.template,a[8]):a[5]>0&&pf(a)}}function pf(i){for(let l=gy(i);null!==l;l=my(l))for(let c=10;c<l.length;c++){const f=l[c];if(1024&f[2]){const y=f[1];bi(y,f,y.template,f[8])}else f[5]>0&&pf(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=en(a[l],i);Qn(c)&&c[5]>0&&pf(c)}}function Jy(i,s){const a=en(s,i),l=a[1];(function Qi(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Dc(l,a,a[8])}function Ci(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Ld(i){for(;i;){i[2]|=64;const s=Kh(i);if(js(i)&&!s)return i;i=s}return null}function t_(i,s,a){const l=s[10];l.begin&&l.begin();try{bi(i,s,i.template,a)}catch(c){throw mf(s,c),c}finally{l.end&&l.end()}}function n_(i){!function e_(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=$u(a),c=l[1];rw(c,l,c.template,a)}}(i[8])}function gf(i,s,a){al(0),s(i,a)}const gT=(()=>Promise.resolve(null))();function Mg(i){return i[7]||(i[7]=[])}function r_(i){return i.cleanup||(i.cleanup=[])}function mf(i,s){const a=i[9],l=a?a.get(bc,null):null;l&&l.handleError(s)}function xg(i,s,a,l,c){for(let f=0;f<a.length;){const y=a[f++],C=a[f++],D=s[y],N=i.data[y];null!==N.setInput?N.setInput(D,c,l,C):D[C]=c}}function Fa(i,s,a){const l=De(s,i);!function ug(i,s,a){qn(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function yf(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const C=s[y];"number"==typeof C?f=C:1==f?c=we(c,C):2==f&&(l=we(l,C+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}const Og=new Rr("INJECTOR",-1);class i_{get(s,a=ru){if(a===ru){const l=new Error(`NullInjectorError: No provider for ${fe(s)}!`);throw l.name="NullInjectorError",l}return a}}const Vd=new Rr("Set Injector scope."),vf={},_T={};let Al;function fw(){return void 0===Al&&(Al=new i_),Al}function pw(i,s=null,a=null,l){const c=Sl(i,s,a,l);return c._resolveInjectorDefTypes(),c}function Sl(i,s=null,a=null,l){return new gw(i,a,s||fw(),l)}class gw{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Ks(a,C=>this.processProvider(C,s,a)),Ks([s],C=>this.processInjectorType(C,[],f)),this.records.set(Og,Ti(void 0,this));const y=this.records.get(Vd);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:fe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ru,l=Mt.Default){this.assertNotDestroyed();const c=Ye(this),f=Dn(void 0);try{if(!(l&Mt.SkipSelf)){let C=this.records.get(s);if(void 0===C){const D=function bf(i){return"function"==typeof i||"object"==typeof i&&i instanceof Rr}(s)&&Zn(s);C=D&&this.injectableDefInScope(D)?Ti(Ud(s),vf):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(l&Mt.Self?fw():this.parent).get(s,a=l&Mt.Optional&&a===ru?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[gc]=y[gc]||[]).unshift(fe(s)),c)throw y;return function Lu(i,s,a,l){const c=i[gc];throw s[Q]&&c.unshift(s[Q]),i.message=function Vu(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=fe(s);if(Array.isArray(s))c=s.map(fe).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let C=s[y];f.push(y+":"+("string"==typeof C?JSON.stringify(C):fe(C)))}c=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(R,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[gc]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Dn(f),Ye(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(fe(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processInjectorType(s,a,l){if(!(s=pe(s)))return!1;let c=Wr(s);const f=null==c&&s.ngModule||void 0,y=void 0===f?s:f,C=-1!==l.indexOf(y);if(void 0!==f&&(c=Wr(f)),null==c)return!1;if(null!=c.imports&&!C){let L;l.push(y);try{Ks(c.imports,W=>{this.processInjectorType(W,a,l)&&(void 0===L&&(L=[]),L.push(W))})}finally{}if(void 0!==L)for(let W=0;W<L.length;W++){const{ngModule:re,providers:me}=L[W];Ks(me,Be=>this.processProvider(Be,re,me||kt))}}this.injectorDefTypes.add(y);const D=yi(y)||(()=>new y);this.records.set(y,Ti(D,vf));const N=c.providers;if(null!=N&&!C){const L=s;Ks(N,W=>this.processProvider(W,L,N))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,l){let c=Ac(s=pe(s))?s:pe(s&&s.provide);const f=function wf(i,s,a){return o_(i)?Ti(void 0,i.useValue):Ti(s_(i),vf)}(s);if(Ac(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=Ti(void 0,vf,!0),y.factory=()=>nn(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,f)}hydrate(s,a){return a.value===vf&&(a.value=_T,a.value=a.factory()),"object"==typeof a.value&&a.value&&function _w(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=pe(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Ud(i){const s=Zn(i),a=null!==s?s.factory:yi(i);if(null!==a)return a;if(i instanceof Rr)throw new Ke(204,!1);if(i instanceof Function)return function mw(i){const s=i.length;if(s>0)throw function Yi(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new Ke(204,!1);const a=function Yn(i){const s=i&&(i[si]||i[Ar]);if(s){const a=function _r(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ke(204,!1)}function s_(i,s,a){let l;if(Ac(i)){const c=pe(i);return yi(c)||Ud(c)}if(o_(i))l=()=>pe(i.useValue);else if(function Rg(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...nn(i.deps||[]));else if(function Ef(i){return!(!i||!i.useExisting)}(i))l=()=>Ot(pe(i.useExisting));else{const c=pe(i&&(i.useClass||i.provide));if(!function yw(i){return!!i.deps}(i))return yi(c)||Ud(c);l=()=>new c(...nn(i.deps))}return l}function Ti(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function o_(i){return null!==i&&"object"==typeof i&&ge in i}function Ac(i){return"function"==typeof i}let No=(()=>{class i{static create(a,l){var c;if(Array.isArray(a))return pw({name:""},l,a,"");{const f=null!==(c=a.name)&&void 0!==c?c:"";return pw({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=ru,i.NULL=new i_,i.\u0275prov=yn({token:i,providedIn:"any",factory:()=>Ot(Og)}),i.__NG_ELEMENT_ID__=-1,i})();function Ku(i,s){ra($u(i)[1],zn())}function Hd(i){let s=function Df(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(ui(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ke(903,"");c=s.\u0275dir}if(c){if(a){l.push(c);const y=i;y.inputs=Cr(i.inputs),y.declaredInputs=Cr(i.declaredInputs),y.outputs=Cr(i.outputs);const C=c.hostBindings;C&&TT(i,C);const D=c.viewQuery,N=c.contentQueries;if(D&&Fg(i,D),N&&CT(i,N),ye(i.inputs,c.inputs),ye(i.declaredInputs,c.declaredInputs),ye(i.outputs,c.outputs),ui(c)&&c.data.animation){const L=i.data;L.animation=(L.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let y=0;y<f.length;y++){const C=f[y];C&&C.ngInherit&&C(i),C===Hd&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Cw(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=As(c.hostAttrs,a=As(a,c.hostAttrs))}}(l)}function Cr(i){return i===hn?{}:i===kt?[]:i}function Fg(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function CT(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,f)=>{s(l,c,f),a(l,c,f)}:s}function TT(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let Mf=null;function $d(){if(!Mf){const i=_n.Symbol;if(i&&i.iterator)Mf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Mf=l)}}}return Mf}function xf(i){return!!au(i)&&(Array.isArray(i)||!(i instanceof Map)&&$d()in i)}function au(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ps(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Vg(i,s,a,l){const c=ze();return ps(c,Yo(),s)&&(pn(),ka(dr(),c,i,s,a,l)),Vg}function hi(i,s,a,l,c,f,y,C){const D=ze(),N=pn(),L=i+20,W=N.firstCreatePass?function ST(i,s,a,l,c,f,y,C,D){const N=s.consts,L=Zu(s,i,4,y||null,Pn(N,C));Zy(s,a,L,Pn(N,D)),ra(s,L);const W=L.tViews=Fd(2,L,l,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,N);return null!==s.queries&&(s.queries.template(s,L),W.queries=s.queries.embeddedTView(L)),L}(L,N,D,s,a,l,c,f,y):N.data[L];Ts(W,!1);const re=D[11].createComment("");dg(N,D,re,W),hs(re,D),Ci(D,D[L]=Sg(re,D,re,W)),Bi(W)&&vg(N,D,W),null!=y&&wg(D,W,C)}function Fc(i,s=Mt.Default){const a=ze();return null===a?Ot(i,s):P(zn(),a,pe(i),s)}function Bw(){throw new Error("invalid")}function T_(i,s,a){const l=ze();return ps(l,Yo(),s)&&Qs(pn(),dr(),l,i,s,l[11],a,!1),T_}function Gg(i,s,a,l,c){const y=c?"class":"style";xg(i,a,s.inputs[y],y,l)}function Lc(i,s,a,l){const c=ze(),f=pn(),y=20+i,C=c[11],D=c[y]=yy(C,s,function Du(){return Lt.lFrame.currentNamespace}()),N=f.firstCreatePass?function FT(i,s,a,l,c,f,y){const C=s.consts,N=Zu(s,i,2,c,Pn(C,f));return Zy(s,a,N,Pn(C,y)),null!==N.attrs&&yf(N,N.attrs,!1),null!==N.mergedAttrs&&yf(N,N.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,N),N}(y,f,c,0,s,a,l):f.data[y];Ts(N,!0);const L=N.mergedAttrs;null!==L&&uo(C,D,L);const W=N.classes;null!==W&&Ay(C,D,W);const re=N.styles;return null!==re&&Dy(C,D,re),64!=(64&N.flags)&&dg(f,c,D,N),0===function Ea(){return Lt.lFrame.elementDepthCount}()&&hs(D,c),function Gi(){Lt.lFrame.elementDepthCount++}(),Bi(N)&&(vg(f,c,N),_g(f,N,c)),null!==l&&wg(c,N),Lc}function qg(){let i=zn();So()?us():(i=i.parent,Ts(i,!1));const s=i;!function Ko(){Lt.lFrame.elementDepthCount--}();const a=pn();return a.firstCreatePass&&(ra(a,i),_s(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Su(i){return 0!=(16&i.flags)}(s)&&Gg(a,s,ze(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function _d(i){return 0!=(32&i.flags)}(s)&&Gg(a,s,ze(),s.stylesWithoutHost,!1),qg}function zg(i,s,a,l){return Lc(i,s,a,l),qg(),zg}function Va(i,s,a){const l=ze(),c=pn(),f=i+20,y=c.firstCreatePass?function Qd(i,s,a,l,c){const f=s.consts,y=Pn(f,l),C=Zu(s,i,8,"ng-container",y);return null!==y&&yf(C,y,!0),Zy(s,a,C,Pn(f,c)),null!==s.queries&&s.queries.elementStart(s,C),C}(f,c,l,s,a):c.data[f];Ts(y,!0);const C=l[f]=l[11].createComment("");return dg(c,l,C,y),hs(C,l),Bi(y)&&(vg(c,l,y),_g(c,y,l)),null!=a&&wg(l,y),Va}function Jd(){let i=zn();const s=pn();return So()?us():(i=i.parent,Ts(i,!1)),s.firstCreatePass&&(ra(s,i),_s(i)&&s.queries.elementEnd(i)),Jd}function nt(){return ze()}function ti(i){return!!i&&"function"==typeof i.then}function Xd(i){return!!i&&"function"==typeof i.subscribe}const Wg=Xd;function At(i,s,a,l){const c=ze(),f=pn(),y=zn();return function wt(i,s,a,l,c,f,y,C){const D=Bi(l),L=i.firstCreatePass&&r_(i),W=s[8],re=Mg(s);let me=!0;if(3&l.type||C){const ft=He(l,s),Dt=C?C(ft):ft,We=re.length,jt=C?Sn=>C(x(Sn[l.index])):l.index;if(qn(a)){let Sn=null;if(!C&&D&&(Sn=function LT(i,s,a,l){const c=i.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const y=c[f];if(y===a&&c[f+1]===l){const C=s[7],D=c[f+2];return C.length>D?C[D]:null}"string"==typeof y&&(f+=2)}return null}(i,s,c,l.index)),null!==Sn)(Sn.__ngLastListenerFn__||Sn).__ngNextListenerFn__=f,Sn.__ngLastListenerFn__=f,me=!1;else{f=Qe(l,s,W,f,!1);const Kn=a.listen(Dt,c,f);re.push(f,Kn),L&&L.push(c,jt,We,We+1)}}else f=Qe(l,s,W,f,!0),Dt.addEventListener(c,f,y),re.push(f),L&&L.push(c,jt,We,y)}else f=Qe(l,s,W,f,!1);const Be=l.outputs;let st;if(me&&null!==Be&&(st=Be[c])){const ft=st.length;if(ft)for(let Dt=0;Dt<ft;Dt+=2){const Xs=s[st[Dt]][st[Dt+1]].subscribe(f),gu=re.length;re.push(f,Xs),L&&L.push(c,l.index,gu,-(gu+1))}}}(f,c,c[11],y,i,s,!!a,l),At}function Re(i,s,a,l){try{return!1!==a(l)}catch(c){return mf(i,c),!1}}function Qe(i,s,a,l,c){return function f(y){if(y===Function)return l;const C=2&i.flags?en(i.index,s):s;0==(32&s[2])&&Ld(C);let D=Re(s,0,l,y),N=f.__ngNextListenerFn__;for(;N;)D=Re(s,0,N,y)&&D,N=N.__ngNextListenerFn__;return c&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Ni(i=1){return function ul(i){return(Lt.lFrame.contextLView=function Ta(i,s){for(;i>0;)s=s[15],i--;return s}(i,Lt.lFrame.contextLView))[8]}(i)}function Jt(i,s,a,l,c){const f=i[a+1],y=null===s;let C=l?Pa(f):zu(f),D=!1;for(;0!==C&&(!1===D||y);){const L=i[C+1];Zw(i[C],s)&&(D=!0,i[C+1]=l?Ry(L):pg(L)),C=l?Pa(L):zu(L)}D&&(i[a+1]=l?pg(f):Ry(f))}function Zw(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Aa(i,s)>=0}const Nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S_(i){return i.substring(Nr.key,Nr.keyEnd)}function Kw(i,s){const a=Nr.textEnd;return a===s?-1:(s=Nr.keyEnd=function jT(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Nr.key=s,a),Vr(i,s,a))}function Vr(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function Bc(i,s,a){return it(i,s,a,!1),Bc}function M_(i,s){return it(i,s,null,!0),M_}function eh(i){!function ga(i,s,a,l){const c=pn(),f=vi(2);c.firstUpdatePass&&Fl(c,null,f,l);const y=ze();if(a!==mn&&ps(y,f,a)){const C=c.data[Jr()];if(P_(C,l)&&!x_(c,f)){let D=l?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(a=we(D,a||"")),Gg(c,C,y,a,l)}else!function Hf(i,s,a,l,c,f,y,C){c===mn&&(c=kt);let D=0,N=0,L=0<c.length?c[0]:null,W=0<f.length?f[0]:null;for(;null!==L||null!==W;){const re=D<c.length?c[D+1]:void 0,me=N<f.length?f[N+1]:void 0;let st,Be=null;L===W?(D+=2,N+=2,re!==me&&(Be=W,st=me)):null===W||null!==L&&L<W?(D+=2,Be=L):(N+=2,Be=W,st=me),null!==Be&&O_(i,s,a,l,Be,st,y,C),L=D<c.length?c[D]:null,W=N<f.length?f[N]:null}}(c,C,y,y[11],y[f+1],y[f+1]=function th(i,s,a){if(null==a||""===a)return kt;const l=[],c=Ma(a);if(Array.isArray(c))for(let f=0;f<c.length;f++)i(l,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&i(l,f,c[f]);else"string"==typeof c&&s(l,c);return l}(i,s,a),l,f)}}(Ms,Ua,i,!0)}function Ua(i,s){for(let a=function Hn(i){return function Yw(i){Nr.key=0,Nr.keyEnd=0,Nr.value=0,Nr.valueEnd=0,Nr.textEnd=i.length}(i),Kw(i,Vr(i,0,Nr.textEnd))}(s);a>=0;a=Kw(s,a))Ms(i,S_(s),!0)}function it(i,s,a,l){const c=ze(),f=pn(),y=vi(2);f.firstUpdatePass&&Fl(f,i,y,l),s!==mn&&ps(c,y,s)&&O_(f,f.data[Jr()],c,c[11],i,c[y+1]=function $f(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=fe(Ma(i)))),i}(s,a),l,y)}function x_(i,s){return s>=i.expandoStartIndex}function Fl(i,s,a,l){const c=i.data;if(null===c[a+1]){const f=c[Jr()],y=x_(i,a);P_(f,l)&&null===s&&!y&&(s=!1),s=function uu(i,s,a,l){const c=ea(i);let f=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=Hc(a=Vl(null,i,s,a,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=Vl(c,i,s,a,l),null===f){let D=function jf(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==zu(l))return i[Pa(l)]}(i,s,l);void 0!==D&&Array.isArray(D)&&(D=Vl(null,i,s,D[1],l),D=Hc(D,s.attrs,l),function Ll(i,s,a,l){i[Pa(a?s.classBindings:s.styleBindings)]=l}(i,s,l,D))}else f=function Qw(i,s,a){let l;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)l=Hc(l,i[f].hostAttrs,a);return Hc(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(c,f,s,l),function Ww(i,s,a,l,c,f){let y=f?s.classBindings:s.styleBindings,C=Pa(y),D=zu(y);i[l]=a;let L,N=!1;if(Array.isArray(a)){const W=a;L=W[1],(null===L||Aa(W,L)>0)&&(N=!0)}else L=a;if(c)if(0!==D){const re=Pa(i[C+1]);i[l+1]=hg(re,C),0!==re&&(i[re+1]=Oy(i[re+1],l)),i[C+1]=function QC(i,s){return 131071&i|s<<17}(i[C+1],l)}else i[l+1]=hg(C,0),0!==C&&(i[C+1]=Oy(i[C+1],l)),C=l;else i[l+1]=hg(D,0),0===C?C=l:i[D+1]=Oy(i[D+1],l),D=l;N&&(i[l+1]=pg(i[l+1])),Jt(i,L,l,!0),Jt(i,L,l,!1),function fi(i,s,a,l,c){const f=c?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Aa(f,s)>=0&&(a[l+1]=Ry(a[l+1]))}(s,L,i,l,f),y=hg(C,D),f?s.classBindings=y:s.styleBindings=y}(c,f,s,a,y,l)}}function Vl(i,s,a,l,c){let f=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(f=s[C],l=Hc(l,f.hostAttrs,c),f!==i);)C++;return null!==i&&(a.directiveStylingLast=C),l}function Hc(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?c=y:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ms(i,y,!!a||s[++f]))}return void 0===i?null:i}function O_(i,s,a,l,c,f,y,C){if(!(3&s.type))return;const D=i.data,N=D[C+1];$c(function W0(i){return 1==(1&i)}(N)?R_(D,s,a,c,zu(N),y):void 0)||($c(f)||function fg(i){return 2==(2&i)}(N)&&(f=R_(D,null,a,c,C,y)),function qC(i,s,a,l,c){const f=qn(i);if(s)c?f?i.addClass(a,l):a.classList.add(l):f?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Oa.DashCase;if(null==c)f?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const C="string"==typeof c&&c.endsWith("!important");C&&(c=c.slice(0,-10),y|=Oa.Important),f?i.setStyle(a,l,c,y):a.style.setProperty(l,c,C?"important":"")}}}(l,y,De(Jr(),a),c,f))}function R_(i,s,a,l,c,f){const y=null===s;let C;for(;c>0;){const D=i[c],N=Array.isArray(D),L=N?D[1]:D,W=null===L;let re=a[c+1];re===mn&&(re=W?kt:void 0);let me=W?xh(re,l):L===l?re:void 0;if(N&&!$c(me)&&(me=xh(D,l)),$c(me)&&(C=me,y))return C;const Be=i[c+1];c=y?Pa(Be):zu(Be)}if(null!==s){let D=f?s.residualClasses:s.residualStyles;null!=D&&(C=xh(D,l))}return C}function $c(i){return void 0!==i}function P_(i,s){return 0!=(i.flags&(s?16:32))}function N_(i,s=""){const a=ze(),l=pn(),c=i+20,f=l.firstCreatePass?Zu(l,c,1,s,null):l.data[c],y=a[c]=function Qh(i,s){return qn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);dg(l,a,y,f),Ts(f,!1)}function Yg(i){return ki("",i,""),Yg}function ki(i,s,a){const l=ze(),c=function xc(i,s,a,l){return ps(i,Yo(),a)?s+Me(a)+l:mn}(l,i,s,a);return c!==mn&&Fa(l,Jr(),c),ki}function rh(i,s,a){const l=ze();if(ps(l,Yo(),s)){const f=pn(),y=dr();Qs(f,y,l,i,s,function hw(i,s,a){return(null===i||ui(i))&&(a=function $(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}(ea(f.data),y,l),a,!0)}return rh}const Ju=void 0;var j_=["en",[["a","p"],["AM","PM"],Ju],[["AM","PM"],Ju,Ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ju,"{1} 'at' {0}",Ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function B_(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ba={};function em(i){const s=function rE(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=nm(s);if(a)return a;const l=s.split("-")[0];if(a=nm(l),a)return a;if("en"===l)return j_;throw new Error(`Missing locale data for the locale "${i}".`)}function H_(i){return em(i)[Wt.PluralCase]}function nm(i){return i in Ba||(Ba[i]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[i]),Ba[i]}var Wt=(()=>((Wt=Wt||{})[Wt.LocaleId=0]="LocaleId",Wt[Wt.DayPeriodsFormat=1]="DayPeriodsFormat",Wt[Wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Wt[Wt.DaysFormat=3]="DaysFormat",Wt[Wt.DaysStandalone=4]="DaysStandalone",Wt[Wt.MonthsFormat=5]="MonthsFormat",Wt[Wt.MonthsStandalone=6]="MonthsStandalone",Wt[Wt.Eras=7]="Eras",Wt[Wt.FirstDayOfWeek=8]="FirstDayOfWeek",Wt[Wt.WeekendRange=9]="WeekendRange",Wt[Wt.DateFormat=10]="DateFormat",Wt[Wt.TimeFormat=11]="TimeFormat",Wt[Wt.DateTimeFormat=12]="DateTimeFormat",Wt[Wt.NumberSymbols=13]="NumberSymbols",Wt[Wt.NumberFormats=14]="NumberFormats",Wt[Wt.CurrencyCode=15]="CurrencyCode",Wt[Wt.CurrencySymbol=16]="CurrencySymbol",Wt[Wt.CurrencyName=17]="CurrencyName",Wt[Wt.Currencies=18]="Currencies",Wt[Wt.Directionality=19]="Directionality",Wt[Wt.PluralCase=20]="PluralCase",Wt[Wt.ExtraData=21]="ExtraData",Wt))();const Zf="en-US";let Kc=Zf;function dm(i,s,a,l,c){if(i=pe(i),Array.isArray(i))for(let f=0;f<i.length;f++)dm(i[f],s,a,l,c);else{const f=pn(),y=ze();let C=Ac(i)?i:pe(i.provide),D=s_(i);const N=zn(),L=1048575&N.providerIndexes,W=N.directiveStart,re=N.providerIndexes>>20;if(Ac(i)||!i.multi){const me=new oo(D,c,Fc),Be=Bl(C,s,c?L:L+re,W);-1===Be?(T(co(N,y),f,C),tv(f,i,s.length),s.push(C),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),a.push(me),y.push(me)):(a[Be]=me,y[Be]=me)}else{const me=Bl(C,s,L+re,W),Be=Bl(C,s,L,L+re),st=me>=0&&a[me],ft=Be>=0&&a[Be];if(c&&!ft||!c&&!st){T(co(N,y),f,C);const Dt=function hI(i,s,a,l,c){const f=new oo(i,a,Fc);return f.multi=[],f.index=s,f.componentProviders=0,ME(f,c,l&&!a),f}(c?dI:lh,a.length,c,l,D);!c&&ft&&(a[Be].providerFactory=Dt),tv(f,i,s.length,0),s.push(C),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),a.push(Dt),y.push(Dt)}else tv(f,i,me>-1?me:Be,ME(a[c?Be:me],D,!c&&l));!c&&l&&ft&&a[Be].componentProviders++}}}function tv(i,s,a,l){const c=Ac(s),f=function a_(i){return!!i.useClass}(s);if(c||f){const D=(f?pe(s.useClass):s).prototype.ngOnDestroy;if(D){const N=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const L=N.indexOf(a);-1===L?N.push(a,[l,D]):N[L+1].push(l,D)}else N.push(a,D)}}}function ME(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Bl(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function lh(i,s,a,l){return nv(this.multi,[])}function dI(i,s,a,l){const c=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=_t(a,a[1],this.providerFactory.index,l);f=C.slice(0,y),nv(c,f);for(let D=y;D<C.length;D++)f.push(C[D])}else f=[],nv(c,f);return f}function nv(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function rv(i,s=[]){return a=>{a.providersResolver=(l,c)=>function cI(i,s,a){const l=pn();if(l.firstCreatePass){const c=ui(i);dm(a,l.data,l.blueprint,c,!0),dm(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class xE{}class hm{resolveComponentFactory(s){throw function OE(i){const s=Error(`No component factory found for ${fe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let rp=(()=>{class i{}return i.NULL=new hm,i})();function pI(){return ch(zn(),ze())}function ch(i,s){return new ip(He(i,s))}let ip=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=pI,i})();function gI(i){return i instanceof ip?i.nativeElement:i}class RE{}let mI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function _I(){const i=ze(),a=en(zn().index,i);return function yI(i){return i[11]}($r(a)?a:i)}(),i})(),vI=(()=>{class i{}return i.\u0275prov=yn({token:i,providedIn:"root",factory:()=>null}),i})();class PE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const NE=new PE("13.3.1"),iv={};function fm(i,s,a,l,c=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(x(f)),Ui(f))for(let C=10;C<f.length;C++){const D=f[C],N=D[1].firstChild;null!==N&&fm(D[1],D,N,l)}const y=a.type;if(8&y)fm(i,s,a.child,l);else if(32&y){const C=hy(a,s);let D;for(;D=C();)l.push(D)}else if(16&y){const C=U0(s,a);if(Array.isArray(C))l.push(...C);else{const D=Kh(s[16]);fm(D[1],D,C,l,!0)}}a=c?a.projectionNext:a.next}return l}class sp{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return fm(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Ui(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Xh(s,l),ua(a,l))}this._attachedToViewContainer=!1}ef(this._lView[1],this._lView)}onDestroy(s){Eg(this._lView[1],this._lView,null,s)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){t_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function fT(i,s,a){Ca(!0);try{t_(i,s,a)}finally{Ca(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function LC(i,s){Cc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ke(902,"");this._appRef=s}}class kE extends sp{constructor(s){super(s),this._view=s}detectChanges(){n_(this._view)}checkNoChanges(){!function pT(i){Ca(!0);try{n_(i)}finally{Ca(!1)}}(this._view)}get context(){return null}}class FE extends rp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=ot(s);return new pm(a,this.ngModule)}}function sv(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class pm extends xE{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function KC(i){return i.map(kd).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return sv(this.componentDef.inputs)}get outputs(){return sv(this.componentDef.outputs)}create(s,a,l,c){const f=(c=c||this.ngModule)?function LE(i,s){return{get:(a,l,c)=>{const f=i.get(a,iv,c);return f!==iv||l===iv?f:s.get(a,l,c)}}}(s,c.injector):s,y=f.get(RE,O),C=f.get(vI,null),D=y.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",L=l?function qy(i,s,a){if(qn(i))return i.selectRootElement(s,a===dt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(D,l,this.componentDef.encapsulation):yy(y.createRenderer(null,this.componentDef),N,function wI(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(N)),W=this.componentDef.onPush?576:528,re=function Ml(i,s){return{components:[],scheduler:i||PC,clean:gT,playerHandler:s||null,flags:0}}(),me=Fd(0,null,null,1,0,null,null,null,null,null),Be=Ic(null,me,re,W,null,null,y,D,C,f);let st,ft;xo(Be);try{const Dt=function p_(i,s,a,l,c,f){const y=a[1];a[20]=i;const D=Zu(y,20,2,"#host",null),N=D.mergedAttrs=s.hostAttrs;null!==N&&(yf(D,N,!0),null!==i&&(uo(c,i,N),null!==D.classes&&Ay(c,i,D.classes),null!==D.styles&&Dy(c,i,D.styles)));const L=l.createRenderer(i,s),W=Ic(a,Gy(s),null,s.onPush?64:16,a[20],D,l,L,f||null,null);return y.firstCreatePass&&(T(co(D,a),y,s.type),ff(y,D),Ig(D,a.length,1)),Ci(a,W),a[20]=W}(L,this.componentDef,Be,y,D);if(L)if(l)uo(D,L,["ng-version",NE.full]);else{const{attrs:We,classes:jt}=function YC(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===c?""!==f&&s.push(f,i[++l]):8===c&&a.push(f);else{if(!Ra(c))break;c=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);We&&uo(D,L,We),jt&&jt.length>0&&Ay(D,L,jt.join(" "))}if(ft=Rn(me,20),void 0!==a){const We=ft.projection=[];for(let jt=0;jt<this.ngContentSelectors.length;jt++){const Sn=a[jt];We.push(null!=Sn?Array.from(Sn):null)}}st=function bw(i,s,a,l,c){const f=a[1],y=function aT(i,s,a){const l=zn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Dg(i,l,s,Ei(i,s,1,null),a));const c=_t(s,i,l.directiveStart,l);hs(c,s);const f=He(l,s);return f&&hs(f,s),c}(f,a,s);if(l.components.push(y),i[8]=y,c&&c.forEach(D=>D(y,s)),s.contentQueries){const D=zn();s.contentQueries(1,y,D.directiveStart)}const C=zn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(so(C.index),fs(a[1],C,0,C.directiveStart,C.directiveEnd,s),uw(s,y)),y}(Dt,this.componentDef,Be,re,[Ku]),Dc(me,Be,null)}finally{io()}return new $a(this.componentType,st,ch(ft,Be),Be,ft)}}class $a extends class ts{}{constructor(s,a,l,c,f){super(),this.location=l,this._rootLView=c,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new kE(c),this.componentType=s}get injector(){return new Cn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class hu{}class jl{}const dh=new Map;class gm extends hu{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new FE(this);const l=Gt(s);this._bootstrapComponents=ou(l.bootstrap),this._r3Injector=Sl(s,a,[{provide:hu,useValue:this},{provide:rp,useValue:this.componentFactoryResolver}],fe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=No.THROW_IF_NOT_FOUND,l=Mt.Default){return s===No||s===hu||s===Og?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class op extends jl{constructor(s){super(),this.moduleType=s,null!==Gt(s)&&function uv(i){const s=new Set;!function a(l){const c=Gt(l,!0),f=c.id;null!==f&&(function av(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${fe(s)} vs ${fe(s.name)}`)}(f,dh.get(f),l),dh.set(f,l));const y=ou(c.imports);for(const C of y)s.has(C)||(s.add(C),a(C))}(i)}(s)}create(s){return new gm(this.moduleType,s)}}function fu(i){return s=>{setTimeout(i,void 0,s)}}const ks=class _m extends b.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,f,y;let C=s,D=a||(()=>null),N=l;if(s&&"object"==typeof s){const W=s;C=null===(c=W.next)||void 0===c?void 0:c.bind(W),D=null===(f=W.error)||void 0===f?void 0:f.bind(W),N=null===(y=W.complete)||void 0===y?void 0:y.bind(W)}this.__isAsync&&(D=fu(D),C&&(C=fu(C)),N&&(N=fu(N)));const L=super.subscribe({next:C,error:D,complete:N});return s instanceof h.w0&&s.add(L),L}};function GE(){return this._results[$d()]()}class fv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=$d(),l=fv.prototype;l[a]||(l[a]=GE)}get changes(){return this._changes||(this._changes=new ks)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=Ri(s);(this._changesDetected=!function gl(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],f=s[l];if(a&&(c=a(c),f=a(f)),f!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let cp=(()=>{class i{}return i.__NG_ELEMENT_ID__=AI,i})();const pv=cp,vm=class extends pv{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=Ic(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(a)),Dc(a,l,s),new sp(l)}};function AI(){return dp(zn(),ze())}function dp(i,s){return 4&i.type?new vm(s,i,ch(i,s)):null}let $l=(()=>{class i{}return i.__NG_ELEMENT_ID__=wm,i})();function wm(){return hp(zn(),ze())}const Em=$l,gv=class extends Em{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new Cn(this._hostTNode,this._hostLView)}get parentInjector(){const s=Wi(this._hostTNode,this._hostLView);if(Er(s)){const a=Zs(s,this._hostLView),l=Ws(s);return new Cn(a[1].data[l+8],a)}return new Cn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Js(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,f){const y=s&&!function dc(i){return"function"==typeof i}(s);let C;if(y)C=a;else{const W=a||{};C=W.index,l=W.injector,c=W.projectableNodes,f=W.ngModuleRef}const D=y?s:new pm(ot(s)),N=l||this.parentInjector;if(!f&&null==D.ngModule){const re=(y?N:this.parentInjector).get(hu,null);re&&(f=re)}const L=D.create(N,c,void 0,f);return this.insert(L.hostView,C),L}insert(s,a){const l=s._lView,c=l[1];if(function wn(i){return Ui(i[3])}(l)){const L=this.indexOf(s);if(-1!==L)this.detach(L);else{const W=l[3],re=new gv(W,W[6],W[3]);re.detach(re.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function _y(i,s,a,l){const c=10+l,f=a.length;l>0&&(a[c-1][4]=s),l<f-10?(s[4]=a[c],eu(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function UC(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=128}(c,l,y,f);const C=Cy(f,y),D=l[11],N=tf(D,y[7]);return null!==N&&function FC(i,s,a,l,c,f){l[0]=c,l[6]=s,Cc(i,l,a,1,c,f)}(c,y[6],D,l,N,C),s.attachToViewContainerRef(),eu(bm(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Js(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Xh(this._lContainer,a);l&&(ua(bm(this._lContainer),a),ef(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Xh(this._lContainer,a);return l&&null!=ua(bm(this._lContainer),a)?new sp(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Js(i){return i[8]}function bm(i){return i[8]||(i[8]=[])}function hp(i,s){let a;const l=s[i.index];if(Ui(l))a=l;else{let c;if(8&i.type)c=x(l);else{const f=s[11];c=f.createComment("");const y=He(i,s);Pd(f,tf(f,y),c,function wy(i,s){return qn(i)?i.nextSibling(s):s.nextSibling}(f,y),!1)}s[i.index]=a=Sg(l,s,c,i),Ci(s,a)}return new gv(a,i,s)}class Gl{constructor(s){this.queryList=s,this.matches=null}clone(){return new Gl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);c.push(this.queries[y.indexInDeclarationView].clone())}return new Cm(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Zl(s,a).matches&&this.queries[a].setDirty()}}class ql{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class yv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,c);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new yv(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class zl{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new zl(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const f=l[c];this.matchTNodeWithReadOption(s,a,zE(a,f)),this.matchTNodeWithReadOption(s,a,Oe(a,s,f,!1,!1))}else l===cp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Oe(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===ip||c===$l||c===cp&&4&a.type)this.addMatch(a.index,-2);else{const f=Oe(a,s,c,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function zE(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function rd(i,s,a,l){return-1===a?function Wl(i,s){return 11&i.type?ch(i,s):4&i.type?dp(i,s):null}(s,i):-2===a?function _v(i,s,a){return a===ip?ch(s,i):a===cp?dp(s,i):a===$l?hp(s,i):void 0}(i,s,l):_t(i,i[1],a,s)}function vv(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const f=i.data,y=a.matches,C=[];for(let D=0;D<y.length;D+=2){const N=y[D];C.push(N<0?null:rd(s,f[N],y[D+1],a.metadata.read))}c.matches=C}return c.matches}function wv(i,s,a,l){const c=i.queries.getByIndex(a),f=c.matches;if(null!==f){const y=vv(i,s,c,a);for(let C=0;C<f.length;C+=2){const D=f[C];if(D>0)l.push(y[C/2]);else{const N=f[C+1],L=s[-D];for(let W=10;W<L.length;W++){const re=L[W];re[17]===re[3]&&wv(re[1],re,N,l)}if(null!==L[9]){const W=L[9];for(let re=0;re<W.length;re++){const me=W[re];wv(me[1],me,N,l)}}}}}return l}function WE(i){const s=ze(),a=pn(),l=Qa();al(l+1);const c=Zl(a,l);if(i.dirty&&tn(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const f=c.crossesNgTemplate?wv(a,s,l,[]):vv(a,s,c,l);i.reset(f,gI),i.notifyOnChanges()}return!0}return!1}function ZE(i,s,a,l){const c=pn();if(c.firstCreatePass){const f=zn();(function QE(i,s,a){null===i.queries&&(i.queries=new yv),i.queries.track(new zl(s,a))})(c,new ql(s,a,l),f.index),function JE(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function YE(i,s,a){const l=new fv(4==(4&a));Eg(i,s,l,l.destroy),null===s[19]&&(s[19]=new Cm),s[19].queries.push(new Gl(l))}(c,ze(),a)}function fp(){return function KE(i,s){return i[19].queries[s].queryList}(ze(),Qa())}function Zl(i,s){return i.queries.getByIndex(s)}function mp(...i){}const vb=new Rr("Application Initializer");let Pv=(()=>{class i{constructor(a){this.appInits=a,this.resolve=mp,this.reject=mp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(ti(f))a.push(f);else if(Wg(f)){const y=new Promise((C,D)=>{f.subscribe({complete:C,error:D})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ot(vb,8))},i.\u0275prov=yn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Nv=new Rr("AppId",{providedIn:"root",factory:function yp(){return`${_p()}${_p()}${_p()}`}});function _p(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kv=new Rr("Platform Initializer"),wb=new Rr("Platform ID"),Eb=new Rr("appBootstrapListener");let bb=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})();const ad=new Rr("LocaleId",{providedIn:"root",factory:()=>Un(ad,Mt.Optional|Mt.SkipSelf)||function FI(){return"undefined"!=typeof $localize&&$localize.locale||Zf}()}),Fv=new Rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wp{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Vv=(()=>{class i{compileModuleSync(a){return new op(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=ou(Gt(a).declarations).reduce((y,C)=>{const D=ot(C);return D&&y.push(new pm(D)),y},[]);return new wp(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=yn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Uv=(()=>Promise.resolve(0))();function pu(i){"undefined"==typeof Zone?Uv.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ga{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ks(!1),this.onMicrotaskEmpty=new ks(!1),this.onStable=new ks(!1),this.onError=new ks(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Db(){let i=_n.requestAnimationFrame,s=_n.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function LI(i){const s=()=>{!function Hv(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(_n,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ep(i),i.isCheckStableRunning=!0,jv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ep(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,f,y,C)=>{try{return bp(i),a.invokeTask(c,f,y,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Mm(i)}},onInvoke:(a,l,c,f,y,C,D)=>{try{return bp(i),a.invoke(c,f,y,C,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),Mm(i)}},onHasTask:(a,l,c,f)=>{a.hasTask(c,f),l===c&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Ep(i),jv(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,c,f)=>(a.handleError(c,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ga.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ga.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+c,s,Bv,mp,mp);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const Bv={};function jv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ep(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function bp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Mm(i){i._nesting--,jv(i)}class Ab{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ks,this.onMicrotaskEmpty=new ks,this.onStable=new ks,this.onError=new ks}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let ud=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ga.assertNotInAngularZone(),pu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pu(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ot(Ga))},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})(),xm=(()=>{class i{constructor(){this._applications=new Map,Om.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Om.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})();class VI{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function UI(i){Om=i}let ya,Om=new VI;const Rm=new Rr("AllowMultipleToken");class HI{constructor(s,a){this.name=s,this.token=a}}function Mb(i,s,a=[]){const l=`Platform: ${s}`,c=new Rr(l);return(f=[])=>{let y=Pm();if(!y||y.injector.get(Rm,!1))if(i)i(a.concat(f).concat({provide:c,useValue:!0}));else{const C=a.concat(f).concat({provide:c,useValue:!0},{provide:Vd,useValue:"platform"});!function $v(i){if(ya&&!ya.destroyed&&!ya.injector.get(Rm,!1))throw new Ke(400,"");ya=i.get(Nm);const s=i.get(kv,null);s&&s.forEach(a=>a())}(No.create({providers:C,name:l}))}return function Gv(i){const s=Pm();if(!s)throw new Ke(401,"");return s}()}}function Pm(){return ya&&!ya.destroyed?ya:null}let Nm=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const C=function qv(i,s){let a;return a="noop"===i?new Ab:("zone.js"===i?void 0:i)||new Ga({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:Ga,useValue:C}];return C.run(()=>{const N=No.create({providers:D,parent:this.injector,name:a.moduleType.name}),L=a.create(N),W=L.injector.get(bc,null);if(!W)throw new Ke(402,"");return C.runOutsideAngular(()=>{const re=C.onError.subscribe({next:me=>{W.handleError(me)}});L.onDestroy(()=>{Kl(this._modules,L),re.unsubscribe()})}),function _h(i,s,a){try{const l=a();return ti(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(W,C,()=>{const re=L.injector.get(Pv);return re.runInitializers(),re.donePromise.then(()=>(function Yc(i){Ct(i,"Expected localeId to be defined"),"string"==typeof i&&(Kc=i.toLowerCase().replace(/_/g,"-"))}(L.injector.get(ad,Zf)||Zf),this._moduleDoBootstrap(L),L))})})}bootstrapModule(a,l=[]){const c=tl({},l);return function BI(i,s,a){const l=new op(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(a){const l=a.injector.get(Cp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Ke(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ot(No))},i.\u0275prov=yn({token:i,factory:i.\u0275fac}),i})();function tl(i,s){return Array.isArray(s)?s.reduce(tl,i):Object.assign(Object.assign({},i),s)}let Cp=(()=>{class i{constructor(a,l,c,f,y){this._zone=a,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new j.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),D=new j.y(N=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Ga.assertNotInAngularZone(),pu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{Ga.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{L.unsubscribe(),W.unsubscribe()}});this.isStable=(0,ce.T)(C,D.pipe((0,ae.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Ke(405,"");let c;c=a instanceof xE?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const f=function jI(i){return i.isBoundToModule}(c)?void 0:this._injector.get(hu),C=c.create(No.NULL,[],l||c.selector,f),D=C.location.nativeElement,N=C.injector.get(ud,null),L=N&&C.injector.get(xm);return N&&L&&L.registerApplication(D,N),C.onDestroy(()=>{this.detachView(C.hostView),Kl(this.components,C),L&&L.unregisterApplication(D)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ke(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Kl(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Eb,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Ot(Ga),Ot(No),Ot(bc),Ot(rp),Ot(Pv))},i.\u0275prov=yn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Kl(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let cd=!0,Ob=!1;function GI(){return Ob=!0,cd}function zv(){if(Ob)throw new Error("Cannot enable prod mode after platform setup.");cd=!1}let qI=(()=>{class i{}return i.__NG_ELEMENT_ID__=zI,i})();function zI(i){return function Wv(i,s,a){if(vs(i)&&!a){const l=en(i.index,s);return new sp(l,l)}return 47&i.type?new sp(s[16],s):null}(zn(),ze(),16==(16&i))}class jb{constructor(){}supports(s){return xf(s)}create(s){return new JI(s)}}const Yv=(i,s)=>s;class JI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Yv}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<Hb(l,c,f)?a:l,C=Hb(y,c,f),D=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{f||(f=[]);const N=C-c,L=D-c;if(N!=L){for(let re=0;re<N;re++){const me=re<f.length?f[re]:f[re]=0,Be=me+re;L<=Be&&Be<N&&(f[re]=me+1)}f[y.previousIndex]=L-N}}C!==D&&s(y,C,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!xf(s))throw new Ke(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)f=s[C],y=this._trackByFn(C,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,C)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,C),l=!0),a=a._next}else c=0,function Of(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[$d()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,C=>{y=this._trackByFn(c,C),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,C,y,c)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,c)):s=this._addAfter(new Qv(a,l),f,c),s}_verifyReinsertion(s,a,l,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Lm),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lm),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Qv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Lm{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new XI,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hb(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class Vm{constructor(){}supports(s){return s instanceof Map||au(s)}create(){return new Jv}}class Jv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||au(s)))throw new Ke(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const f=c._prev,y=c._next;return f&&(f._next=y),y&&(y._prev=f),c._next=null,c._prev=null,c}const l=new Xv(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class Xv{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hd(){return new Um([new jb])}let Um=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||hd()),deps:[[i,new Sa,new Os]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new Ke(901,"")}}return i.\u0275prov=yn({token:i,providedIn:"root",factory:hd}),i})();function Gb(){return new Sp([new Vm])}let Sp=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Gb()),deps:[[i,new Sa,new Os]]}}find(a){const l=this.factories.find(f=>f.supports(a));if(l)return l;throw new Ke(901,"")}}return i.\u0275prov=yn({token:i,providedIn:"root",factory:Gb}),i})();const eD=Mb(null,"core",[{provide:wb,useValue:"unknown"},{provide:Nm,deps:[No]},{provide:xm,deps:[]},{provide:bb,deps:[]}]);let t0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ot(Cp))},i.\u0275mod=q({type:i}),i.\u0275inj=Yt({}),i})()},3809:(vt,Ae,k)=>{k.d(Ae,{F0:()=>ci,yS:()=>zs,Bz:()=>Ws,lC:()=>zo});var b=k(5e3),h=k(7579);class j extends h.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const _=super._subscribe(w);return!_.closed&&w.next(this._value),_}getValue(){const{hasError:w,thrownError:_,_value:M}=this;if(w)throw _;return this._throwIfClosed(),M}next(w){super.next(this._value=w)}}var ce=k(8306),ae=k(4742),de=k(8996),ye=k(4671),fe=k(3268),we=k(7669),te=k(1810),X=k(5403),pe=k(9672);function Ke(T,w,_){T?(0,pe.f)(_,T,w):w()}var et=k(576);function Me(T,w){const _=(0,et.m)(T)?T:()=>T,M=P=>P.error(_());return new ce.y(w?P=>w.schedule(M,0,P):M)}var Le=k(8421);function gt(T){return new ce.y(w=>{(0,Le.Xf)(T()).subscribe(w)})}var rt=k(727),Ge=k(4482);function qe(){return(0,Ge.e)((T,w)=>{let _=null;T._refCount++;const M=(0,X.x)(w,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(_=null);const P=T._connection,B=_;_=null,P&&(!B||P===B)&&P.unsubscribe(),w.unsubscribe()});T.subscribe(M),M.closed||(_=T.connect())})}class Fe extends ce.y{constructor(w,_){super(),this.source=w,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Ge.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new rt.w0;const _=this.getSubject();w.add(this.source.subscribe((0,X.x)(_,void 0,()=>{this._teardown(),_.complete()},M=>{this._teardown(),_.error(M)},()=>this._teardown()))),w.closed&&(this._connection=null,w=rt.w0.EMPTY)}return w}refCount(){return qe()(this)}}var je=k(9646),ve=k(6805),mt=k(7272),he=k(515);function Te(T){return(0,Ge.e)((w,_)=>{let B,M=null,P=!1;M=w.subscribe((0,X.x)(_,void 0,void 0,Y=>{B=(0,Le.Xf)(T(Y,Te(T)(w))),M?(M.unsubscribe(),M=null,B.subscribe(_)):P=!0})),P&&(M.unsubscribe(),M=null,B.subscribe(_))})}var Ie=k(9300);function xe(T){return T<=0?()=>he.E:(0,Ge.e)((w,_)=>{let M=[];w.subscribe((0,X.x)(_,P=>{M.push(P),T<M.length&&M.shift()},()=>{for(const P of M)_.next(P);_.complete()},void 0,()=>{M=null}))})}var Je=k(8068),Ce=k(6590),Kt=k(4004),Ct=k(3900),St=k(5698),kn=k(8675),xn=k(5026),kr=k(4351),yn=k(590),zt=k(5577),Yt=k(8505),Zn=k(8189),jn=k(9808);class Yn{constructor(w,_){this.id=w,this.url=_}}class _r extends Yn{constructor(w,_,M="imperative",P=null){super(w,_),this.navigationTrigger=M,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wr extends Yn{constructor(w,_,M){super(w,_),this.urlAfterRedirects=M}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class si extends Yn{constructor(w,_,M){super(w,_),this.reason=M}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dr extends Yn{constructor(w,_,M){super(w,_),this.error=M}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ar extends Yn{constructor(w,_,M,P){super(w,_),this.urlAfterRedirects=M,this.state=P}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ms extends Yn{constructor(w,_,M,P){super(w,_),this.urlAfterRedirects=M,this.state=P}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt extends Yn{constructor(w,_,M,P,B){super(w,_),this.urlAfterRedirects=M,this.state=P,this.shouldActivate=B}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zr extends Yn{constructor(w,_,M,P){super(w,_),this.urlAfterRedirects=M,this.state=P}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ur extends Yn{constructor(w,_,M,P){super(w,_),this.urlAfterRedirects=M,this.state=P}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn{constructor(w){this.route=w}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class er{constructor(w){this.route=w}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gi{constructor(w){this.snapshot=w}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(w){this.snapshot=w}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(w){this.snapshot=w}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Br{constructor(w){this.snapshot=w}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(w,_,M){this.routerEvent=w,this.position=_,this.anchor=M}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const dt="primary";class xt{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const _=this.params[w];return Array.isArray(_)?_[0]:_}return null}getAll(w){if(this.has(w)){const _=this.params[w];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function yt(T){return new xt(T)}const Hr="ngNavigationCancelingError";function Mi(T){const w=Error("NavigationCancelingError: "+T);return w[Hr]=!0,w}function is(T,w,_){const M=_.path.split("/");if(M.length>T.length||"full"===_.pathMatch&&(w.hasChildren()||M.length<T.length))return null;const P={};for(let B=0;B<M.length;B++){const Y=M[B],ie=T[B];if(Y.startsWith(":"))P[Y.substring(1)]=ie;else if(Y!==ie.path)return null}return{consumed:T.slice(0,M.length),posParams:P}}function hn(T,w){const _=T?Object.keys(T):void 0,M=w?Object.keys(w):void 0;if(!_||!M||_.length!=M.length)return!1;let P;for(let B=0;B<_.length;B++)if(P=_[B],!kt(T[P],w[P]))return!1;return!0}function kt(T,w){if(Array.isArray(T)&&Array.isArray(w)){if(T.length!==w.length)return!1;const _=[...T].sort(),M=[...w].sort();return _.every((P,B)=>M[B]===P)}return T===w}function rr(T){return Array.prototype.concat.apply([],T)}function fn(T){return T.length>0?T[T.length-1]:null}function Pe(T,w){for(const _ in T)T.hasOwnProperty(_)&&w(T[_],_)}function ut(T){return(0,b.CqO)(T)?T:(0,b.QGY)(T)?(0,de.D)(Promise.resolve(T)):(0,je.of)(T)}const on={exact:function oe(T,w,_){if(!lt(T.segments,w.segments)||!K(T.segments,w.segments,_)||T.numberOfChildren!==w.numberOfChildren)return!1;for(const M in w.children)if(!T.children[M]||!oe(T.children[M],w.children[M],_))return!1;return!0},subset:q},rn={exact:function J(T,w){return hn(T,w)},subset:function Se(T,w){return Object.keys(w).length<=Object.keys(T).length&&Object.keys(w).every(_=>kt(T[_],w[_]))},ignored:()=>!0};function se(T,w,_){return on[_.paths](T.root,w.root,_.matrixParams)&&rn[_.queryParams](T.queryParams,w.queryParams)&&!("exact"===_.fragment&&T.fragment!==w.fragment)}function q(T,w,_){return Z(T,w,w.segments,_)}function Z(T,w,_,M){if(T.segments.length>_.length){const P=T.segments.slice(0,_.length);return!(!lt(P,_)||w.hasChildren()||!K(P,_,M))}if(T.segments.length===_.length){if(!lt(T.segments,_)||!K(T.segments,_,M))return!1;for(const P in w.children)if(!T.children[P]||!q(T.children[P],w.children[P],M))return!1;return!0}{const P=_.slice(0,T.segments.length),B=_.slice(T.segments.length);return!!(lt(T.segments,P)&&K(T.segments,P,M)&&T.children[dt])&&Z(T.children[dt],w,B,M)}}function K(T,w,_){return w.every((M,P)=>rn[_](T[P].parameters,M.parameters))}class Ee{constructor(w,_,M){this.root=w,this.queryParams=_,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return Ft.serialize(this)}}class Ve{constructor(w,_){this.segments=w,this.children=_,this.parent=null,Pe(_,(M,P)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pr(this)}}class ot{constructor(w,_){this.path=w,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=yt(this.parameters)),this._parameterMap}toString(){return sr(this)}}function lt(T,w){return T.length===w.length&&T.every((_,M)=>_.path===w[M].path)}class $n{}class fr{parse(w){const _=new Vi(w);return new Ee(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(w){const _=`/${ir(w.root,!0)}`,M=function gr(T){const w=Object.keys(T).map(_=>{const M=T[_];return Array.isArray(M)?M.map(P=>`${Us(_)}=${Us(P)}`).join("&"):`${Us(_)}=${Us(M)}`}).filter(_=>!!_);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${_}${M}${"string"==typeof w.fragment?`#${function Fn(T){return encodeURI(T)}(w.fragment)}`:""}`}}const Ft=new fr;function pr(T){return T.segments.map(w=>sr(w)).join("/")}function ir(T,w){if(!T.hasChildren())return pr(T);if(w){const _=T.children[dt]?ir(T.children[dt],!1):"",M=[];return Pe(T.children,(P,B)=>{B!==dt&&M.push(`${B}:${ir(P,!1)}`)}),M.length>0?`${_}(${M.join("//")})`:_}{const _=function Gt(T,w){let _=[];return Pe(T.children,(M,P)=>{P===dt&&(_=_.concat(w(M,P)))}),Pe(T.children,(M,P)=>{P!==dt&&(_=_.concat(w(M,P)))}),_}(T,(M,P)=>P===dt?[ir(T.children[dt],!1)]:[`${P}:${ir(M,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[dt]?`${pr(T)}/${_[0]}`:`${pr(T)}/(${_.join("//")})`}}function On(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Us(T){return On(T).replace(/%3B/gi,";")}function ct(T){return On(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sn(T){return decodeURIComponent(T)}function Ln(T){return sn(T.replace(/\+/g,"%20"))}function sr(T){return`${ct(T.path)}${function Fr(T){return Object.keys(T).map(w=>`;${ct(w)}=${ct(T[w])}`).join("")}(T.parameters)}`}const Mn=/^[^\/()?;=#]+/;function bn(T){const w=T.match(Mn);return w?w[0]:""}const or=/^[^=?&#]+/,Qt=/^[^&#]+/;class Vi{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(w.length>0||Object.keys(_).length>0)&&(M[dt]=new Ve(w,_)),M}parseSegment(){const w=bn(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(w),new ot(sn(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const _=bn(this.remaining);if(!_)return;this.capture(_);let M="";if(this.consumeOptional("=")){const P=bn(this.remaining);P&&(M=P,this.capture(M))}w[sn(_)]=sn(M)}parseQueryParam(w){const _=function eo(T){const w=T.match(or);return w?w[0]:""}(this.remaining);if(!_)return;this.capture(_);let M="";if(this.consumeOptional("=")){const Y=function Eo(T){const w=T.match(Qt);return w?w[0]:""}(this.remaining);Y&&(M=Y,this.capture(M))}const P=Ln(_),B=Ln(M);if(w.hasOwnProperty(P)){let Y=w[P];Array.isArray(Y)||(Y=[Y],w[P]=Y),Y.push(B)}else w[P]=B}parseParens(w){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=bn(this.remaining),P=this.remaining[M.length];if("/"!==P&&")"!==P&&";"!==P)throw new Error(`Cannot parse url '${this.url}'`);let B;M.indexOf(":")>-1?(B=M.substr(0,M.indexOf(":")),this.capture(B),this.capture(":")):w&&(B=dt);const Y=this.parseChildren();_[B]=1===Object.keys(Y).length?Y[dt]:new Ve([],Y),this.consumeOptional("//")}return _}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new Error(`Expected "${w}".`)}}class bo{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const _=this.pathFromRoot(w);return _.length>1?_[_.length-2]:null}children(w){const _=oi(w,this._root);return _?_.children.map(M=>M.value):[]}firstChild(w){const _=oi(w,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(w){const _=cr(w,this._root);return _.length<2?[]:_[_.length-2].children.map(P=>P.value).filter(P=>P!==w)}pathFromRoot(w){return cr(w,this._root).map(_=>_.value)}}function oi(T,w){if(T===w.value)return w;for(const _ of w.children){const M=oi(T,_);if(M)return M}return null}function cr(T,w){if(T===w.value)return[w];for(const _ of w.children){const M=cr(T,_);if(M.length)return M.unshift(w),M}return[]}class Sr{constructor(w,_){this.value=w,this.children=_}toString(){return`TreeNode(${this.value})`}}function ai(T){const w={};return T&&T.children.forEach(_=>w[_.value.outlet]=_),w}class vr extends bo{constructor(w,_){super(w),this.snapshot=_,Bi(this,w)}toString(){return this.snapshot.toString()}}function Vn(T,w){const _=function Bs(T,w){const Y=new _s([],{},{},"",{},dt,w,null,T.root,-1,{});return new vs("",new Sr(Y,[]))}(T,w),M=new j([new ot("",{})]),P=new j({}),B=new j({}),Y=new j({}),ie=new j(""),Oe=new ys(M,P,Y,ie,B,dt,w,_.root);return Oe.snapshot=_.root,new vr(new Sr(Oe,[]),_)}class ys{constructor(w,_,M,P,B,Y,ie,Oe){this.url=w,this.params=_,this.queryParams=M,this.fragment=P,this.data=B,this.outlet=Y,this.component=ie,this._futureSnapshot=Oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Kt.U)(w=>yt(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Kt.U)(w=>yt(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $r(T,w="emptyOnly"){const _=T.pathFromRoot;let M=0;if("always"!==w)for(M=_.length-1;M>=1;){const P=_[M],B=_[M-1];if(P.routeConfig&&""===P.routeConfig.path)M--;else{if(B.component)break;M--}}return function Ui(T){return T.reduce((w,_)=>({params:Object.assign(Object.assign({},w.params),_.params),data:Object.assign(Object.assign({},w.data),_.data),resolve:Object.assign(Object.assign({},w.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(M))}class _s{constructor(w,_,M,P,B,Y,ie,Oe,_t,cn,Tt){this.url=w,this.params=_,this.queryParams=M,this.fragment=P,this.data=B,this.outlet=Y,this.component=ie,this.routeConfig=Oe,this._urlSegment=_t,this._lastPathIndex=cn,this._resolve=Tt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vs extends bo{constructor(w,_){super(_),this.url=w,Bi(this,_)}toString(){return ui(this._root)}}function Bi(T,w){w.value._routerState=T,w.children.forEach(_=>Bi(T,_))}function ui(T){const w=T.children.length>0?` { ${T.children.map(ui).join(", ")} } `:"";return`${T.value}${w}`}function js(T){if(T.snapshot){const w=T.snapshot,_=T._futureSnapshot;T.snapshot=_,hn(w.queryParams,_.queryParams)||T.queryParams.next(_.queryParams),w.fragment!==_.fragment&&T.fragment.next(_.fragment),hn(w.params,_.params)||T.params.next(_.params),function nr(T,w){if(T.length!==w.length)return!1;for(let _=0;_<T.length;++_)if(!hn(T[_],w[_]))return!1;return!0}(w.url,_.url)||T.url.next(_.url),hn(w.data,_.data)||T.data.next(_.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function Hs(T,w){const _=hn(T.params,w.params)&&function Ut(T,w){return lt(T,w)&&T.every((_,M)=>hn(_.parameters,w[M].parameters))}(T.url,w.url);return _&&!(!T.parent!=!w.parent)&&(!T.parent||Hs(T.parent,w.parent))}function wr(T,w,_){if(_&&T.shouldReuseRoute(w.value,_.value.snapshot)){const M=_.value;M._futureSnapshot=w.value;const P=function Wa(T,w,_){return w.children.map(M=>{for(const P of _.children)if(T.shouldReuseRoute(M.value,P.value.snapshot))return wr(T,M,P);return wr(T,M)})}(T,w,_);return new Sr(M,P)}{if(T.shouldAttach(w.value)){const B=T.retrieve(w.value);if(null!==B){const Y=B.route;return Y.value._futureSnapshot=w.value,Y.children=w.children.map(ie=>wr(T,ie)),Y}}const M=function mi(T){return new ys(new j(T.url),new j(T.params),new j(T.queryParams),new j(T.fragment),new j(T.data),T.outlet,T.component,T)}(w.value),P=w.children.map(B=>wr(T,B));return new Sr(M,P)}}function to(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Co(T){return"object"==typeof T&&null!=T&&T.outlets}function Kr(T,w,_,M,P){let B={};if(M&&Pe(M,(ie,Oe)=>{B[Oe]=Array.isArray(ie)?ie.map(_t=>`${_t}`):`${ie}`}),T===w)return new Ee(_,B,P);const Y=ar(T,w,_);return new Ee(Y,B,P)}function ar(T,w,_){const M={};return Pe(T.children,(P,B)=>{M[B]=P===w?_:ar(P,w,_)}),new Ve(T.segments,M)}class $o{constructor(w,_,M){if(this.isAbsolute=w,this.numberOfDoubleDots=_,this.commands=M,w&&M.length>0&&to(M[0]))throw new Error("Root segment cannot have matrix parameters");const P=M.find(Co);if(P&&P!==fn(M))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vu{constructor(w,_,M){this.segmentGroup=w,this.processChildren=_,this.index=M}}function _a(T,w,_){if(T||(T=new Ve([],{})),0===T.segments.length&&T.hasChildren())return xi(T,w,_);const M=function Go(T,w,_){let M=0,P=w;const B={match:!1,pathIndex:0,commandIndex:0};for(;P<T.segments.length;){if(M>=_.length)return B;const Y=T.segments[P],ie=_[M];if(Co(ie))break;const Oe=`${ie}`,_t=M<_.length-1?_[M+1]:null;if(P>0&&void 0===Oe)break;if(Oe&&_t&&"object"==typeof _t&&void 0===_t.outlets){if(!yi(Oe,_t,Y))return B;M+=2}else{if(!yi(Oe,{},Y))return B;M++}P++}return{match:!0,pathIndex:P,commandIndex:M}}(T,w,_),P=_.slice(M.commandIndex);if(M.match&&M.pathIndex<T.segments.length){const B=new Ve(T.segments.slice(0,M.pathIndex),{});return B.children[dt]=new Ve(T.segments.slice(M.pathIndex),T.children),xi(B,0,P)}return M.match&&0===P.length?new Ve(T.segments,{}):M.match&&!T.hasChildren()?ro(T,w,_):M.match?xi(T,0,P):ro(T,w,_)}function xi(T,w,_){if(0===_.length)return new Ve(T.segments,{});{const M=function Za(T){return Co(T[0])?T[0].outlets:{[dt]:T}}(_),P={};return Pe(M,(B,Y)=>{"string"==typeof B&&(B=[B]),null!==B&&(P[Y]=_a(T.children[Y],w,B))}),Pe(T.children,(B,Y)=>{void 0===M[Y]&&(P[Y]=B)}),new Ve(T.segments,P)}}function ro(T,w,_){const M=T.segments.slice(0,w);let P=0;for(;P<_.length;){const B=_[P];if(Co(B)){const Oe=ws(B.outlets);return new Ve(M,Oe)}if(0===P&&to(_[0])){M.push(new ot(T.segments[w].path,Io(_[0]))),P++;continue}const Y=Co(B)?B.outlets[dt]:`${B}`,ie=P<_.length-1?_[P+1]:null;Y&&ie&&to(ie)?(M.push(new ot(Y,Io(ie))),P+=2):(M.push(new ot(Y,{})),P++)}return new Ve(M,{})}function ws(T){const w={};return Pe(T,(_,M)=>{"string"==typeof _&&(_=[_]),null!==_&&(w[M]=ro(new Ve([],{}),0,_))}),w}function Io(T){const w={};return Pe(T,(_,M)=>w[M]=`${_}`),w}function yi(T,w,_){return T==_.path&&hn(w,_.parameters)}class Do{constructor(w,_,M,P){this.routeReuseStrategy=w,this.futureState=_,this.currState=M,this.forwardEvent=P}activate(w){const _=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,M,w),js(this.futureState.root),this.activateChildRoutes(_,M,w)}deactivateChildRoutes(w,_,M){const P=ai(_);w.children.forEach(B=>{const Y=B.value.outlet;this.deactivateRoutes(B,P[Y],M),delete P[Y]}),Pe(P,(B,Y)=>{this.deactivateRouteAndItsChildren(B,M)})}deactivateRoutes(w,_,M){const P=w.value,B=_?_.value:null;if(P===B)if(P.component){const Y=M.getContext(P.outlet);Y&&this.deactivateChildRoutes(w,_,Y.children)}else this.deactivateChildRoutes(w,_,M);else B&&this.deactivateRouteAndItsChildren(_,M)}deactivateRouteAndItsChildren(w,_){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,_):this.deactivateRouteAndOutlet(w,_)}detachAndStoreRouteSubtree(w,_){const M=_.getContext(w.value.outlet),P=M&&w.value.component?M.children:_,B=ai(w);for(const Y of Object.keys(B))this.deactivateRouteAndItsChildren(B[Y],P);if(M&&M.outlet){const Y=M.outlet.detach(),ie=M.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:Y,route:w,contexts:ie})}}deactivateRouteAndOutlet(w,_){const M=_.getContext(w.value.outlet),P=M&&w.value.component?M.children:_,B=ai(w);for(const Y of Object.keys(B))this.deactivateRouteAndItsChildren(B[Y],P);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(w,_,M){const P=ai(_);w.children.forEach(B=>{this.activateRoutes(B,P[B.value.outlet],M),this.forwardEvent(new Br(B.value.snapshot))}),w.children.length&&this.forwardEvent(new lr(w.value.snapshot))}activateRoutes(w,_,M){const P=w.value,B=_?_.value:null;if(js(P),P===B)if(P.component){const Y=M.getOrCreateContext(P.outlet);this.activateChildRoutes(w,_,Y.children)}else this.activateChildRoutes(w,_,M);else if(P.component){const Y=M.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const ie=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),Y.children.onOutletReAttached(ie.contexts),Y.attachRef=ie.componentRef,Y.route=ie.route.value,Y.outlet&&Y.outlet.attach(ie.componentRef,ie.route.value),js(ie.route.value),this.activateChildRoutes(w,null,Y.children)}else{const ie=function va(T){for(let w=T.parent;w;w=w.parent){const _=w.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}(P.snapshot),Oe=ie?ie.module.componentFactoryResolver:null;Y.attachRef=null,Y.route=P,Y.resolver=Oe,Y.outlet&&Y.outlet.activateWith(P,Oe),this.activateChildRoutes(w,null,Y.children)}}else this.activateChildRoutes(w,null,M)}}class wa{constructor(w,_){this.routes=w,this.module=_}}function li(T){return"function"==typeof T}function Mr(T){return T instanceof Ee}const _i=Symbol("INITIAL_VALUE");function qo(){return(0,Ct.w)(T=>function tt(...T){const w=(0,we.yG)(T),_=(0,we.jO)(T),{args:M,keys:P}=(0,ae.D)(T);if(0===M.length)return(0,de.D)([],w);const B=new ce.y(function $e(T,w,_=ye.y){return M=>{Ke(w,()=>{const{length:P}=T,B=new Array(P);let Y=P,ie=P;for(let Oe=0;Oe<P;Oe++)Ke(w,()=>{const _t=(0,de.D)(T[Oe],w);let cn=!1;_t.subscribe((0,X.x)(M,Tt=>{B[Oe]=Tt,cn||(cn=!0,ie--),ie||M.next(_(B.slice()))},()=>{--Y||M.complete()}))},M)},M)}}(M,w,P?Y=>(0,te.n)(P,Y):ye.y));return _?B.pipe((0,fe.Z)(_)):B}(T.map(w=>w.pipe((0,St.q)(1),(0,kn.O)(_i)))).pipe((0,xn.R)((w,_)=>{let M=!1;return _.reduce((P,B,Y)=>P!==_i?P:(B===_i&&(M=!0),M||!1!==B&&Y!==_.length-1&&!Mr(B)?P:B),w)},_i),(0,Ie.h)(w=>w!==_i),(0,Kt.U)(w=>Mr(w)?w:!0===w),(0,St.q)(1)))}class Es{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ji,this.attachRef=null}}class ji{constructor(){this.contexts=new Map}onChildOutletCreated(w,_){const M=this.getOrCreateContext(w);M.outlet=_,this.contexts.set(w,M)}onChildOutletDestroyed(w){const _=this.getContext(w);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let _=this.getContext(w);return _||(_=new Es,this.contexts.set(w,_)),_}getContext(w){return this.contexts.get(w)||null}}let zo=(()=>{class T{constructor(_,M,P,B,Y){this.parentContexts=_,this.location=M,this.resolver=P,this.changeDetector=Y,this.activated=null,this._activatedRoute=null,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.name=B||dt,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,M){this.activated=_,this._activatedRoute=M,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,M){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const Y=(M=M||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),ie=this.parentContexts.getOrCreateContext(this.name).children,Oe=new Wo(_,ie,this.location.injector);this.activated=this.location.createComponent(Y,this.location.length,Oe),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(_){return new(_||T)(b.Y36(ji),b.Y36(b.s_b),b.Y36(b._Vd),b.$8M("name"),b.Y36(b.sBO))},T.\u0275dir=b.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),T})();class Wo{constructor(w,_,M){this.route=w,this.childContexts=_,this.parent=M}get(w,_){return w===ys?this.route:w===ji?this.childContexts:this.parent.get(w,_)}}let Hi=(()=>{class T{}return T.\u0275fac=function(_){return new(_||T)},T.\u0275cmp=b.Xpm({type:T,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,M){1&_&&b._UZ(0,"router-outlet")},directives:[zo],encapsulation:2}),T})();function bs(T,w=""){for(let _=0;_<T.length;_++){const M=T[_];Zo(M,qn(w,M))}}function Zo(T,w){T.children&&bs(T.children,w)}function qn(T,w){return w?T||w.path?T&&!w.path?`${T}/`:!T&&w.path?w.path:`${T}/${w.path}`:"":T}function O(T){const w=T.children&&T.children.map(O),_=w?Object.assign(Object.assign({},T),{children:w}):Object.assign({},T);return!_.component&&(w||_.loadChildren)&&_.outlet&&_.outlet!==dt&&(_.component=Hi),_}function U(T){return T.outlet||dt}function x(T,w){const _=T.filter(M=>U(M)===w);return _.push(...T.filter(M=>U(M)!==w)),_}const $={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ne(T,w,_){var M;if(""===w.path)return"full"===w.pathMatch&&(T.hasChildren()||_.length>0)?Object.assign({},$):{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const B=(w.matcher||is)(_,T,w);if(!B)return Object.assign({},$);const Y={};Pe(B.posParams,(Oe,_t)=>{Y[_t]=Oe.path});const ie=B.consumed.length>0?Object.assign(Object.assign({},Y),B.consumed[B.consumed.length-1].parameters):Y;return{matched:!0,consumedSegments:B.consumed,remainingSegments:_.slice(B.consumed.length),parameters:ie,positionalParamSegments:null!==(M=B.posParams)&&void 0!==M?M:{}}}function De(T,w,_,M,P="corrected"){if(_.length>0&&function Rn(T,w,_){return _.some(M=>en(T,w,M)&&U(M)!==dt)}(T,_,M)){const Y=new Ve(w,function at(T,w,_,M){const P={};P[dt]=M,M._sourceSegment=T,M._segmentIndexShift=w.length;for(const B of _)if(""===B.path&&U(B)!==dt){const Y=new Ve([],{});Y._sourceSegment=T,Y._segmentIndexShift=w.length,P[U(B)]=Y}return P}(T,w,M,new Ve(_,T.children)));return Y._sourceSegment=T,Y._segmentIndexShift=w.length,{segmentGroup:Y,slicedSegments:[]}}if(0===_.length&&function In(T,w,_){return _.some(M=>en(T,w,M))}(T,_,M)){const Y=new Ve(T.segments,function He(T,w,_,M,P,B){const Y={};for(const ie of M)if(en(T,_,ie)&&!P[U(ie)]){const Oe=new Ve([],{});Oe._sourceSegment=T,Oe._segmentIndexShift="legacy"===B?T.segments.length:w.length,Y[U(ie)]=Oe}return Object.assign(Object.assign({},P),Y)}(T,w,_,M,T.children,P));return Y._sourceSegment=T,Y._segmentIndexShift=w.length,{segmentGroup:Y,slicedSegments:_}}const B=new Ve(T.segments,T.children);return B._sourceSegment=T,B._segmentIndexShift=w.length,{segmentGroup:B,slicedSegments:_}}function en(T,w,_){return(!(T.hasChildren()||w.length>0)||"full"!==_.pathMatch)&&""===_.path}function tn(T,w,_,M){return!!(U(T)===M||M!==dt&&en(w,_,T))&&("**"===T.path||ne(w,T,_).matched)}function Qn(T,w,_){return 0===w.length&&!T.children[_]}class wn{constructor(w){this.segmentGroup=w||null}}class Pn{constructor(w){this.urlTree=w}}function Yr(T){return Me(new wn(T))}function xr(T){return Me(new Pn(T))}class Gi{constructor(w,_,M,P,B){this.configLoader=_,this.urlSerializer=M,this.urlTree=P,this.config=B,this.allowRedirects=!0,this.ngModule=w.get(b.h0i)}apply(){const w=De(this.urlTree.root,[],[],this.config).segmentGroup,_=new Ve(w.segments,w.children);return this.expandSegmentGroup(this.ngModule,this.config,_,dt).pipe((0,Kt.U)(B=>this.createUrlTree(Cs(B),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Te(B=>{if(B instanceof Pn)return this.allowRedirects=!1,this.match(B.urlTree);throw B instanceof wn?this.noMatchError(B):B}))}match(w){return this.expandSegmentGroup(this.ngModule,this.config,w.root,dt).pipe((0,Kt.U)(P=>this.createUrlTree(Cs(P),w.queryParams,w.fragment))).pipe(Te(P=>{throw P instanceof wn?this.noMatchError(P):P}))}noMatchError(w){return new Error(`Cannot match any routes. URL Segment: '${w.segmentGroup}'`)}createUrlTree(w,_,M){const P=w.segments.length>0?new Ve([],{[dt]:w}):w;return new Ee(P,_,M)}expandSegmentGroup(w,_,M,P){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(w,_,M).pipe((0,Kt.U)(B=>new Ve([],B))):this.expandSegment(w,M,_,M.segments,P,!0)}expandChildren(w,_,M){const P=[];for(const B of Object.keys(M.children))"primary"===B?P.unshift(B):P.push(B);return(0,de.D)(P).pipe((0,kr.b)(B=>{const Y=M.children[B],ie=x(_,B);return this.expandSegmentGroup(w,ie,Y,B).pipe((0,Kt.U)(Oe=>({segment:Oe,outlet:B})))}),(0,xn.R)((B,Y)=>(B[Y.outlet]=Y.segment,B),{}),function Bt(T,w){const _=arguments.length>=2;return M=>M.pipe(T?(0,Ie.h)((P,B)=>T(P,B,M)):ye.y,xe(1),_?(0,Ce.d)(w):(0,Je.T)(()=>new ve.K))}())}expandSegment(w,_,M,P,B,Y){return(0,de.D)(M).pipe((0,kr.b)(ie=>this.expandSegmentAgainstRoute(w,_,M,ie,P,B,Y).pipe(Te(_t=>{if(_t instanceof wn)return(0,je.of)(null);throw _t}))),(0,yn.P)(ie=>!!ie),Te((ie,Oe)=>{if(ie instanceof ve.K||"EmptyError"===ie.name)return Qn(_,P,B)?(0,je.of)(new Ve([],{})):Yr(_);throw ie}))}expandSegmentAgainstRoute(w,_,M,P,B,Y,ie){return tn(P,_,B,Y)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(w,_,P,B,Y):ie&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,_,M,P,B,Y):Yr(_):Yr(_)}expandSegmentAgainstRouteUsingRedirect(w,_,M,P,B,Y){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,M,P,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(w,_,M,P,B,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,_,M,P){const B=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?xr(B):this.lineralizeSegments(M,B).pipe((0,zt.z)(Y=>{const ie=new Ve(Y,{});return this.expandSegment(w,ie,_,Y,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,_,M,P,B,Y){const{matched:ie,consumedSegments:Oe,remainingSegments:_t,positionalParamSegments:cn}=ne(_,P,B);if(!ie)return Yr(_);const Tt=this.applyRedirectCommands(Oe,P.redirectTo,cn);return P.redirectTo.startsWith("/")?xr(Tt):this.lineralizeSegments(P,Tt).pipe((0,zt.z)(gn=>this.expandSegment(w,_,M,gn.concat(_t),Y,!1)))}matchSegmentAgainstRoute(w,_,M,P,B){if("**"===M.path)return M.loadChildren?(M._loadedConfig?(0,je.of)(M._loadedConfig):this.configLoader.load(w.injector,M)).pipe((0,Kt.U)(Tt=>(M._loadedConfig=Tt,new Ve(P,{})))):(0,je.of)(new Ve(P,{}));const{matched:Y,consumedSegments:ie,remainingSegments:Oe}=ne(_,M,P);return Y?this.getChildConfig(w,M,P).pipe((0,zt.z)(cn=>{const Tt=cn.module,gn=cn.routes,{segmentGroup:Cn,slicedSegments:Zi}=De(_,ie,Oe,gn),Ki=new Ve(Cn.segments,Cn.children);if(0===Zi.length&&Ki.hasChildren())return this.expandChildren(Tt,gn,Ki).pipe((0,Kt.U)(fo=>new Ve(ie,fo)));if(0===gn.length&&0===Zi.length)return(0,je.of)(new Ve(ie,{}));const aa=U(M)===B;return this.expandSegment(Tt,Ki,gn,Zi,aa?dt:B,!0).pipe((0,Kt.U)(wi=>new Ve(ie.concat(wi.segments),wi.children)))})):Yr(_)}getChildConfig(w,_,M){return _.children?(0,je.of)(new wa(_.children,w)):_.loadChildren?void 0!==_._loadedConfig?(0,je.of)(_._loadedConfig):this.runCanLoadGuards(w.injector,_,M).pipe((0,zt.z)(P=>P?this.configLoader.load(w.injector,_).pipe((0,Kt.U)(B=>(_._loadedConfig=B,B))):function $i(T){return Me(Mi(`Cannot load children because the guard of the route "path: '${T.path}'" returned false`))}(_))):(0,je.of)(new wa([],w))}runCanLoadGuards(w,_,M){const P=_.canLoad;if(!P||0===P.length)return(0,je.of)(!0);const B=P.map(Y=>{const ie=w.get(Y);let Oe;if(function os(T){return T&&li(T.canLoad)}(ie))Oe=ie.canLoad(_,M);else{if(!li(ie))throw new Error("Invalid CanLoad guard");Oe=ie(_,M)}return ut(Oe)});return(0,je.of)(B).pipe(qo(),(0,Yt.b)(Y=>{if(!Mr(Y))return;const ie=Mi(`Redirecting to "${this.urlSerializer.serialize(Y)}"`);throw ie.url=Y,ie}),(0,Kt.U)(Y=>!0===Y))}lineralizeSegments(w,_){let M=[],P=_.root;for(;;){if(M=M.concat(P.segments),0===P.numberOfChildren)return(0,je.of)(M);if(P.numberOfChildren>1||!P.children[dt])return Me(new Error(`Only absolute redirects can have named outlets. redirectTo: '${w.redirectTo}'`));P=P.children[dt]}}applyRedirectCommands(w,_,M){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),w,M)}applyRedirectCreatreUrlTree(w,_,M,P){const B=this.createSegmentGroup(w,_.root,M,P);return new Ee(B,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(w,_){const M={};return Pe(w,(P,B)=>{if("string"==typeof P&&P.startsWith(":")){const ie=P.substring(1);M[B]=_[ie]}else M[B]=P}),M}createSegmentGroup(w,_,M,P){const B=this.createSegments(w,_.segments,M,P);let Y={};return Pe(_.children,(ie,Oe)=>{Y[Oe]=this.createSegmentGroup(w,ie,M,P)}),new Ve(B,Y)}createSegments(w,_,M,P){return _.map(B=>B.path.startsWith(":")?this.findPosParam(w,B,P):this.findOrReturn(B,M))}findPosParam(w,_,M){const P=M[_.path.substring(1)];if(!P)throw new Error(`Cannot redirect to '${w}'. Cannot find '${_.path}'.`);return P}findOrReturn(w,_){let M=0;for(const P of _){if(P.path===w.path)return _.splice(M),P;M++}return w}}function Cs(T){const w={};for(const M of Object.keys(T.children)){const B=Cs(T.children[M]);(B.segments.length>0||B.hasChildren())&&(w[M]=B)}return function Ko(T){if(1===T.numberOfChildren&&T.children[dt]){const w=T.children[dt];return new Ve(T.segments.concat(w.segments),w.children)}return T}(new Ve(T.segments,w))}class Ao{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class ze{constructor(w,_){this.component=w,this.route=_}}function pn(T,w,_){const M=T._root;return qi(M,w?w._root:null,_,[M.value])}function zn(T,w,_){const M=function Ya(T){if(!T)return null;for(let w=T.parent;w;w=w.parent){const _=w.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(w);return(M?M.module.injector:_).get(T)}function qi(T,w,_,M,P={canDeactivateChecks:[],canActivateChecks:[]}){const B=ai(w);return T.children.forEach(Y=>{(function Ts(T,w,_,M,P={canDeactivateChecks:[],canActivateChecks:[]}){const B=T.value,Y=w?w.value:null,ie=_?_.getContext(T.value.outlet):null;if(Y&&B.routeConfig===Y.routeConfig){const Oe=function So(T,w,_){if("function"==typeof _)return _(T,w);switch(_){case"pathParamsChange":return!lt(T.url,w.url);case"pathParamsOrQueryParamsChange":return!lt(T.url,w.url)||!hn(T.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hs(T,w)||!hn(T.queryParams,w.queryParams);default:return!Hs(T,w)}}(Y,B,B.routeConfig.runGuardsAndResolvers);Oe?P.canActivateChecks.push(new Ao(M)):(B.data=Y.data,B._resolvedData=Y._resolvedData),qi(T,w,B.component?ie?ie.children:null:_,M,P),Oe&&ie&&ie.outlet&&ie.outlet.isActivated&&P.canDeactivateChecks.push(new ze(ie.outlet.component,Y))}else Y&&us(w,ie,P),P.canActivateChecks.push(new Ao(M)),qi(T,null,B.component?ie?ie.children:null:_,M,P)})(Y,B[Y.value.outlet],_,M.concat([Y.value]),P),delete B[Y.value.outlet]}),Pe(B,(Y,ie)=>us(Y,_.getContext(ie),P)),P}function us(T,w,_){const M=ai(T),P=T.value;Pe(M,(B,Y)=>{us(B,P.component?w?w.children.getContext(Y):null:w,_)}),_.canDeactivateChecks.push(new ze(P.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,P))}class vi{}function Qo(T){return new ce.y(w=>w.error(T))}class ol{constructor(w,_,M,P,B,Y){this.rootComponentType=w,this.config=_,this.urlTree=M,this.url=P,this.paramsInheritanceStrategy=B,this.relativeLinkResolution=Y}recognize(){const w=De(this.urlTree.root,[],[],this.config.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,w,dt);if(null===_)return null;const M=new _s([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},dt,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Sr(M,_),B=new vs(this.url,P);return this.inheritParamsAndData(B._root),B}inheritParamsAndData(w){const _=w.value,M=$r(_,this.paramsInheritanceStrategy);_.params=Object.freeze(M.params),_.data=Object.freeze(M.data),w.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(w,_,M){return 0===_.segments.length&&_.hasChildren()?this.processChildren(w,_):this.processSegment(w,_,_.segments,M)}processChildren(w,_){const M=[];for(const B of Object.keys(_.children)){const Y=_.children[B],ie=x(w,B),Oe=this.processSegmentGroup(ie,Y,B);if(null===Oe)return null;M.push(...Oe)}const P=Qa(M);return function Xo(T){T.sort((w,_)=>w.value.outlet===dt?-1:_.value.outlet===dt?1:w.value.outlet.localeCompare(_.value.outlet))}(P),P}processSegment(w,_,M,P){for(const B of w){const Y=this.processSegmentAgainstRoute(B,_,M,P);if(null!==Y)return Y}return Qn(_,M,P)?[]:null}processSegmentAgainstRoute(w,_,M,P){if(w.redirectTo||!tn(w,_,M,P))return null;let B,Y=[],ie=[];if("**"===w.path){const Cn=M.length>0?fn(M).parameters:{};B=new _s(M,Cn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xo(w),U(w),w.component,w,ta(_),na(_)+M.length,Gs(w))}else{const Cn=ne(_,w,M);if(!Cn.matched)return null;Y=Cn.consumedSegments,ie=Cn.remainingSegments,B=new _s(Y,Cn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xo(w),U(w),w.component,w,ta(_),na(_)+Y.length,Gs(w))}const Oe=function Eu(T){return T.children?T.children:T.loadChildren?T._loadedConfig.routes:[]}(w),{segmentGroup:_t,slicedSegments:cn}=De(_,Y,ie,Oe.filter(Cn=>void 0===Cn.redirectTo),this.relativeLinkResolution);if(0===cn.length&&_t.hasChildren()){const Cn=this.processChildren(Oe,_t);return null===Cn?null:[new Sr(B,Cn)]}if(0===Oe.length&&0===cn.length)return[new Sr(B,[])];const Tt=U(w)===P,gn=this.processSegment(Oe,_t,cn,Tt?dt:P);return null===gn?null:[new Sr(B,gn)]}}function ea(T){const w=T.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Qa(T){const w=[],_=new Set;for(const M of T){if(!ea(M)){w.push(M);continue}const P=w.find(B=>M.value.routeConfig===B.value.routeConfig);void 0!==P?(P.children.push(...M.children),_.add(P)):w.push(M)}for(const M of _){const P=Qa(M.children);w.push(new Sr(M.value,P))}return w.filter(M=>!_.has(M))}function ta(T){let w=T;for(;w._sourceSegment;)w=w._sourceSegment;return w}function na(T){let w=T,_=w._segmentIndexShift?w._segmentIndexShift:0;for(;w._sourceSegment;)w=w._sourceSegment,_+=w._segmentIndexShift?w._segmentIndexShift:0;return _-1}function xo(T){return T.data||{}}function Gs(T){return T.resolve||{}}function ul(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}function Jr(T){return(0,Ct.w)(w=>{const _=T(w);return _?(0,de.D)(_).pipe((0,Kt.U)(()=>w)):(0,je.of)(w)})}class Iu extends class dr{shouldDetach(w){return!1}store(w,_){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,_){return w.routeConfig===_.routeConfig}}{}const ll=new b.OlP("ROUTES");class uc{constructor(w,_,M,P){this.injector=w,this.compiler=_,this.onLoadStartListener=M,this.onLoadEndListener=P}load(w,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const P=this.loadModuleFactory(_.loadChildren).pipe((0,Kt.U)(B=>{this.onLoadEndListener&&this.onLoadEndListener(_);const Y=B.create(w);return new wa(rr(Y.injector.get(ll,void 0,b.XFs.Self|b.XFs.Optional)).map(O),Y)}),Te(B=>{throw _._loader$=void 0,B}));return _._loader$=new Fe(P,()=>new h.x).pipe(qe()),_._loader$}loadModuleFactory(w){return ut(w()).pipe((0,zt.z)(_=>_ instanceof b.YKP?(0,je.of)(_):(0,de.D)(this.compiler.compileModuleAsync(_))))}}class Du{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,_){return w}}function qs(T){throw T}function ra(T,w,_){return w.parse("/")}function Ia(T,w){return(0,je.of)(null)}const ia={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Or={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class T{constructor(_,M,P,B,Y,ie,Oe){this.rootComponentType=_,this.urlSerializer=M,this.rootContexts=P,this.location=B,this.config=Oe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new h.x,this.errorHandler=qs,this.malformedUriErrorHandler=ra,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ia,afterPreactivation:Ia},this.urlHandlingStrategy=new Du,this.routeReuseStrategy=new Iu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Y.get(b.h0i),this.console=Y.get(b.c2e);const Tt=Y.get(b.R0b);this.isNgZoneEnabled=Tt instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(Oe),this.currentUrlTree=function Nt(){return new Ee(new Ve([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uc(Y,ie,gn=>this.triggerEvent(new Dn(gn)),gn=>this.triggerEvent(new er(gn))),this.routerState=Vn(this.currentUrlTree,this.rootComponentType),this.transitions=new j({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const M=this.events;return _.pipe((0,Ie.h)(P=>0!==P.id),(0,Kt.U)(P=>Object.assign(Object.assign({},P),{extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Ct.w)(P=>{let B=!1,Y=!1;return(0,je.of)(P).pipe((0,Yt.b)(ie=>{this.currentNavigation={id:ie.id,initialUrl:ie.currentRawUrl,extractedUrl:ie.extractedUrl,trigger:ie.source,extras:ie.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ct.w)(ie=>{const Oe=this.browserUrlTree.toString(),_t=!this.navigated||ie.extractedUrl.toString()!==Oe||Oe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_t)&&this.urlHandlingStrategy.shouldProcessUrl(ie.rawUrl))return ls(ie.source)&&(this.browserUrlTree=ie.extractedUrl),(0,je.of)(ie).pipe((0,Ct.w)(Tt=>{const gn=this.transitions.getValue();return M.next(new _r(Tt.id,this.serializeUrl(Tt.extractedUrl),Tt.source,Tt.restoredState)),gn!==this.transitions.getValue()?he.E:Promise.resolve(Tt)}),function sc(T,w,_,M){return(0,Ct.w)(P=>function Ea(T,w,_,M,P){return new Gi(T,w,_,M,P).apply()}(T,w,_,P.extractedUrl,M).pipe((0,Kt.U)(B=>Object.assign(Object.assign({},P),{urlAfterRedirects:B}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yt.b)(Tt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Tt.urlAfterRedirects})}),function bu(T,w,_,M,P){return(0,zt.z)(B=>function Jo(T,w,_,M,P="emptyOnly",B="legacy"){try{const Y=new ol(T,w,_,M,P,B).recognize();return null===Y?Qo(new vi):(0,je.of)(Y)}catch(Y){return Qo(Y)}}(T,w,B.urlAfterRedirects,_(B.urlAfterRedirects),M,P).pipe((0,Kt.U)(Y=>Object.assign(Object.assign({},B),{targetSnapshot:Y}))))}(this.rootComponentType,this.config,Tt=>this.serializeUrl(Tt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yt.b)(Tt=>{if("eager"===this.urlUpdateStrategy){if(!Tt.extras.skipLocationChange){const Cn=this.urlHandlingStrategy.merge(Tt.urlAfterRedirects,Tt.rawUrl);this.setBrowserUrl(Cn,Tt)}this.browserUrlTree=Tt.urlAfterRedirects}const gn=new Ar(Tt.id,this.serializeUrl(Tt.extractedUrl),this.serializeUrl(Tt.urlAfterRedirects),Tt.targetSnapshot);M.next(gn)}));if(_t&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:gn,extractedUrl:Cn,source:Zi,restoredState:Ki,extras:aa}=ie,Ss=new _r(gn,this.serializeUrl(Cn),Zi,Ki);M.next(Ss);const wi=Vn(Cn,this.rootComponentType).snapshot;return(0,je.of)(Object.assign(Object.assign({},ie),{targetSnapshot:wi,urlAfterRedirects:Cn,extras:Object.assign(Object.assign({},aa),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ie.rawUrl,ie.resolve(null),he.E}),Jr(ie=>{const{targetSnapshot:Oe,id:_t,extractedUrl:cn,rawUrl:Tt,extras:{skipLocationChange:gn,replaceUrl:Cn}}=ie;return this.hooks.beforePreactivation(Oe,{navigationId:_t,appliedUrlTree:cn,rawUrlTree:Tt,skipLocationChange:!!gn,replaceUrl:!!Cn})}),(0,Yt.b)(ie=>{const Oe=new ms(ie.id,this.serializeUrl(ie.extractedUrl),this.serializeUrl(ie.urlAfterRedirects),ie.targetSnapshot);this.triggerEvent(Oe)}),(0,Kt.U)(ie=>Object.assign(Object.assign({},ie),{guards:pn(ie.targetSnapshot,ie.currentSnapshot,this.rootContexts)})),function oc(T,w){return(0,zt.z)(_=>{const{targetSnapshot:M,currentSnapshot:P,guards:{canActivateChecks:B,canDeactivateChecks:Y}}=_;return 0===Y.length&&0===B.length?(0,je.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function ac(T,w,_,M){return(0,de.D)(T).pipe((0,zt.z)(P=>function Yo(T,w,_,M,P){const B=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!B||0===B.length)return(0,je.of)(!0);const Y=B.map(ie=>{const Oe=zn(ie,w,P);let _t;if(function Gn(T){return T&&li(T.canDeactivate)}(Oe))_t=ut(Oe.canDeactivate(T,w,_,M));else{if(!li(Oe))throw new Error("Invalid CanDeactivate guard");_t=ut(Oe(T,w,_,M))}return _t.pipe((0,yn.P)())});return(0,je.of)(Y).pipe(qo())}(P.component,P.route,_,w,M)),(0,yn.P)(P=>!0!==P,!0))}(Y,M,P,T).pipe((0,zt.z)(ie=>ie&&function wu(T){return"boolean"==typeof T}(ie)?function ba(T,w,_,M){return(0,de.D)(w).pipe((0,kr.b)(P=>(0,mt.z)(function Qr(T,w){return null!==T&&w&&w(new gi(T)),(0,je.of)(!0)}(P.route.parent,M),function Ca(T,w){return null!==T&&w&&w(new tr(T)),(0,je.of)(!0)}(P.route,M),function Mo(T,w,_){const M=w[w.length-1],B=w.slice(0,w.length-1).reverse().map(Y=>function Ka(T){const w=T.routeConfig?T.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:T,guards:w}:null}(Y)).filter(Y=>null!==Y).map(Y=>gt(()=>{const ie=Y.guards.map(Oe=>{const _t=zn(Oe,Y.node,_);let cn;if(function as(T){return T&&li(T.canActivateChild)}(_t))cn=ut(_t.canActivateChild(M,T));else{if(!li(_t))throw new Error("Invalid CanActivateChild guard");cn=ut(_t(M,T))}return cn.pipe((0,yn.P)())});return(0,je.of)(ie).pipe(qo())}));return(0,je.of)(B).pipe(qo())}(T,P.path,_),function Is(T,w,_){const M=w.routeConfig?w.routeConfig.canActivate:null;if(!M||0===M.length)return(0,je.of)(!0);const P=M.map(B=>gt(()=>{const Y=zn(B,w,_);let ie;if(function $s(T){return T&&li(T.canActivate)}(Y))ie=ut(Y.canActivate(w,T));else{if(!li(Y))throw new Error("Invalid CanActivate guard");ie=ut(Y(w,T))}return ie.pipe((0,yn.P)())}));return(0,je.of)(P).pipe(qo())}(T,P.route,_))),(0,yn.P)(P=>!0!==P,!0))}(M,B,T,w):(0,je.of)(ie)),(0,Kt.U)(ie=>Object.assign(Object.assign({},_),{guardsResult:ie})))})}(this.ngModule.injector,ie=>this.triggerEvent(ie)),(0,Yt.b)(ie=>{if(Mr(ie.guardsResult)){const _t=Mi(`Redirecting to "${this.serializeUrl(ie.guardsResult)}"`);throw _t.url=ie.guardsResult,_t}const Oe=new Mt(ie.id,this.serializeUrl(ie.extractedUrl),this.serializeUrl(ie.urlAfterRedirects),ie.targetSnapshot,!!ie.guardsResult);this.triggerEvent(Oe)}),(0,Ie.h)(ie=>!!ie.guardsResult||(this.restoreHistory(ie),this.cancelNavigationTransition(ie,""),!1)),Jr(ie=>{if(ie.guards.canActivateChecks.length)return(0,je.of)(ie).pipe((0,Yt.b)(Oe=>{const _t=new Zr(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(_t)}),(0,Ct.w)(Oe=>{let _t=!1;return(0,je.of)(Oe).pipe(function Cu(T,w){return(0,zt.z)(_=>{const{targetSnapshot:M,guards:{canActivateChecks:P}}=_;if(!P.length)return(0,je.of)(_);let B=0;return(0,de.D)(P).pipe((0,kr.b)(Y=>function Tu(T,w,_,M){return function io(T,w,_,M){const P=ul(T);if(0===P.length)return(0,je.of)({});const B={};return(0,de.D)(P).pipe((0,zt.z)(Y=>function Ta(T,w,_,M){const P=zn(T,w,M);return ut(P.resolve?P.resolve(w,_):P(w,_))}(T[Y],w,_,M).pipe((0,Yt.b)(ie=>{B[Y]=ie}))),xe(1),(0,zt.z)(()=>ul(B).length===P.length?(0,je.of)(B):he.E))}(T._resolve,T,w,M).pipe((0,Kt.U)(B=>(T._resolvedData=B,T.data=Object.assign(Object.assign({},T.data),$r(T,_).resolve),null)))}(Y.route,M,T,w)),(0,Yt.b)(()=>B++),xe(1),(0,zt.z)(Y=>B===P.length?(0,je.of)(_):he.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yt.b)({next:()=>_t=!0,complete:()=>{_t||(this.restoreHistory(Oe),this.cancelNavigationTransition(Oe,"At least one route resolver didn't emit any value."))}}))}),(0,Yt.b)(Oe=>{const _t=new ur(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(_t)}))}),Jr(ie=>{const{targetSnapshot:Oe,id:_t,extractedUrl:cn,rawUrl:Tt,extras:{skipLocationChange:gn,replaceUrl:Cn}}=ie;return this.hooks.afterPreactivation(Oe,{navigationId:_t,appliedUrlTree:cn,rawUrlTree:Tt,skipLocationChange:!!gn,replaceUrl:!!Cn})}),(0,Kt.U)(ie=>{const Oe=function ss(T,w,_){const M=wr(T,w._root,_?_._root:void 0);return new vr(M,w)}(this.routeReuseStrategy,ie.targetSnapshot,ie.currentRouterState);return Object.assign(Object.assign({},ie),{targetRouterState:Oe})}),(0,Yt.b)(ie=>{this.currentUrlTree=ie.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ie.urlAfterRedirects,ie.rawUrl),this.routerState=ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ie.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ie),this.browserUrlTree=ie.urlAfterRedirects)}),((T,w,_)=>(0,Kt.U)(M=>(new Do(w,M.targetRouterState,M.currentRouterState,_).activate(T),M)))(this.rootContexts,this.routeReuseStrategy,ie=>this.triggerEvent(ie)),(0,Yt.b)({next(){B=!0},complete(){B=!0}}),function Tn(T){return(0,Ge.e)((w,_)=>{try{w.subscribe(_)}finally{_.add(T)}})}(()=>{var ie;B||Y||this.cancelNavigationTransition(P,`Navigation ID ${P.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ie=this.currentNavigation)||void 0===ie?void 0:ie.id)===P.id&&(this.currentNavigation=null)}),Te(ie=>{if(Y=!0,function _n(T){return T&&T[Hr]}(ie)){const Oe=Mr(ie.url);Oe||(this.navigated=!0,this.restoreHistory(P,!0));const _t=new si(P.id,this.serializeUrl(P.extractedUrl),ie.message);M.next(_t),Oe?setTimeout(()=>{const cn=this.urlHandlingStrategy.merge(ie.url,this.rawUrlTree),Tt={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ls(P.source)};this.scheduleNavigation(cn,"imperative",null,Tt,{resolve:P.resolve,reject:P.reject,promise:P.promise})},0):P.resolve(!1)}else{this.restoreHistory(P,!0);const Oe=new Dr(P.id,this.serializeUrl(P.extractedUrl),ie);M.next(Oe);try{P.resolve(this.errorHandler(ie))}catch(_t){P.reject(_t)}}return he.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const M="popstate"===_.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{var P;const B={replaceUrl:!0},Y=(null===(P=_.state)||void 0===P?void 0:P.navigationId)?_.state:null;if(Y){const Oe=Object.assign({},Y);delete Oe.navigationId,delete Oe.\u0275routerPageId,0!==Object.keys(Oe).length&&(B.state=Oe)}const ie=this.parseUrl(_.url);this.scheduleNavigation(ie,M,Y,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){bs(_),this.config=_.map(O),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,M={}){const{relativeTo:P,queryParams:B,fragment:Y,queryParamsHandling:ie,preserveFragment:Oe}=M,_t=P||this.routerState.root,cn=Oe?this.currentUrlTree.fragment:Y;let Tt=null;switch(ie){case"merge":Tt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),B);break;case"preserve":Tt=this.currentUrlTree.queryParams;break;default:Tt=B||null}return null!==Tt&&(Tt=this.removeEmptyProps(Tt)),function _u(T,w,_,M,P){if(0===_.length)return Kr(w.root,w.root,w.root,M,P);const B=function ic(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new $o(!0,0,T);let w=0,_=!1;const M=T.reduce((P,B,Y)=>{if("object"==typeof B&&null!=B){if(B.outlets){const ie={};return Pe(B.outlets,(Oe,_t)=>{ie[_t]="string"==typeof Oe?Oe.split("/"):Oe}),[...P,{outlets:ie}]}if(B.segmentPath)return[...P,B.segmentPath]}return"string"!=typeof B?[...P,B]:0===Y?(B.split("/").forEach((ie,Oe)=>{0==Oe&&"."===ie||(0==Oe&&""===ie?_=!0:".."===ie?w++:""!=ie&&P.push(ie))}),P):[...P,B]},[]);return new $o(_,w,M)}(_);if(B.toRoot())return Kr(w.root,w.root,new Ve([],{}),M,P);const Y=function To(T,w,_){if(T.isAbsolute)return new vu(w.root,!0,0);if(-1===_.snapshot._lastPathIndex){const B=_.snapshot._urlSegment;return new vu(B,B===w.root,0)}const M=to(T.commands[0])?0:1;return function no(T,w,_){let M=T,P=w,B=_;for(;B>P;){if(B-=P,M=M.parent,!M)throw new Error("Invalid number of '../'");P=M.segments.length}return new vu(M,!1,P-B)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+M,T.numberOfDoubleDots)}(B,w,T),ie=Y.processChildren?xi(Y.segmentGroup,Y.index,B.commands):_a(Y.segmentGroup,Y.index,B.commands);return Kr(w.root,Y.segmentGroup,ie,M,P)}(_t,this.currentUrlTree,_,Tt,null!=cn?cn:null)}navigateByUrl(_,M={skipLocationChange:!1}){const P=Mr(_)?_:this.parseUrl(_),B=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(B,"imperative",null,M)}navigate(_,M={skipLocationChange:!1}){return function Da(T){for(let w=0;w<T.length;w++){const _=T[w];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${w}`)}}(_),this.navigateByUrl(this.createUrlTree(_,M),M)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let M;try{M=this.urlSerializer.parse(_)}catch(P){M=this.malformedUriErrorHandler(P,this.urlSerializer,_)}return M}isActive(_,M){let P;if(P=!0===M?Object.assign({},ia):!1===M?Object.assign({},Or):M,Mr(_))return se(this.currentUrlTree,_,P);const B=this.parseUrl(_);return se(this.currentUrlTree,B,P)}removeEmptyProps(_){return Object.keys(_).reduce((M,P)=>{const B=_[P];return null!=B&&(M[P]=B),M},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new Wr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,M,P,B,Y){var ie,Oe;if(this.disposed)return Promise.resolve(!1);let _t,cn,Tt;Y?(_t=Y.resolve,cn=Y.reject,Tt=Y.promise):Tt=new Promise((Zi,Ki)=>{_t=Zi,cn=Ki});const gn=++this.navigationId;let Cn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),Cn=P&&P.\u0275routerPageId?P.\u0275routerPageId:B.replaceUrl||B.skipLocationChange?null!==(ie=this.browserPageId)&&void 0!==ie?ie:0:(null!==(Oe=this.browserPageId)&&void 0!==Oe?Oe:0)+1):Cn=0,this.setTransition({id:gn,targetPageId:Cn,source:M,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:B,resolve:_t,reject:cn,promise:Tt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tt.catch(Zi=>Promise.reject(Zi))}setBrowserUrl(_,M){const P=this.urlSerializer.serialize(_),B=Object.assign(Object.assign({},M.extras.state),this.generateNgRouterState(M.id,M.targetPageId));this.location.isCurrentPathEqualTo(P)||M.extras.replaceUrl?this.location.replaceState(P,"",B):this.location.go(P,"",B)}restoreHistory(_,M=!1){var P,B;if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(P=this.currentNavigation)||void 0===P?void 0:P.finalUrl)||0===Y?this.currentUrlTree===(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)&&0===Y&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Y)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,M){const P=new si(_.id,this.serializeUrl(_.extractedUrl),M);this.triggerEvent(P),_.resolve(!1)}generateNgRouterState(_,M){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:M}:{navigationId:_}}}return T.\u0275fac=function(_){b.$Z()},T.\u0275prov=b.Yz7({token:T,factory:T.\u0275fac}),T})();function ls(T){return"imperative"!==T}let zs=(()=>{class T{constructor(_,M,P){this.router=_,this.route=M,this.locationStrategy=P,this.commands=null,this.href=null,this.onChanges=new h.x,this.subscription=_.events.subscribe(B=>{B instanceof Wr&&this.updateTargetUrlAndHref()})}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,M,P,B,Y){if(0!==_||M||P||B||Y||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ie={skipLocationChange:ao(this.skipLocationChange),replaceUrl:ao(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ie),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ao(this.preserveFragment)})}}return T.\u0275fac=function(_){return new(_||T)(b.Y36(ci),b.Y36(ys),b.Y36(jn.S$))},T.\u0275dir=b.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,M){1&_&&b.NdJ("click",function(B){return M.onClick(B.button,B.ctrlKey,B.shiftKey,B.altKey,B.metaKey)}),2&_&&b.uIk("target",M.target)("href",M.href,b.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[b.TTD]}),T})();function ao(T){return""===T||!!T}class Su{}class Mu{preload(w,_){return(0,je.of)(null)}}let zi=(()=>{class T{constructor(_,M,P,B){this.router=_,this.injector=P,this.preloadingStrategy=B,this.loader=new uc(P,M,Oe=>_.triggerEvent(new Dn(Oe)),Oe=>_.triggerEvent(new er(Oe)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ie.h)(_=>_ instanceof Wr),(0,kr.b)(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(b.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,M){const P=[];for(const B of M)if(B.loadChildren&&!B.canLoad&&B._loadedConfig){const Y=B._loadedConfig;P.push(this.processRoutes(Y.module,Y.routes))}else B.loadChildren&&!B.canLoad?P.push(this.preloadConfig(_,B)):B.children&&P.push(this.processRoutes(_,B.children));return(0,de.D)(P).pipe((0,Zn.J)(),(0,Kt.U)(B=>{}))}preloadConfig(_,M){return this.preloadingStrategy.preload(M,()=>(M._loadedConfig?(0,je.of)(M._loadedConfig):this.loader.load(_.injector,M)).pipe((0,zt.z)(B=>(M._loadedConfig=B,this.processRoutes(B.module,B.routes)))))}}return T.\u0275fac=function(_){return new(_||T)(b.LFG(ci),b.LFG(b.Sil),b.LFG(b.zs3),b.LFG(Su))},T.\u0275prov=b.Yz7({token:T,factory:T.\u0275fac}),T})(),uo=(()=>{class T{constructor(_,M,P={}){this.router=_,this.viewportScroller=M,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof _r?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Wr&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof jr&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,M){this.router.triggerEvent(new jr(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(_){b.$Z()},T.\u0275prov=b.Yz7({token:T,factory:T.\u0275fac}),T})();const Ds=new b.OlP("ROUTER_CONFIGURATION"),As=new b.OlP("ROUTER_FORROOT_GUARD"),Ou=[jn.Ye,{provide:$n,useClass:fr},{provide:ci,useFactory:function Th(T,w,_,M,P,B,Y={},ie,Oe){const _t=new ci(null,T,w,_,M,P,rr(B));return ie&&(_t.urlHandlingStrategy=ie),Oe&&(_t.routeReuseStrategy=Oe),function cl(T,w){T.errorHandler&&(w.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(w.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(w.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(w.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(w.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(w.canceledNavigationResolution=T.canceledNavigationResolution)}(Y,_t),Y.enableTracing&&_t.events.subscribe(cn=>{var Tt,gn;null===(Tt=console.group)||void 0===Tt||Tt.call(console,`Router Event: ${cn.constructor.name}`),console.log(cn.toString()),console.log(cn),null===(gn=console.groupEnd)||void 0===gn||gn.call(console)}),_t},deps:[$n,ji,jn.Ye,b.zs3,b.Sil,ll,Ds,[class Ja{},new b.FiY],[class so{},new b.FiY]]},ji,{provide:ys,useFactory:function lc(T){return T.routerState.root},deps:[ci]},zi,Mu,class _d{preload(w,_){return _().pipe(Te(()=>(0,je.of)(null)))}},{provide:Ds,useValue:{enableTracing:!1}}];function Er(){return new b.PXZ("Router",ci)}let Ws=(()=>{class T{constructor(_,M){}static forRoot(_,M){return{ngModule:T,providers:[Ou,lo(_),{provide:As,useFactory:sa,deps:[[ci,new b.FiY,new b.tp0]]},{provide:Ds,useValue:M||{}},{provide:jn.S$,useFactory:Zs,deps:[jn.lw,[new b.tBr(jn.mr),new b.FiY],Ds]},{provide:uo,useFactory:Ru,deps:[ci,jn.EM,Ds]},{provide:Su,useExisting:M&&M.preloadingStrategy?M.preloadingStrategy:Mu},{provide:b.PXZ,multi:!0,useFactory:Er},[oa,{provide:b.ip1,multi:!0,useFactory:Xa,deps:[oa]},{provide:ho,useFactory:co,deps:[oa]},{provide:b.tb,multi:!0,useExisting:ho}]]}}static forChild(_){return{ngModule:T,providers:[lo(_)]}}}return T.\u0275fac=function(_){return new(_||T)(b.LFG(As,8),b.LFG(ci,8))},T.\u0275mod=b.oAB({type:T}),T.\u0275inj=b.cJS({}),T})();function Ru(T,w,_){return _.scrollOffset&&w.setOffset(_.scrollOffset),new uo(T,w,_)}function Zs(T,w,_={}){return _.useHash?new jn.Do(T,w):new jn.b0(T,w)}function sa(T){return"guarded"}function lo(T){return[{provide:b.deG,multi:!0,useValue:T},{provide:ll,multi:!0,useValue:T}]}let oa=(()=>{class T{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new h.x}appInitializer(){return this.injector.get(jn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let M=null;const P=new Promise(ie=>M=ie),B=this.injector.get(ci),Y=this.injector.get(Ds);return"disabled"===Y.initialNavigation?(B.setUpLocationChangeListener(),M(!0)):"enabled"===Y.initialNavigation||"enabledBlocking"===Y.initialNavigation?(B.hooks.afterPreactivation=()=>this.initNavigation?(0,je.of)(null):(this.initNavigation=!0,M(!0),this.resultOfPreactivationDone),B.initialNavigation()):M(!0),P})}bootstrapListener(_){const M=this.injector.get(Ds),P=this.injector.get(zi),B=this.injector.get(uo),Y=this.injector.get(ci),ie=this.injector.get(b.z2F);_===ie.components[0]&&(("enabledNonBlocking"===M.initialNavigation||void 0===M.initialNavigation)&&Y.initialNavigation(),P.setUpPreloading(),B.init(),Y.resetRootComponentType(ie.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return T.\u0275fac=function(_){return new(_||T)(b.LFG(b.zs3))},T.\u0275prov=b.Yz7({token:T,factory:T.\u0275fac}),T})();function Xa(T){return T.appInitializer.bind(T)}function co(T){return T.bootstrapListener.bind(T)}const ho=new b.OlP("Router Initializer")},3942:(vt,Ae,k)=>{k.d(Ae,{Z:()=>Ke});var b=k(2090),h=k(4859),j=k(9681),ce=k(1877);class ae{constructor(Me,Le){this._delegate=Me,this.firebase=Le,(0,j._addComponent)(Me,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Me,Le=j._DEFAULT_ENTRY_NAME){var gt;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(Me);return!rt.isInitialized()&&"EXPLICIT"===(null===(gt=rt.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Le})}_removeServiceInstance(Me,Le=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(Le)}_addComponent(Me){(0,j._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,j._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function we(){const et=function fe(et){const Me={},Le={__esModule:!0,initializeApp:function Ge(ve,mt={}){const he=j.initializeApp(ve,mt);if((0,b.r3)(Me,he.name))return Me[he.name];const Te=new et(he,Le);return Me[he.name]=Te,Te},app:rt,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function Fe(ve){const mt=ve.name,he=mt.replace("-compat","");if(j._registerComponent(ve)&&"PUBLIC"===ve.type){const Te=(Ie=rt())=>{if("function"!=typeof Ie[he])throw ye.create("invalid-app-argument",{appName:mt});return Ie[he]()};void 0!==ve.serviceProps&&(0,b.ZB)(Te,ve.serviceProps),Le[he]=Te,et.prototype[he]=function(...Ie){return this._getService.bind(this,mt).apply(this,ve.multipleInstances?Ie:[])}}return"PUBLIC"===ve.type?Le[he]:null},removeApp:function gt(ve){delete Me[ve]},useAsService:function je(ve,mt){return"serverAuth"===mt?null:mt},modularAPIs:j}};function rt(ve){if(!(0,b.r3)(Me,ve=ve||j._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:ve});return Me[ve]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function qe(){return Object.keys(Me).map(ve=>Me[ve])}}),rt.App=et,Le}(ae);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Me(Le){(0,b.ZB)(et,Le)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),et}(),X=new ce.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=te;!function $e(et){(0,j.registerVersion)("@firebase/app-compat","0.1.21",et)}()},9681:(vt,Ae,k)=>{k.r(Ae),k.d(Ae,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Wr,_DEFAULT_ENTRY_NAME:()=>Kt,_addComponent:()=>xn,_addOrOverwriteComponent:()=>kr,_apps:()=>St,_clearComponents:()=>Zn,_components:()=>kn,_getProvider:()=>zt,_registerComponent:()=>yn,_removeServiceInstance:()=>Yt,deleteApp:()=>ms,getApp:()=>Dr,getApps:()=>Ar,initializeApp:()=>si,onLog:()=>ur,registerVersion:()=>Zr,setLogLevel:()=>Dn});var b=k(5861),h=k(4859),j=k(1877),ce=k(2090);class ae{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function de(ht){const Pe=ht.getComponent();return"VERSION"===(null==Pe?void 0:Pe.type)}(ut)){const Nt=ut.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(ut=>ut).join(" ")}}const ye="@firebase/app",we=new j.Yd("@firebase/app"),Kt="[DEFAULT]",Ct={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},St=new Map,kn=new Map;function xn(ht,Pe){try{ht.container.addComponent(Pe)}catch(ut){we.debug(`Component ${Pe.name} failed to register with FirebaseApp ${ht.name}`,ut)}}function kr(ht,Pe){ht.container.addOrOverwriteComponent(Pe)}function yn(ht){const Pe=ht.name;if(kn.has(Pe))return we.debug(`There were multiple attempts to register component ${Pe}.`),!1;kn.set(Pe,ht);for(const ut of St.values())xn(ut,ht);return!0}function zt(ht,Pe){const ut=ht.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),ht.container.getProvider(Pe)}function Yt(ht,Pe,ut=Kt){zt(ht,Pe).clearInstance(ut)}function Zn(){kn.clear()}const Yn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class _r{constructor(Pe,ut,Nt){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const Wr="9.6.10";function si(ht,Pe={}){"object"!=typeof Pe&&(Pe={name:Pe});const ut=Object.assign({name:Kt,automaticDataCollectionEnabled:!1},Pe),Nt=ut.name;if("string"!=typeof Nt||!Nt)throw Yn.create("bad-app-name",{appName:String(Nt)});const on=St.get(Nt);if(on){if((0,ce.vZ)(ht,on.options)&&(0,ce.vZ)(ut,on.config))return on;throw Yn.create("duplicate-app",{appName:Nt})}const rn=new h.H0(Nt);for(const J of kn.values())rn.addComponent(J);const se=new _r(ht,ut,rn);return St.set(Nt,se),se}function Dr(ht=Kt){const Pe=St.get(ht);if(!Pe)throw Yn.create("no-app",{appName:ht});return Pe}function Ar(){return Array.from(St.values())}function ms(ht){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,b.Z)(function*(ht){const Pe=ht.name;St.has(Pe)&&(St.delete(Pe),yield Promise.all(ht.container.getProviders().map(ut=>ut.delete())),ht.isDeleted=!0)})).apply(this,arguments)}function Zr(ht,Pe,ut){var Nt;let on=null!==(Nt=Ct[ht])&&void 0!==Nt?Nt:ht;ut&&(on+=`-${ut}`);const rn=on.match(/\s|\//),se=Pe.match(/\s|\//);if(rn||se){const J=[`Unable to register library "${on}" with version "${Pe}":`];return rn&&J.push(`library name "${on}" contains illegal characters (whitespace or "/")`),rn&&se&&J.push("and"),se&&J.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void we.warn(J.join(" "))}yn(new h.wA(`${on}-version`,()=>({library:on,version:Pe}),"VERSION"))}function ur(ht,Pe){if(null!==ht&&"function"!=typeof ht)throw Yn.create("invalid-log-argument");(0,j.Am)(ht,Pe)}function Dn(ht){(0,j.Ub)(ht)}const lr="firebase-heartbeat-store";let tr=null;function Br(){return tr||(tr=(0,ce.X3)("firebase-heartbeat-database",1,(ht,Pe)=>{0===Pe&&ht.createObjectStore(lr)}).catch(ht=>{throw Yn.create("storage-open",{originalErrorMessage:ht.message})})),tr}function dt(){return(dt=(0,b.Z)(function*(ht){try{return(yield Br()).transaction(lr).objectStore(lr).get(Hr(ht))}catch(Pe){throw Yn.create("storage-get",{originalErrorMessage:Pe.message})}})).apply(this,arguments)}function xt(ht,Pe){return yt.apply(this,arguments)}function yt(){return(yt=(0,b.Z)(function*(ht,Pe){try{const Nt=(yield Br()).transaction(lr,"readwrite");return yield Nt.objectStore(lr).put(Pe,Hr(ht)),Nt.complete}catch(ut){throw Yn.create("storage-set",{originalErrorMessage:ut.message})}})).apply(this,arguments)}function Hr(ht){return`${ht.name}!${ht.options.appId}`}class is{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new kt(ut),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var Pe=this;return(0,b.Z)(function*(){const Nt=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),on=nr();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==on&&!Pe._heartbeatsCache.heartbeats.some(rn=>rn.date===on))return Pe._heartbeatsCache.heartbeats.push({date:on,agent:Nt}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(rn=>{const se=new Date(rn.date).valueOf();return Date.now()-se<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,b.Z)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const ut=nr(),{heartbeatsToSend:Nt,unsentEntries:on}=function hn(ht,Pe=1024){const ut=[];let Nt=ht.slice();for(const on of ht){const rn=ut.find(se=>se.agent===on.agent);if(rn){if(rn.dates.push(on.date),rr(ut)>Pe){rn.dates.pop();break}}else if(ut.push({agent:on.agent,dates:[on.date]}),rr(ut)>Pe){ut.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:ut,unsentEntries:Nt}}(Pe._heartbeatsCache.heartbeats),rn=(0,ce.L)(JSON.stringify({version:2,heartbeats:Nt}));return Pe._heartbeatsCache.lastSentHeartbeatDate=ut,on.length>0?(Pe._heartbeatsCache.heartbeats=on,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),rn})()}}function nr(){return(new Date).toISOString().substring(0,10)}class kt{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,b.Z)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function jr(ht){return dt.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var ut=this;return(0,b.Z)(function*(){var Nt;if(yield ut._canUseIndexedDBPromise){const rn=yield ut.read();return xt(ut.app,{lastSentHeartbeatDate:null!==(Nt=Pe.lastSentHeartbeatDate)&&void 0!==Nt?Nt:rn.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var ut=this;return(0,b.Z)(function*(){var Nt;if(yield ut._canUseIndexedDBPromise){const rn=yield ut.read();return xt(ut.app,{lastSentHeartbeatDate:null!==(Nt=Pe.lastSentHeartbeatDate)&&void 0!==Nt?Nt:rn.lastSentHeartbeatDate,heartbeats:[...rn.heartbeats,...Pe.heartbeats]})}})()}}function rr(ht){return(0,ce.L)(JSON.stringify({version:2,heartbeats:ht})).length}!function fn(ht){yn(new h.wA("platform-logger",Pe=>new ae(Pe),"PRIVATE")),yn(new h.wA("heartbeat",Pe=>new is(Pe),"PRIVATE")),Zr(ye,"0.7.20",ht),Zr(ye,"0.7.20","esm2017"),Zr("fire-js","")}("")},4859:(vt,Ae,k)=>{k.d(Ae,{H0:()=>fe,wA:()=>j});var b=k(5861),h=k(2090);class j{constructor(te,X,pe){this.name=te,this.instanceFactory=X,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const ce="[DEFAULT]";class ae{constructor(te,X){this.name=te,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const X=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(X)){const pe=new h.BH;if(this.instancesDeferred.set(X,pe),this.isInitialized(X)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:X});tt&&pe.resolve(tt)}catch(tt){}}return this.instancesDeferred.get(X).promise}getImmediate(te){var X;const pe=this.normalizeInstanceIdentifier(null==te?void 0:te.identifier),tt=null!==(X=null==te?void 0:te.optional)&&void 0!==X&&X;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch($e){if(tt)return null;throw $e}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function ye(we){return"EAGER"===we.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(X){}for(const[X,pe]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(X);try{const $e=this.getOrInitializeService({instanceIdentifier:tt});pe.resolve($e)}catch($e){}}}}clearInstance(te=ce){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,b.Z)(function*(){const X=Array.from(te.instances.values());yield Promise.all([...X.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...X.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=ce){return this.instances.has(te)}getOptions(te=ce){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:X={}}=te,pe=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:pe,options:X});for(const[$e,Ke]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier($e)&&Ke.resolve(tt);return tt}onInit(te,X){var pe;const tt=this.normalizeInstanceIdentifier(X),$e=null!==(pe=this.onInitCallbacks.get(tt))&&void 0!==pe?pe:new Set;$e.add(te),this.onInitCallbacks.set(tt,$e);const Ke=this.instances.get(tt);return Ke&&te(Ke,tt),()=>{$e.delete(te)}}invokeOnInitCallbacks(te,X){const pe=this.onInitCallbacks.get(X);if(pe)for(const tt of pe)try{tt(te,X)}catch($e){}}getOrInitializeService({instanceIdentifier:te,options:X={}}){let pe=this.instances.get(te);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(we=te,we===ce?void 0:we),options:X}),this.instances.set(te,pe),this.instancesOptions.set(te,X),this.invokeOnInitCallbacks(pe,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,pe)}catch(tt){}var we;return pe||null}normalizeInstanceIdentifier(te=ce){return this.component?this.component.multipleInstances?te:ce:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const X=this.getProvider(te.name);if(X.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);X.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const X=new ae(te,this);return this.providers.set(te,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Ae,k)=>{k.d(Ae,{Am:()=>we,Ub:()=>fe,Yd:()=>ye,in:()=>h});const b=[];var h=(()=>{return(te=h||(h={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",h;var te})();const j={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},ce=h.INFO,ae={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},de=(te,X,...pe)=>{if(X<te.logLevel)return;const tt=(new Date).toISOString(),$e=ae[X];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[$e](`[${tt}]  ${te.name}:`,...pe)};class ye{constructor(X){this.name=X,this._logLevel=ce,this._logHandler=de,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in h))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?j[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...X),this._logHandler(this,h.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...X),this._logHandler(this,h.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,h.INFO,...X),this._logHandler(this,h.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,h.WARN,...X),this._logHandler(this,h.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...X),this._logHandler(this,h.ERROR,...X)}}function fe(te){b.forEach(X=>{X.setLogLevel(te)})}function we(te,X){for(const pe of b){let tt=null;X&&X.level&&(tt=j[X.level]),pe.userLogHandler=null===te?null:($e,Ke,...et)=>{const Me=et.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch(gt){return null}}).filter(Le=>Le).join(" ");Ke>=(null!=tt?tt:$e.logLevel)&&te({level:h[Ke].toLowerCase(),message:Me,args:et,type:$e.name})}}}},5861:(vt,Ae,k)=>{function b(j,ce,ae,de,ye,fe,we){try{var te=j[fe](we),X=te.value}catch(pe){return void ae(pe)}te.done?ce(X):Promise.resolve(X).then(de,ye)}function h(j){return function(){var ce=this,ae=arguments;return new Promise(function(de,ye){var fe=j.apply(ce,ae);function we(X){b(fe,de,ye,we,te,"next",X)}function te(X){b(fe,de,ye,we,te,"throw",X)}we(void 0)})}}k.d(Ae,{Z:()=>h})}},vt=>{vt(vt.s=1205)}]);