"use strict";(self.webpackChunkSalaDeJuegos2022=self.webpackChunkSalaDeJuegos2022||[]).push([[179],{2011:(xt,Ue,k)=>{k.d(Ue,{Dh:()=>ve,GT:()=>_e,cc:()=>Ye,hO:()=>at,on:()=>re,pX:()=>de,xv:()=>Ae});var y=k(5e3),p=k(127),V=k(5813);xt=k.hmd(xt);const le=["ngOnDestroy"],de=(ze,It,yt,Ne={})=>new Proxy(ze,{get:(ge,xe)=>yt.runOutsideAngular(()=>{var Ge;if(ze[xe])return(null===(Ge=null==Ne?void 0:Ne.spy)||void 0===Ge?void 0:Ge.get)&&Ne.spy.get(xe,ze[xe]),ze[xe];if(le.indexOf(xe)>-1)return()=>{};const ye=It.toPromise().then(ot=>{const me=ot&&ot[xe];return"function"==typeof me?me.bind(ot):me&&me.then?me.then(Pe=>yt.run(()=>Pe)):yt.run(()=>me)});return new Proxy(()=>{},{get:(ot,me)=>ye[me],apply:(ot,me,Pe)=>ye.then(Re=>{var Be;const ct=Re&&Re(...Pe);return(null===(Be=null==Ne?void 0:Ne.spy)||void 0===Be?void 0:Be.apply)&&Ne.spy.apply(xe,Pe,ct),ct})})})}),_e=(ze,It)=>{It.forEach(yt=>{Object.getOwnPropertyNames(yt.prototype||yt).forEach(Ne=>{Object.defineProperty(ze.prototype,Ne,Object.getOwnPropertyDescriptor(yt.prototype||yt,Ne))})})};class Ee{constructor(It){return It}}const ve=new y.OlP("angularfire2.app.options"),Ae=new y.OlP("angularfire2.app.name");function re(ze,It,yt){const ge="object"==typeof yt&&yt||{};ge.name=ge.name||"string"==typeof yt&&yt||"[DEFAULT]";const Ge=p.Z.apps.filter(ye=>ye&&ye.name===ge.name)[0]||It.runOutsideAngular(()=>p.Z.initializeApp(ze,ge));try{JSON.stringify(ze)!==JSON.stringify(Ge.options)&&ne("error",`${Ge.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ye){}return new Ee(Ge)}const ne=(ze,...It)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[ze](...It)},we={provide:Ee,useFactory:re,deps:[ve,y.R0b,[new y.FiY,Ae]]};let at=(()=>{class ze{constructor(yt){p.Z.registerVersion("angularfire",V.q4.full,"core"),p.Z.registerVersion("angularfire",V.q4.full,"app-compat"),p.Z.registerVersion("angular",y.q4F.full,yt.toString())}static initializeApp(yt,Ne){return{ngModule:ze,providers:[{provide:ve,useValue:yt},{provide:Ae,useValue:Ne}]}}}return ze.\u0275fac=function(yt){return new(yt||ze)(y.LFG(y.Lbi))},ze.\u0275mod=y.oAB({type:ze}),ze.\u0275inj=y.cJS({providers:[we]}),ze})();function Ye(ze,It,yt,Ne,ge){const[,xe,Ge]=globalThis.\u0275AngularfireInstanceCache.find(ye=>ye[0]===ze)||[];if(xe)return function et(ze,It){try{return ze.toString()===It.toString()}catch(yt){return ze===It}}(ge,Ge)||(Fe("error",`${It} was already initialized on the ${yt} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:ge,was:Ge})),xe;{const ye=Ne();return globalThis.\u0275AngularfireInstanceCache.push([ze,ye,ge]),ye}}const nt=!!xt.hot,Fe=(ze,...It)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[ze](...It)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(xt,Ue,k)=>{k.d(Ue,{q4:()=>eu,iC:()=>bl,fc:()=>pc,HU:()=>_d,vb:()=>cc,JM:()=>co});var y=k(5e3),p=k(5867),V=k(5861),le=k(9681),de=k(2090),_e=k(4859),Ee=k(1877);const ve="@firebase/installations",ne="w:0.5.7",we="FIS_v2",ze=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function It(A){return A instanceof de.ZR&&A.code.includes("request-failed")}function yt({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Ne(A){return{token:A.token,requestStatus:2,expiresIn:Pe(A.expiresIn),creationTime:Date.now()}}function ge(A,R){return xe.apply(this,arguments)}function xe(){return(xe=(0,V.Z)(function*(A,R){const ee=(yield R.json()).error;return ze.create("request-failed",{requestName:A,serverCode:ee.code,serverMessage:ee.message,serverStatus:ee.status})})).apply(this,arguments)}function Ge({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function ye(A,{refreshToken:R}){const G=Ge(A);return G.append("Authorization",function Re(A){return`${we} ${A}`}(R)),G}function ot(A){return me.apply(this,arguments)}function me(){return(me=(0,V.Z)(function*(A){const R=yield A();return R.status>=500&&R.status<600?A():R})).apply(this,arguments)}function Pe(A){return Number(A.replace("s","000"))}function Be(A,R){return ct.apply(this,arguments)}function ct(){return(ct=(0,V.Z)(function*({appConfig:A,heartbeatServiceProvider:R},{fid:G}){const ee=yt(A),Ie=Ge(A),Ve=R.getImmediate({optional:!0});if(Ve){const ln=yield Ve.getHeartbeatsHeader();ln&&Ie.append("x-firebase-client",ln)}const jt={method:"POST",headers:Ie,body:JSON.stringify({fid:G,authVersion:we,appId:A.appId,sdkVersion:ne})},qt=yield ot(()=>fetch(ee,jt));if(qt.ok){const ln=yield qt.json();return{fid:ln.fid||G,registrationStatus:2,refreshToken:ln.refreshToken,authToken:Ne(ln.authToken)}}throw yield ge("Create Installation",qt)})).apply(this,arguments)}function Oe(A){return new Promise(R=>{setTimeout(R,A)})}const vn=/^[cdef][\w-]{21}$/;function Nt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const G=function Ft(A){return function zt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return vn.test(G)?G:""}catch(A){return""}}function Ln(A){return`${A.appName}!${A.appId}`}const Nn=new Map;function ut(A,R){const G=Ln(A);be(G,R),function _t(A,R){const G=function Tn(){return!Lt&&"BroadcastChannel"in self&&(Lt=new BroadcastChannel("[Firebase] FID Change"),Lt.onmessage=A=>{be(A.data.key,A.data.fid)}),Lt}();G&&G.postMessage({key:A,fid:R}),function kn(){0===Nn.size&&Lt&&(Lt.close(),Lt=null)}()}(G,R)}function be(A,R){const G=Nn.get(A);if(G)for(const ee of G)ee(R)}let Lt=null;const zn="firebase-installations-store";let Wn=null;function Mr(){return Wn||(Wn=(0,de.X3)("firebase-installations-database",1,(A,R)=>{0===R&&A.createObjectStore(zn)})),Wn}function Vt(A,R){return fr.apply(this,arguments)}function fr(){return(fr=(0,V.Z)(function*(A,R){const G=Ln(A),Ie=(yield Mr()).transaction(zn,"readwrite"),Ve=Ie.objectStore(zn),gt=yield Ve.get(G);return yield Ve.put(R,G),yield Ie.complete,(!gt||gt.fid!==R.fid)&&ut(A,R.fid),R})).apply(this,arguments)}function $n(A){return yn.apply(this,arguments)}function yn(){return(yn=(0,V.Z)(function*(A){const R=Ln(A),ee=(yield Mr()).transaction(zn,"readwrite");yield ee.objectStore(zn).delete(R),yield ee.complete})).apply(this,arguments)}function xn(A,R){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,V.Z)(function*(A,R){const G=Ln(A),Ie=(yield Mr()).transaction(zn,"readwrite"),Ve=Ie.objectStore(zn),gt=yield Ve.get(G),jt=R(gt);return void 0===jt?yield Ve.delete(G):yield Ve.put(jt,G),yield Ie.complete,jt&&(!gt||gt.fid!==jt.fid)&&ut(A,jt.fid),jt})).apply(this,arguments)}function Ze(A){return oe.apply(this,arguments)}function oe(){return(oe=(0,V.Z)(function*(A){let R;const G=yield xn(A.appConfig,ee=>{const Ie=he(ee),Ve=dt(A,Ie);return R=Ve.registrationPromise,Ve.installationEntry});return""===G.fid?{installationEntry:yield R}:{installationEntry:G,registrationPromise:R}})).apply(this,arguments)}function he(A){return Zt(A||{fid:Nt(),registrationStatus:0})}function dt(A,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(ze.create("app-offline"))};const G={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},ee=function Ce(A,R){return lt.apply(this,arguments)}(A,G);return{installationEntry:G,registrationPromise:ee}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:ft(A)}:{installationEntry:R}}function lt(){return(lt=(0,V.Z)(function*(A,R){try{const G=yield Be(A,R);return Vt(A.appConfig,G)}catch(G){throw It(G)&&409===G.customData.serverCode?yield $n(A.appConfig):yield Vt(A.appConfig,{fid:R.fid,registrationStatus:0}),G}})).apply(this,arguments)}function ft(A){return In.apply(this,arguments)}function In(){return(In=(0,V.Z)(function*(A){let R=yield an(A.appConfig);for(;1===R.registrationStatus;)yield Oe(100),R=yield an(A.appConfig);if(0===R.registrationStatus){const{installationEntry:G,registrationPromise:ee}=yield Ze(A);return ee||G}return R})).apply(this,arguments)}function an(A){return xn(A,R=>{if(!R)throw ze.create("installation-not-found");return Zt(R)})}function Zt(A){return function wr(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Zn(A,R){return en.apply(this,arguments)}function en(){return(en=(0,V.Z)(function*({appConfig:A,heartbeatServiceProvider:R},G){const ee=vt(A,G),Ie=ye(A,G),Ve=R.getImmediate({optional:!0});if(Ve){const ln=yield Ve.getHeartbeatsHeader();ln&&Ie.append("x-firebase-client",ln)}const jt={method:"POST",headers:Ie,body:JSON.stringify({installation:{sdkVersion:ne,appId:A.appId}})},qt=yield ot(()=>fetch(ee,jt));if(qt.ok)return Ne(yield qt.json());throw yield ge("Generate Auth Token",qt)})).apply(this,arguments)}function vt(A,{fid:R}){return`${yt(A)}/${R}/authTokens:generate`}function pn(A){return un.apply(this,arguments)}function un(){return(un=(0,V.Z)(function*(A,R=!1){let G;const ee=yield xn(A.appConfig,Ve=>{if(!rn(Ve))throw ze.create("not-registered");const gt=Ve.authToken;if(!R&&ae(gt))return Ve;if(1===gt.requestStatus)return G=Ct(A,R),Ve;{if(!navigator.onLine)throw ze.create("app-offline");const jt=pe(Ve);return G=Ht(A,jt),jt}});return G?yield G:ee.authToken})).apply(this,arguments)}function Ct(A,R){return Le.apply(this,arguments)}function Le(){return(Le=(0,V.Z)(function*(A,R){let G=yield wt(A.appConfig);for(;1===G.authToken.requestStatus;)yield Oe(100),G=yield wt(A.appConfig);const ee=G.authToken;return 0===ee.requestStatus?pn(A,R):ee})).apply(this,arguments)}function wt(A){return xn(A,R=>{if(!rn(R))throw ze.create("not-registered");return function He(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function Ht(A,R){return nn.apply(this,arguments)}function nn(){return(nn=(0,V.Z)(function*(A,R){try{const G=yield Zn(A,R),ee=Object.assign(Object.assign({},R),{authToken:G});return yield Vt(A.appConfig,ee),G}catch(G){if(!It(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const ee=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield Vt(A.appConfig,ee)}else yield $n(A.appConfig);throw G}})).apply(this,arguments)}function rn(A){return void 0!==A&&2===A.registrationStatus}function ae(A){return 2===A.requestStatus&&!function X(A){const R=Date.now();return R<A.creationTime||A.creationTime+A.expiresIn<R+36e5}(A)}function pe(A){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:R})}function Q(){return(Q=(0,V.Z)(function*(A){const R=A,{installationEntry:G,registrationPromise:ee}=yield Ze(R);return ee?ee.catch(console.error):pn(R).catch(console.error),G.fid})).apply(this,arguments)}function q(){return(q=(0,V.Z)(function*(A,R=!1){const G=A;return yield H(G),(yield pn(G,R)).token})).apply(this,arguments)}function H(A){return te.apply(this,arguments)}function te(){return(te=(0,V.Z)(function*(A){const{registrationPromise:R}=yield Ze(A);R&&(yield R)})).apply(this,arguments)}function dr(A){return ze.create("missing-app-config-values",{valueName:A})}const ns="installations",Dt=A=>{const R=A.getProvider("app").getImmediate(),G=function Ur(A){if(!A||!A.options)throw dr("App Configuration");if(!A.name)throw dr("App Name");const R=["projectId","apiKey","appId"];for(const G of R)if(!A.options[G])throw dr(G);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(R);return{app:R,appConfig:G,heartbeatServiceProvider:(0,le._getProvider)(R,"heartbeat"),_delete:()=>Promise.resolve()}},hn=A=>{const R=A.getProvider("app").getImmediate(),G=(0,le._getProvider)(R,ns).getImmediate();return{getId:()=>function Z(A){return Q.apply(this,arguments)}(G),getToken:Ie=>function F(A){return q.apply(this,arguments)}(G,Ie)}};(function Un(){(0,le._registerComponent)(new _e.wA(ns,Dt,"PUBLIC")),(0,le._registerComponent)(new _e.wA("installations-internal",hn,"PRIVATE"))})(),(0,le.registerVersion)(ve,"0.5.7"),(0,le.registerVersion)(ve,"0.5.7","esm2017");const pr="@firebase/remote-config",ar=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zo{constructor(R,G,ee,Ie){this.client=R,this.storage=G,this.storageCache=ee,this.logger=Ie}isCachedDataFresh(R,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ee=Date.now()-G,Ie=ee<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${Ie}.`),Ie}fetch(R){var G=this;return(0,V.Z)(function*(){const[ee,Ie]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(Ie&&G.isCachedDataFresh(R.cacheMaxAgeMillis,ee))return Ie;R.eTag=Ie&&Ie.eTag;const Ve=yield G.client.fetch(R),gt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ve.status&&gt.push(G.storage.setLastSuccessfulFetchResponse(Ve)),yield Promise.all(gt),Ve})()}}function eo(A=navigator){return A.languages&&A.languages[0]||A.language}class rs{constructor(R,G,ee,Ie,Ve,gt){this.firebaseInstallations=R,this.sdkVersion=G,this.namespace=ee,this.projectId=Ie,this.apiKey=Ve,this.appId=gt}fetch(R){var G=this;return(0,V.Z)(function*(){const[ee,Ie]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},qt={sdk_version:G.sdkVersion,app_instance_id:ee,app_instance_id_token:Ie,app_id:G.appId,language_code:eo()},ln={method:"POST",headers:jt,body:JSON.stringify(qt)},Yn=fetch(gt,ln),_n=new Promise((Qi,xs)=>{R.signal.addEventListener(()=>{const xo=new Error("The operation was aborted.");xo.name="AbortError",xs(xo)})});let ii;try{yield Promise.race([Yn,_n]),ii=yield Yn}catch(Qi){let xs="fetch-client-network";throw"AbortError"===Qi.name&&(xs="fetch-timeout"),ar.create(xs,{originalErrorMessage:Qi.message})}let Kr=ii.status;const nu=ii.headers.get("ETag")||void 0;let ku,Yr;if(200===ii.status){let Qi;try{Qi=yield ii.json()}catch(xs){throw ar.create("fetch-client-parse",{originalErrorMessage:xs.message})}ku=Qi.entries,Yr=Qi.state}if("INSTANCE_STATE_UNSPECIFIED"===Yr?Kr=500:"NO_CHANGE"===Yr?Kr=304:("NO_TEMPLATE"===Yr||"EMPTY_CONFIG"===Yr)&&(ku={}),304!==Kr&&200!==Kr)throw ar.create("fetch-status",{httpStatus:Kr});return{status:Kr,eTag:nu,config:ku}})()}}class li{constructor(R,G){this.client=R,this.storage=G}fetch(R){var G=this;return(0,V.Z)(function*(){const ee=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(R,ee)})()}attemptFetch(R,{throttleEndTimeMillis:G,backoffCount:ee}){var Ie=this;return(0,V.Z)(function*(){yield function Rr(A,R){return new Promise((G,ee)=>{const Ie=Math.max(R-Date.now(),0),Ve=setTimeout(G,Ie);A.addEventListener(()=>{clearTimeout(Ve),ee(ar.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,G);try{const Ve=yield Ie.client.fetch(R);return yield Ie.storage.deleteThrottleMetadata(),Ve}catch(Ve){if(!function mu(A){if(!(A instanceof de.ZR&&A.customData))return!1;const R=Number(A.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Ve))throw Ve;const gt={throttleEndTimeMillis:Date.now()+(0,de.$s)(ee),backoffCount:ee+1};return yield Ie.storage.setThrottleMetadata(gt),Ie.attemptFetch(R,gt)}})()}}class vo{constructor(R,G,ee,Ie,Ve){this.app=R,this._client=G,this._storageCache=ee,this._storage=Ie,this._logger=Ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vs(A,R){const G=A.target.error||void 0;return ar.create(R,{originalErrorMessage:G&&G.message})}const to="app_namespace_store";class Ga{constructor(R,G,ee,Ie=function ya(){return new Promise((A,R)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ee=>{R(Vs(ee,"storage-open"))},G.onsuccess=ee=>{A(ee.target.result)},G.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(to,{keyPath:"compositeKey"})}}catch(G){R(ar.create("storage-open",{originalErrorMessage:G}))}})}()){this.appId=R,this.appName=G,this.namespace=ee,this.openDbPromise=Ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var G=this;return(0,V.Z)(function*(){const ee=yield G.openDbPromise;return new Promise((Ie,Ve)=>{const jt=ee.transaction([to],"readonly").objectStore(to),qt=G.createCompositeKey(R);try{const ln=jt.get(qt);ln.onerror=Yn=>{Ve(Vs(Yn,"storage-get"))},ln.onsuccess=Yn=>{const _n=Yn.target.result;Ie(_n?_n.value:void 0)}}catch(ln){Ve(ar.create("storage-get",{originalErrorMessage:ln&&ln.message}))}})})()}set(R,G){var ee=this;return(0,V.Z)(function*(){const Ie=yield ee.openDbPromise;return new Promise((Ve,gt)=>{const qt=Ie.transaction([to],"readwrite").objectStore(to),ln=ee.createCompositeKey(R);try{const Yn=qt.put({compositeKey:ln,value:G});Yn.onerror=_n=>{gt(Vs(_n,"storage-set"))},Yn.onsuccess=()=>{Ve()}}catch(Yn){gt(ar.create("storage-set",{originalErrorMessage:Yn&&Yn.message}))}})})()}delete(R){var G=this;return(0,V.Z)(function*(){const ee=yield G.openDbPromise;return new Promise((Ie,Ve)=>{const jt=ee.transaction([to],"readwrite").objectStore(to),qt=G.createCompositeKey(R);try{const ln=jt.delete(qt);ln.onerror=Yn=>{Ve(Vs(Yn,"storage-delete"))},ln.onsuccess=()=>{Ie()}}catch(ln){Ve(ar.create("storage-delete",{originalErrorMessage:ln&&ln.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class Us{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,V.Z)(function*(){const G=R.storage.getLastFetchStatus(),ee=R.storage.getLastSuccessfulFetchTimestampMillis(),Ie=R.storage.getActiveConfig(),Ve=yield G;Ve&&(R.lastFetchStatus=Ve);const gt=yield ee;gt&&(R.lastSuccessfulFetchTimestampMillis=gt);const jt=yield Ie;jt&&(R.activeConfig=jt)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function qa(){return _s.apply(this,arguments)}function _s(){return(_s=(0,V.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(A){return!1}})).apply(this,arguments)}!function yu(){(0,le._registerComponent)(new _e.wA("remote-config",function A(R,{instanceIdentifier:G}){const ee=R.getProvider("app").getImmediate(),Ie=R.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ar.create("registration-window");if(!(0,de.hl)())throw ar.create("indexed-db-unavailable");const{projectId:Ve,apiKey:gt,appId:jt}=ee.options;if(!Ve)throw ar.create("registration-project-id");if(!gt)throw ar.create("registration-api-key");if(!jt)throw ar.create("registration-app-id");const qt=new Ga(jt,ee.name,G=G||"firebase"),ln=new Us(qt),Yn=new Ee.Yd(pr);Yn.logLevel=Ee.in.ERROR;const _n=new rs(Ie,le.SDK_VERSION,G,Ve,gt,jt),ii=new li(_n,qt),Kr=new zo(ii,qt,ln,Yn),nu=new vo(ee,Kr,ln,qt,Yn);return function Br(A){const R=(0,de.m9)(A);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(nu),nu},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(pr,"0.3.6"),(0,le.registerVersion)(pr,"0.3.6","esm2017")}();const is="/firebase-messaging-sw.js",vs="/firebase-cloud-messaging-push-scope",ci="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bs="google.c.a.c_id",Zo="google.c.a.c_l",Ko="google.c.a.ts",vi="google.c.a.e";var Pr=(()=>{return(A=Pr||(Pr={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Pr;var A})();function xi(A){const R=new Uint8Array(A);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yo(A){const G=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ee=atob(G),Ie=new Uint8Array(ee.length);for(let Ve=0;Ve<ee.length;++Ve)Ie[Ve]=ee.charCodeAt(Ve);return Ie}const Eo="fcm_token_details_db",ss="fcm_token_object_Store";function va(A){return Es.apply(this,arguments)}function Es(){return Es=(0,V.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ve=>Ve.name).includes(Eo))return null;let R=null;return(yield(0,de.X3)(Eo,5,function(){var ee=(0,V.Z)(function*(Ie,Ve,gt,jt){var qt;if(Ve<2||!Ie.objectStoreNames.contains(ss))return;const ln=jt.objectStore(ss),Yn=yield ln.index("fcmSenderId").get(A);if(yield ln.clear(),Yn)if(2===Ve){const _n=Yn;if(!_n.auth||!_n.p256dh||!_n.endpoint)return;R={token:_n.fcmToken,createTime:null!==(qt=_n.createTime)&&void 0!==qt?qt:Date.now(),subscriptionOptions:{auth:_n.auth,p256dh:_n.p256dh,endpoint:_n.endpoint,swScope:_n.swScope,vapidKey:"string"==typeof _n.vapidKey?_n.vapidKey:xi(_n.vapidKey)}}}else if(3===Ve){const _n=Yn;R={token:_n.fcmToken,createTime:_n.createTime,subscriptionOptions:{auth:xi(_n.auth),p256dh:xi(_n.p256dh),endpoint:_n.endpoint,swScope:_n.swScope,vapidKey:xi(_n.vapidKey)}}}else if(4===Ve){const _n=Yn;R={token:_n.fcmToken,createTime:_n.createTime,subscriptionOptions:{auth:xi(_n.auth),p256dh:xi(_n.p256dh),endpoint:_n.endpoint,swScope:_n.swScope,vapidKey:xi(_n.vapidKey)}}}});return function(Ie,Ve,gt,jt){return ee.apply(this,arguments)}}())).close(),yield(0,de.Lj)(Eo),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),js(R)?R:null}),Es.apply(this,arguments)}function js(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:R}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const Wi="firebase-messaging-store";let ti=null;function Ea(){return ti||(ti=(0,de.X3)("firebase-messaging-database",1,(A,R)=>{0===R&&A.createObjectStore(Wi)})),ti}function rr(A){return O.apply(this,arguments)}function O(){return(O=(0,V.Z)(function*(A){const R=je(A),ee=yield(yield Ea()).transaction(Wi).objectStore(Wi).get(R);if(ee)return ee;{const Ie=yield va(A.appConfig.senderId);if(Ie)return yield B(A,Ie),Ie}})).apply(this,arguments)}function B(A,R){return x.apply(this,arguments)}function x(){return(x=(0,V.Z)(function*(A,R){const G=je(A),Ie=(yield Ea()).transaction(Wi,"readwrite");return yield Ie.objectStore(Wi).put(R,G),yield Ie.complete,R})).apply(this,arguments)}function z(A){return ie.apply(this,arguments)}function ie(){return(ie=(0,V.Z)(function*(A){const R=je(A),ee=(yield Ea()).transaction(Wi,"readwrite");yield ee.objectStore(Wi).delete(R),yield ee.complete})).apply(this,arguments)}function je({appConfig:A}){return A.appId}const At=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qn(A,R){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,V.Z)(function*(A,R){const G=yield di(A),ee=Kt(R),Ie={method:"POST",headers:G,body:JSON.stringify(ee)};let Ve;try{Ve=yield(yield fetch(sr(A.appConfig),Ie)).json()}catch(gt){throw At.create("token-subscribe-failed",{errorInfo:gt})}if(Ve.error)throw At.create("token-subscribe-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw At.create("token-subscribe-no-token");return Ve.token})).apply(this,arguments)}function bn(A,R){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,V.Z)(function*(A,R){const G=yield di(A),ee=Kt(R.subscriptionOptions),Ie={method:"PATCH",headers:G,body:JSON.stringify(ee)};let Ve;try{Ve=yield(yield fetch(`${sr(A.appConfig)}/${R.token}`,Ie)).json()}catch(gt){throw At.create("token-update-failed",{errorInfo:gt})}if(Ve.error)throw At.create("token-update-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw At.create("token-update-no-token");return Ve.token})).apply(this,arguments)}function mr(A,R){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,V.Z)(function*(A,R){const ee={method:"DELETE",headers:yield di(A)};try{const Ve=yield(yield fetch(`${sr(A.appConfig)}/${R}`,ee)).json();if(Ve.error)throw At.create("token-unsubscribe-failed",{errorInfo:Ve.error.message})}catch(Ie){throw At.create("token-unsubscribe-failed",{errorInfo:Ie})}})).apply(this,arguments)}function sr({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function di(A){return ni.apply(this,arguments)}function ni(){return(ni=(0,V.Z)(function*({appConfig:A,installations:R}){const G=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function Kt({p256dh:A,auth:R,endpoint:G,vapidKey:ee}){const Ie={web:{endpoint:G,auth:R,p256dh:A}};return ee!==ci&&(Ie.web.applicationPubKey=ee),Ie}const ws=6048e5;function _u(A){return no.apply(this,arguments)}function no(){return(no=(0,V.Z)(function*(A){const R=yield Rn(A.swRegistration,A.vapidKey),G={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:R.endpoint,auth:xi(R.getKey("auth")),p256dh:xi(R.getKey("p256dh"))},ee=yield rr(A.firebaseDependencies);if(ee){if(vu(ee.subscriptionOptions,G))return Date.now()>=ee.createTime+ws?oc(A,{token:ee.token,createTime:Date.now(),subscriptionOptions:G}):ee.token;try{yield mr(A.firebaseDependencies,ee.token)}catch(Ie){console.warn(Ie)}return st(A.firebaseDependencies,G)}return st(A.firebaseDependencies,G)})).apply(this,arguments)}function Wa(A){return bo.apply(this,arguments)}function bo(){return(bo=(0,V.Z)(function*(A){const R=yield rr(A.firebaseDependencies);R&&(yield mr(A.firebaseDependencies,R.token),yield z(A.firebaseDependencies));const G=yield A.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()})).apply(this,arguments)}function oc(A,R){return ro.apply(this,arguments)}function ro(){return(ro=(0,V.Z)(function*(A,R){try{const G=yield bn(A.firebaseDependencies,R),ee=Object.assign(Object.assign({},R),{token:G,createTime:Date.now()});return yield B(A.firebaseDependencies,ee),G}catch(G){throw yield Wa(A),G}})).apply(this,arguments)}function st(A,R){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,V.Z)(function*(A,R){const ee={token:yield Qn(A,R),createTime:Date.now(),subscriptionOptions:R};return yield B(A,ee),ee.token})).apply(this,arguments)}function Rn(A,R){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,V.Z)(function*(A,R){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yo(R)})})).apply(this,arguments)}function vu(A,R){return R.vapidKey===A.vapidKey&&R.endpoint===A.endpoint&&R.auth===A.auth&&R.p256dh===A.p256dh}function Zi(A){const R={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function bs(A,R){if(!R.notification)return;A.notification={};const G=R.notification.title;G&&(A.notification.title=G);const ee=R.notification.body;ee&&(A.notification.body=ee);const Ie=R.notification.image;Ie&&(A.notification.image=Ie)}(R,A),function Eu(A,R){!R.data||(A.data=R.data)}(R,A),function Hs(A,R){if(!R.fcmOptions)return;A.fcmOptions={};const G=R.fcmOptions.link;G&&(A.fcmOptions.link=G);const ee=R.fcmOptions.analytics_label;ee&&(A.fcmOptions.analyticsLabel=ee)}(R,A),R}function ld(A){return"object"==typeof A&&!!A&&Bs in A}function ll(A,R){const G=[];for(let ee=0;ee<A.length;ee++)G.push(A.charAt(ee)),ee<R.length&&G.push(R.charAt(ee));return G.join("")}function Xo(A){return At.create("missing-app-config-values",{valueName:A})}ll("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ll("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zr{constructor(R,G,ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ie=function Jo(A){if(!A||!A.options)throw Xo("App Configuration Object");if(!A.name)throw Xo("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:G}=A;for(const ee of R)if(!G[ee])throw Xo(ee);return{appName:A.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:Ie,installations:G,analyticsProvider:ee}}_delete(){return Promise.resolve()}}function Cs(A){return wa.apply(this,arguments)}function wa(){return(wa=(0,V.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(is,{scope:vs}),A.swRegistration.update().catch(()=>{})}catch(R){throw At.create("failed-service-worker-registration",{browserErrorMessage:R.message})}})).apply(this,arguments)}function ea(A,R){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,V.Z)(function*(A,R){if(!R&&!A.swRegistration&&(yield Cs(A)),R||!A.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");A.swRegistration=R}})).apply(this,arguments)}function cl(A,R){return ta.apply(this,arguments)}function ta(){return(ta=(0,V.Z)(function*(A,R){R?A.vapidKey=R:A.vapidKey||(A.vapidKey=ci)})).apply(this,arguments)}function ba(){return(ba=(0,V.Z)(function*(A,R){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield cl(A,null==R?void 0:R.vapidKey),yield ea(A,null==R?void 0:R.serviceWorkerRegistration),_u(A)})).apply(this,arguments)}function wu(A,R,G){return Co.apply(this,arguments)}function Co(){return(Co=(0,V.Z)(function*(A,R,G){const ee=bu(R);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(ee,{message_id:G[Bs],message_name:G[Zo],message_time:G[Ko],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bu(A){switch(A){case Pr.NOTIFICATION_CLICKED:return"notification_open";case Pr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ca(){return(Ca=(0,V.Z)(function*(A,R){const G=R.data;if(!G.isFirebaseMessaging)return;A.onMessageHandler&&G.messageType===Pr.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Zi(G)):A.onMessageHandler.next(Zi(G)));const ee=G.data;ld(ee)&&"1"===ee[vi]&&(yield wu(A,G.messageType,ee))})).apply(this,arguments)}const na="@firebase/messaging",io=A=>{const R=new zr(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function hl(A,R){return Ca.apply(this,arguments)}(R,G)),R},Cu=A=>{const R=A.getProvider("messaging").getImmediate();return{getToken:ee=>function dl(A,R){return ba.apply(this,arguments)}(R,ee)}};function Tu(){return ia.apply(this,arguments)}function ia(){return(ia=(0,V.Z)(function*(){try{yield(0,de.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fl(){(0,le._registerComponent)(new _e.wA("messaging",io,"PUBLIC")),(0,le._registerComponent)(new _e.wA("messaging-internal",Cu,"PRIVATE")),(0,le.registerVersion)(na,"0.9.11"),(0,le.registerVersion)(na,"0.9.11","esm2017")}();const Ts="analytics",Za="firebase_id",To="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wr="https://www.googletagmanager.com/gtag/js",Dr=new Ee.Yd("@firebase/analytics");function jr(A){return Promise.all(A.map(R=>R.catch(G=>G)))}function Ka(A,R){const G=document.createElement("script");G.src=`${Wr}?l=${A}&id=${R}`,G.async=!0,document.head.appendChild(G)}function Gs(A,R,G,ee,Ie,Ve){return oo.apply(this,arguments)}function oo(){return(oo=(0,V.Z)(function*(A,R,G,ee,Ie,Ve){const gt=ee[Ie];try{if(gt)yield R[gt];else{const qt=(yield jr(G)).find(ln=>ln.measurementId===Ie);qt&&(yield R[qt.appId])}}catch(jt){Dr.error(jt)}A("config",Ie,Ve)})).apply(this,arguments)}function Io(A,R,G,ee,Ie){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,V.Z)(function*(A,R,G,ee,Ie){try{let Ve=[];if(Ie&&Ie.send_to){let gt=Ie.send_to;Array.isArray(gt)||(gt=[gt]);const jt=yield jr(G);for(const qt of gt){const ln=jt.find(_n=>_n.measurementId===qt),Yn=ln&&R[ln.appId];if(!Yn){Ve=[];break}Ve.push(Yn)}}0===Ve.length&&(Ve=Object.values(R)),yield Promise.all(Ve),A("event",ee,Ie||{})}catch(Ve){Dr.error(Ve)}})).apply(this,arguments)}function cd(){const A=window.document.getElementsByTagName("script");for(const R of Object.values(A))if(R.src&&R.src.includes(Wr))return R;return null}const Pi=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Is=new class os{constructor(R={},G=1e3){this.throttleMetadata=R,this.intervalMillis=G}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,G){this.throttleMetadata[R]=G}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function xu(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Ar(A){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,V.Z)(function*(A){var R;const{appId:G,apiKey:ee}=A,Ie={method:"GET",headers:xu(ee)},Ve=To.replace("{app-id}",G),gt=yield fetch(Ve,Ie);if(200!==gt.status&&304!==gt.status){let jt="";try{const qt=yield gt.json();(null===(R=qt.error)||void 0===R?void 0:R.message)&&(jt=qt.error.message)}catch(qt){}throw Pi.create("config-fetch-failed",{httpStatus:gt.status,responseMessage:jt})}return gt.json()})).apply(this,arguments)}function oa(A){return as.apply(this,arguments)}function as(){return(as=(0,V.Z)(function*(A,R=Is,G){const{appId:ee,apiKey:Ie,measurementId:Ve}=A.options;if(!ee)throw Pi.create("no-app-id");if(!Ie){if(Ve)return{measurementId:Ve,appId:ee};throw Pi.create("no-api-key")}const gt=R.getThrottleMetadata(ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jt=new Qa;return setTimeout((0,V.Z)(function*(){jt.abort()}),void 0!==G?G:6e4),qs({appId:ee,apiKey:Ie,measurementId:Ve},gt,jt,R)})).apply(this,arguments)}function qs(A,R,G){return ao.apply(this,arguments)}function ao(){return(ao=(0,V.Z)(function*(A,{throttleEndTimeMillis:R,backoffCount:G},ee,Ie=Is){const{appId:Ve,measurementId:gt}=A;try{yield ml(ee,R)}catch(jt){if(gt)return Dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${jt.message}]`),{appId:Ve,measurementId:gt};throw jt}try{const jt=yield Ar(A);return Ie.deleteThrottleMetadata(Ve),jt}catch(jt){if(!zs(jt)){if(Ie.deleteThrottleMetadata(Ve),gt)return Dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${jt.message}]`),{appId:Ve,measurementId:gt};throw jt}const qt=503===Number(jt.customData.httpStatus)?(0,de.$s)(G,Ie.intervalMillis,30):(0,de.$s)(G,Ie.intervalMillis),ln={throttleEndTimeMillis:Date.now()+qt,backoffCount:G+1};return Ie.setThrottleMetadata(Ve,ln),Dr.debug(`Calling attemptFetch again in ${qt} millis`),qs(A,ln,ee,Ie)}})).apply(this,arguments)}function ml(A,R){return new Promise((G,ee)=>{const Ie=Math.max(R-Date.now(),0),Ve=setTimeout(G,Ie);A.addEventListener(()=>{clearTimeout(Ve),ee(Pi.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function zs(A){if(!(A instanceof de.ZR&&A.customData))return!1;const R=Number(A.customData.httpStatus);return 429===R||500===R||503===R||504===R}class Qa{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}function Ws(){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,V.Z)(function*(){if(!(0,de.hl)())return Dr.warn(Pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(A){return Dr.warn(Pi.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function As(){return(As=(0,V.Z)(function*(A,R,G,ee,Ie,Ve,gt){var jt;const qt=oa(A);qt.then(Kr=>{G[Kr.measurementId]=Kr.appId,A.options.measurementId&&Kr.measurementId!==A.options.measurementId&&Dr.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${Kr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kr=>Dr.error(Kr)),R.push(qt);const ln=Ws().then(Kr=>{if(Kr)return ee.getId()}),[Yn,_n]=yield Promise.all([qt,ln]);cd()||Ka(Ve,Yn.measurementId),Ie("js",new Date);const ii=null!==(jt=null==gt?void 0:gt.config)&&void 0!==jt?jt:{};return ii.origin="firebase",ii.update=!0,null!=_n&&(ii[Za]=_n),Ie("config",Yn.measurementId,ii),Yn.measurementId})).apply(this,arguments)}class Ss{constructor(R){this.app=R}_delete(){return delete wi[this.app.options.appId],Promise.resolve()}}let wi={},I=[];const E={};let P,$,v="dataLayer",J=!1;function Rt(A,R,G){!function $e(){const A=[];if((0,de.ru)()&&A.push("This is a browser extension environment."),(0,de.zI)()||A.push("Cookies are not available."),A.length>0){const R=A.map((ee,Ie)=>`(${Ie+1}) ${ee}`).join(" "),G=Pi.create("invalid-analytics-context",{errorInfo:R});Dr.warn(G.message)}}();const ee=A.options.appId;if(!ee)throw Pi.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Pi.create("no-api-key");Dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wi[ee])throw Pi.create("already-exists",{id:ee});if(!J){!function Ki(A){let R=[];Array.isArray(window[A])?R=window[A]:window[A]=R}(v);const{wrappedGtag:Ve,gtagCore:gt}=function Su(A,R,G,ee,Ie){let Ve=function(...gt){window[ee].push(arguments)};return window[Ie]&&"function"==typeof window[Ie]&&(Ve=window[Ie]),window[Ie]=function Ya(A,R,G,ee){function Ve(){return(Ve=(0,V.Z)(function*(gt,jt,qt){try{"event"===gt?yield Io(A,R,G,jt,qt):"config"===gt?yield Gs(A,R,G,ee,jt,qt):A("set",jt)}catch(ln){Dr.error(ln)}})).apply(this,arguments)}return function Ie(gt,jt,qt){return Ve.apply(this,arguments)}}(Ve,A,R,G),{gtagCore:Ve,wrappedGtag:window[Ie]}}(wi,I,E,v,"gtag");$=Ve,P=gt,J=!0}return wi[ee]=function Ei(A,R,G,ee,Ie,Ve,gt){return As.apply(this,arguments)}(A,I,E,R,P,v,G),new Ss(A)}function $t(){return($t=(0,V.Z)(function*(A,R,G,ee,Ie){if(Ie&&Ie.global)A("event",G,ee);else{const Ve=yield R;A("event",G,Object.assign(Object.assign({},ee),{send_to:Ve}))}})).apply(this,arguments)}function Ta(){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,V.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(A){return!1}})).apply(this,arguments)}const fd="@firebase/analytics";!function op(){(0,le._registerComponent)(new _e.wA(Ts,(R,{options:G})=>Rt(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,le._registerComponent)(new _e.wA("analytics-internal",function A(R){try{const G=R.getProvider(Ts).getImmediate();return{logEvent:(ee,Ie,Ve)=>function yl(A,R,G,ee){A=(0,de.m9)(A),function An(A,R,G,ee,Ie){return $t.apply(this,arguments)}($,wi[A.app.options.appId],R,G,ee).catch(Ie=>Dr.error(Ie))}(G,ee,Ie,Ve)}}catch(G){throw Pi.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,le.registerVersion)(fd,"0.7.7"),(0,le.registerVersion)(fd,"0.7.7","esm2017")}();var _l=k(4408),gd=k(7565);const Ru=new class Zr extends gd.v{}(class Xa extends _l.o{constructor(R,G){super(R,G),this.scheduler=R,this.work=G}schedule(R,G=0){return G>0?super.schedule(R,G):(this.delay=G,this.state=R,this.scheduler.flush(this),this)}execute(R,G){return G>0||this.closed?super.execute(R,G):this._execute(R,G)}requestAsyncId(R,G,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(R,G,ee):R.flush(this)}});var md=k(4986),Ia=k(8505),Fi=k(5363),bi=k(9468);const eu=new y.GfV("7.3.0"),aa="__angularfire_symbol__analyticsIsSupportedValue",Ci="__angularfire_symbol__analyticsIsSupported",tu="__angularfire_symbol__remoteConfigIsSupportedValue",uc="__angularfire_symbol__remoteConfigIsSupported",lc="__angularfire_symbol__messagingIsSupportedValue",yd="__angularfire_symbol__messagingIsSupported";function co(A,R,G){if(R){if(1===R.length)return R[0];const Ve=R.filter(gt=>gt.app===G);if(1===Ve.length)return Ve[0]}return G.container.getProvider(A).getImmediate({optional:!0})}globalThis[Ci]||(globalThis[Ci]=Ta().then(A=>globalThis[aa]=A).catch(()=>globalThis[aa]=!1)),globalThis[yd]||(globalThis[yd]=Tu().then(A=>globalThis[lc]=A).catch(()=>globalThis[lc]=!1)),globalThis[uc]||(globalThis[uc]=qa().then(A=>globalThis[tu]=A).catch(()=>globalThis[tu]=!1));const cc=(A,R)=>{const G=R?[R]:(0,p.C6)(),ee=[];return G.forEach(Ie=>{Ie.container.getProvider(A).instances.forEach(gt=>{ee.includes(gt)||ee.push(gt)})}),ee};function Ao(){}class dc{constructor(R,G=Ru){this.zone=R,this.delegate=G}now(){return this.delegate.now()}schedule(R,G,ee){const Ie=this.zone;return this.delegate.schedule(function(gt){Ie.runGuarded(()=>{R.apply(this,[gt])})},G,ee)}}class hc{constructor(R){this.zone=R,this.task=null}call(R,G){const ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ao,{},Ao,Ao)),G.pipe((0,Ia.b)({next:ee,complete:ee,error:ee})).subscribe(R).add(ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _d=(()=>{class A{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new dc(Zone.current)),this.insideAngular=G.run(()=>new dc(Zone.current,md.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(G){return new(G||A)(y.LFG(y.R0b))},A.\u0275prov=y.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function So(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function pc(A){return A.pipe((0,Fi.Q)(So().outsideAngular))}function bl(A){return So(),function Mo(A){return function(G){return(G=G.lift(new hc(A.ngZone))).pipe((0,bi.R)(A.outsideAngular),(0,Fi.Q)(A.insideAngular))}}(So())(A)}},424:(xt,Ue,k)=>{k.d(Ue,{$:()=>_u,A:()=>ne,E:()=>hn,G:()=>xr,I:()=>li,K:()=>X,L:()=>_s,M:()=>_a,N:()=>Bs,P:()=>aa,Q:()=>Zo,R:()=>pd,T:()=>ci,U:()=>Pr,V:()=>xi,W:()=>va,X:()=>rt,Y:()=>Qn,Z:()=>bn,_:()=>sr,a:()=>Do,a0:()=>Wa,a1:()=>oc,a2:()=>st,a3:()=>Rn,a4:()=>vu,a5:()=>bs,a6:()=>Eu,a7:()=>ld,a8:()=>ll,a9:()=>Cs,aA:()=>ii,aB:()=>Cl,aC:()=>nr,aG:()=>Is,aJ:()=>vi,aa:()=>ea,ab:()=>cl,ae:()=>wu,af:()=>bu,ag:()=>hl,aj:()=>Wi,ak:()=>Iu,am:()=>To,an:()=>Gs,ao:()=>En,ap:()=>me,aq:()=>St,ar:()=>te,as:()=>yt,at:()=>bd,au:()=>bh,av:()=>Ne,aw:()=>ye,ax:()=>Re,ay:()=>pe,az:()=>Qi,b:()=>Mu,c:()=>Pu,d:()=>dc,e:()=>cc,f:()=>R,g:()=>jt,h:()=>Ie,i:()=>$e,j:()=>Yn,k:()=>Uu,l:()=>Zr,m:()=>fp,n:()=>da,o:()=>ve,r:()=>vl,s:()=>Xa,t:()=>Ir,u:()=>bi,z:()=>Ye});var y=k(5861),p=k(2090),V=k(9681),le=k(655),de=k(1877),_e=k(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ye=function we(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},et=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new p.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new de.Yd("@firebase/auth");function It(w,...h){ze.logLevel<=de.in.ERROR&&ze.error(`Auth (${V.SDK_VERSION}): ${w}`,...h)}function yt(w,...h){throw Ge(w,...h)}function Ne(w,...h){return Ge(w,...h)}function ge(w,h,g){const T=Object.assign(Object.assign({},et()),{[h]:g});return new p.LL("auth","Firebase",T).create(h,{appName:w.name})}function xe(w,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&yt(w,"argument-error"),ge(w,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(w,...h){if("string"!=typeof w){const g=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(g,...T)}return nt.create(w,...h)}function ye(w,h,...g){if(!w)throw Ge(h,...g)}function ot(w){const h="INTERNAL ASSERTION FAILED: "+w;throw It(h),new Error(h)}function me(w,h){w||ot(h)}const Pe=new Map;function Re(w){me(w instanceof Function,"Expected a class definition");let h=Pe.get(w);return h?(me(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,Pe.set(w,h),h)}function Oe(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function zt(){return"http:"===vn()||"https:"===vn()}function vn(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ft{constructor(h,g){this.shortDelay=h,this.longDelay=g,me(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,p.uI)()||(0,p.b$)()}get(){return function Qt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zt()||(0,p.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ln(w,h){me(w.emulator,"Emulator should always be set here");const{url:g}=w.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Nn{static initialize(h,g,T){this.fetchImpl=h,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tt=new Ft(3e4,6e4);function fe(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function be(w,h,g,T){return _t.apply(this,arguments)}function _t(){return(_t=(0,y.Z)(function*(w,h,g,T,L={}){return Lt(w,L,(0,y.Z)(function*(){let W={},Me={};T&&("GET"===h?Me=T:W={body:JSON.stringify(T)});const it=(0,p.xO)(Object.assign({key:w.config.apiKey},Me)).slice(1),Ke=yield w._getAdditionalHeaders();return Ke["Content-Type"]="application/json",w.languageCode&&(Ke["X-Firebase-Locale"]=w.languageCode),Nn.fetch()(cr(w,w.config.apiHost,g,it),Object.assign({method:h,headers:Ke,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Lt(w,h,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,y.Z)(function*(w,h,g){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},ut),h);try{const L=new zn(w),W=yield Promise.race([g(),L.promise]);L.clearNetworkTimeout();const Me=yield W.json();if("needConfirmation"in Me)throw Wn(w,"account-exists-with-different-credential",Me);if(W.ok&&!("errorMessage"in Me))return Me;{const it=W.ok?Me.errorMessage:Me.error.message,[Ke,tn]=it.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw Wn(w,"credential-already-in-use",Me);if("EMAIL_EXISTS"===Ke)throw Wn(w,"email-already-in-use",Me);const Tt=T[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(tn)throw ge(w,Tt,tn);yt(w,Tt)}}catch(L){if(L instanceof p.ZR)throw L;yt(w,"network-request-failed")}})).apply(this,arguments)}function kn(w,h,g,T){return tr.apply(this,arguments)}function tr(){return(tr=(0,y.Z)(function*(w,h,g,T,L={}){const W=yield be(w,h,g,T,L);return"mfaPendingCredential"in W&&yt(w,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function cr(w,h,g,T){const L=`${h}${g}?${T}`;return w.config.emulator?Ln(w.config,L):`${w.config.apiScheme}://${L}`}class zn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(Ne(this.auth,"network-request-failed")),tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wn(w,h,g){const T={appName:w.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const L=Ne(w,h,T);return L.customData._tokenResponse=g,L}function Vt(){return(Vt=(0,y.Z)(function*(w,h){return be(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function fr(w,h){return $n.apply(this,arguments)}function $n(){return($n=(0,y.Z)(function*(w,h){return be(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function yn(w,h){return xn.apply(this,arguments)}function xn(){return(xn=(0,y.Z)(function*(w,h){return be(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Vr(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function he(){return(he=(0,y.Z)(function*(w,h=!1){const g=(0,p.m9)(w),T=yield g.getIdToken(h),L=Ce(T);ye(L&&L.exp&&L.auth_time&&L.iat,g.auth,"internal-error");const W="object"==typeof L.firebase?L.firebase:void 0,Me=null==W?void 0:W.sign_in_provider;return{claims:L,token:T,authTime:Vr(dt(L.auth_time)),issuedAtTime:Vr(dt(L.iat)),expirationTime:Vr(dt(L.exp)),signInProvider:Me||null,signInSecondFactor:(null==W?void 0:W.sign_in_second_factor)||null}})).apply(this,arguments)}function dt(w){return 1e3*Number(w)}function Ce(w){const[h,g,T]=w.split(".");if(void 0===h||void 0===g||void 0===T)return It("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,p.tV)(g);return L?JSON.parse(L):(It("Failed to decode base64 JWT payload"),null)}catch(L){return It("Caught error parsing JWT payload as JSON",L),null}}function ft(w,h){return In.apply(this,arguments)}function In(){return(In=(0,y.Z)(function*(w,h,g=!1){if(g)return h;try{return yield h}catch(T){throw T instanceof p.ZR&&an(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}function an({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Zt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const L=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,y.Z)(function*(){yield g.iteration()}),T)}iteration(){var h=this;return(0,y.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&h.schedule(!0))}h.schedule()})()}}class wr{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vr(this.lastLoginAt),this.creationTime=Vr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(w){return en.apply(this,arguments)}function en(){return(en=(0,y.Z)(function*(w){var h;const g=w.auth,T=yield w.getIdToken(),L=yield ft(w,yn(g,{idToken:T}));ye(null==L?void 0:L.users.length,g,"internal-error");const W=L.users[0];w._notifyReloadListener(W);const Me=(null===(h=W.providerUserInfo)||void 0===h?void 0:h.length)?Ct(W.providerUserInfo):[],it=un(w.providerData,Me),Tt=!!w.isAnonymous&&!(w.email&&W.passwordHash||(null==it?void 0:it.length)),yr={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:it,metadata:new wr(W.createdAt,W.lastLoginAt),isAnonymous:Tt};Object.assign(w,yr)})).apply(this,arguments)}function pn(){return(pn=(0,y.Z)(function*(w){const h=(0,p.m9)(w);yield Zn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function un(w,h){return[...w.filter(T=>!h.some(L=>L.providerId===T.providerId)),...h]}function Ct(w){return w.map(h=>{var{providerId:g}=h,T=(0,le._T)(h,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function wt(){return(wt=(0,y.Z)(function*(w,h){const g=yield Lt(w,{},(0,y.Z)(function*(){const T=(0,p.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:L,apiKey:W}=w.config,Me=cr(w,L,"/v1/token",`key=${W}`),it=yield w._getAdditionalHeaders();return it["Content-Type"]="application/x-www-form-urlencoded",Nn.fetch()(Me,{method:"POST",headers:it,body:T})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ye(h.idToken,"internal-error"),ye(void 0!==h.idToken,"internal-error"),ye(void 0!==h.refreshToken,"internal-error");const g="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function lt(w){const h=Ce(w);return ye(h,"internal-error"),ye(void 0!==h.exp,"internal-error"),ye(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var T=this;return(0,y.Z)(function*(){return ye(!T.accessToken||T.refreshToken,h,"user-token-expired"),g||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var T=this;return(0,y.Z)(function*(){const{accessToken:L,refreshToken:W,expiresIn:Me}=yield function Le(w,h){return wt.apply(this,arguments)}(h,g);T.updateTokensAndExpiration(L,W,Number(Me))})()}updateTokensAndExpiration(h,g,T){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,g){const{refreshToken:T,accessToken:L,expirationTime:W}=g,Me=new Ht;return T&&(ye("string"==typeof T,"internal-error",{appName:h}),Me.refreshToken=T),L&&(ye("string"==typeof L,"internal-error",{appName:h}),Me.accessToken=L),W&&(ye("number"==typeof W,"internal-error",{appName:h}),Me.expirationTime=W),Me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ht,this.toJSON())}_performRefresh(){return ot("not implemented")}}function nn(w,h){ye("string"==typeof w||void 0===w,"internal-error",{appName:h})}class rn{constructor(h){var{uid:g,auth:T,stsTokenManager:L}=h,W=(0,le._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new wr(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,y.Z)(function*(){const T=yield ft(g,g.stsTokenManager.getToken(g.auth,h));return ye(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(h){return function oe(w){return he.apply(this,arguments)}(this,h)}reload(){return function vt(w){return pn.apply(this,arguments)}(this)}_assign(h){this!==h&&(ye(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new rn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var T=this;return(0,y.Z)(function*(){let L=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),L=!0),g&&(yield Zn(T)),yield T.auth._persistUserIfCurrent(T),L&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,y.Z)(function*(){const g=yield h.getIdToken();return yield ft(h,function Mr(w,h){return Vt.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var T,L,W,Me,it,Ke,tn,Tt;const yr=null!==(T=g.displayName)&&void 0!==T?T:void 0,Ro=null!==(L=g.email)&&void 0!==L?L:void 0,Po=null!==(W=g.phoneNumber)&&void 0!==W?W:void 0,Al=null!==(Me=g.photoURL)&&void 0!==Me?Me:void 0,Sl=null!==(it=g.tenantId)&&void 0!==it?it:void 0,mc=null!==(Ke=g._redirectEventId)&&void 0!==Ke?Ke:void 0,jm=null!==(tn=g.createdAt)&&void 0!==tn?tn:void 0,Hm=null!==(Tt=g.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:si,emailVerified:yc,isAnonymous:Ti,providerData:ha,stsTokenManager:gp}=g;ye(si&&gp,h,"internal-error");const mp=Ht.fromJSON(this.name,gp);ye("string"==typeof si,h,"internal-error"),nn(yr,h.name),nn(Ro,h.name),ye("boolean"==typeof yc,h,"internal-error"),ye("boolean"==typeof Ti,h,"internal-error"),nn(Po,h.name),nn(Al,h.name),nn(Sl,h.name),nn(mc,h.name),nn(jm,h.name),nn(Hm,h.name);const Bu=new rn({uid:si,auth:h,email:Ro,emailVerified:yc,displayName:yr,isAnonymous:Ti,photoURL:Al,phoneNumber:Po,tenantId:Sl,stsTokenManager:mp,createdAt:jm,lastLoginAt:Hm});return ha&&Array.isArray(ha)&&(Bu.providerData=ha.map(Ph=>Object.assign({},Ph))),mc&&(Bu._redirectEventId=mc),Bu}static _fromIdTokenResponse(h,g,T=!1){return(0,y.Z)(function*(){const L=new Ht;L.updateFromServerResponse(g);const W=new rn({uid:g.localId,auth:h,stsTokenManager:L,isAnonymous:T});return yield Zn(W),W})()}}const X=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(g,T){var L=this;return(0,y.Z)(function*(){L.storage[g]=T})()}_get(g){var T=this;return(0,y.Z)(function*(){const L=T.storage[g];return void 0===L?null:L})()}_remove(g){var T=this;return(0,y.Z)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return w.type="NONE",w})();function pe(w,h,g){return`firebase:${w}:${h}:${g}`}class He{constructor(h,g,T){this.persistence=h,this.auth=g,this.userKey=T;const{config:L,name:W}=this.auth;this.fullUserKey=pe(this.userKey,L.apiKey,W),this.fullPersistenceKey=pe("persistence",L.apiKey,W),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,y.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?rn._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,y.Z)(function*(){if(g.persistence===h)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,T="authUser"){return(0,y.Z)(function*(){if(!g.length)return new He(Re(X),h,T);const L=(yield Promise.all(g.map(function(){var tn=(0,y.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return tn.apply(this,arguments)}}()))).filter(tn=>tn);let W=L[0]||Re(X);const Me=pe(T,h.config.apiKey,h.name);let it=null;for(const tn of g)try{const Tt=yield tn._get(Me);if(Tt){const yr=rn._fromJSON(h,Tt);tn!==W&&(it=yr),W=tn;break}}catch(Tt){}const Ke=L.filter(tn=>tn._shouldAllowMigration);return W._shouldAllowMigration&&Ke.length?(W=Ke[0],it&&(yield W._set(Me,it.toJSON())),yield Promise.all(g.map(function(){var tn=(0,y.Z)(function*(Tt){if(Tt!==W)try{yield Tt._remove(Me)}catch(yr){}});return function(Tt){return tn.apply(this,arguments)}}())),new He(W,h,T)):new He(W,h,T)})()}}function Z(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(H(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Q(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ke(h))return"Blackberry";if(Qe(h))return"Webos";if(F(h))return"Safari";if((h.includes("chrome/")||q(h))&&!h.includes("edge/"))return"Chrome";if(te(h))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Q(w=(0,p.z$)()){return/firefox\//i.test(w)}function F(w=(0,p.z$)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function q(w=(0,p.z$)()){return/crios\//i.test(w)}function H(w=(0,p.z$)()){return/iemobile/i.test(w)}function te(w=(0,p.z$)()){return/android/i.test(w)}function ke(w=(0,p.z$)()){return/blackberry/i.test(w)}function Qe(w=(0,p.z$)()){return/webos/i.test(w)}function St(w=(0,p.z$)()){return/iphone|ipad|ipod/i.test(w)}function En(w=(0,p.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function br(w=(0,p.z$)()){return St(w)||te(w)||Qe(w)||ke(w)||/windows phone/i.test(w)||H(w)}function dr(w,h=[]){let g;switch(w){case"Browser":g=Z((0,p.z$)());break;case"Worker":g=`${Z((0,p.z$)())}-${w}`;break;default:g=w}const T=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${V.SDK_VERSION}/${T}`}class ns{constructor(h,g,T){this.app=h,this.heartbeatServiceProvider=g,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dt(this),this.idTokenSubscription=new Dt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(h,g){var T=this;return g&&(this._popupRedirectResolver=Re(g)),this._initializationPromise=this.queue((0,y.Z)(function*(){var L,W;if(!T._deleted&&(T.persistenceManager=yield He.create(T,h),!T._deleted)){if(null===(L=T._popupRedirectResolver)||void 0===L?void 0:L._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(Me){}yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(W=T.currentUser)||void 0===W?void 0:W.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,y.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g)}})()}initializeCurrentUser(h){var g=this;return(0,y.Z)(function*(){var T;let L=yield g.assertedPersistence.getCurrentUser();if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const W=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,Me=null==L?void 0:L._redirectEventId,it=yield g.tryRedirectSignIn(h);(!W||W===Me)&&(null==it?void 0:it.user)&&(L=it.user)}return L?L._redirectEventId?(ye(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===L._redirectEventId?g.directlySetCurrentUser(L):g.reloadAndSetCurrentUserOrClear(L)):g.reloadAndSetCurrentUserOrClear(L):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var g=this;return(0,y.Z)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch(L){yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,y.Z)(function*(){try{yield Zn(h)}catch(T){if("auth/network-request-failed"!==T.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Nt(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,y.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,y.Z)(function*(){const T=h?(0,p.m9)(h):null;return T&&ye(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(h){var g=this;return(0,y.Z)(function*(){if(!g._deleted)return h&&ye(g.tenantId===h.tenantId,g,"tenant-id-mismatch"),g.queue((0,y.Z)(function*(){yield g.directlySetCurrentUser(h),g.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,y.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var g=this;return this.queue((0,y.Z)(function*(){yield g.assertedPersistence.setPersistence(Re(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new p.LL("auth","Firebase",h())}onAuthStateChanged(h,g,T){return this.registerStateListener(this.authStateSubscription,h,g,T)}onIdTokenChanged(h,g,T){return this.registerStateListener(this.idTokenSubscription,h,g,T)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var T=this;return(0,y.Z)(function*(){const L=yield T.getOrInitRedirectPersistenceManager(g);return null===h?L.removeCurrentUser():L.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,y.Z)(function*(){if(!g.redirectPersistenceManager){const T=h&&Re(h)||g._popupRedirectResolver;ye(T,g,"argument-error"),g.redirectPersistenceManager=yield He.create(g,[Re(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,y.Z)(function*(){var T,L;return g._isInitialized&&(yield g.queue((0,y.Z)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===h?g._currentUser:(null===(L=g.redirectUser)||void 0===L?void 0:L._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,y.Z)(function*(){if(h===g.currentUser)return g.queue((0,y.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,T,L){if(this._deleted)return()=>{};const W="function"==typeof g?g:g.next.bind(g),Me=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(Me,this,"internal-error"),Me.then(()=>W(this.currentUser)),"function"==typeof g?h.addObserver(g,T,L):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,y.Z)(function*(){g.currentUser&&g.currentUser!==h&&(g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh()),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=dr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,y.Z)(function*(){var g;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const L=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return L&&(T["X-Firebase-Client"]=L),T})()}}function nr(w){return(0,p.m9)(w)}class Dt{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,p.ne)(g=>this.observer=g)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hn(w,h,g){const T=nr(w);ye(T._canInitEmulator,T,"emulator-config-failed"),ye(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const L=!!(null==g?void 0:g.disableWarnings),W=Un(h),{host:Me,port:it}=function pr(w){const h=Un(w),g=/(\/\/)?([^?#/]+)/.exec(w.substr(h.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(T);if(L){const W=L[1];return{host:W,port:ai(T.substr(W.length+1))}}{const[W,Me]=T.split(":");return{host:W,port:ai(Me)}}}(h);T.config.emulator={url:`${W}//${Me}${null===it?"":`:${it}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Me,port:it,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Cr(){function w(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Un(w){const h=w.indexOf(":");return h<0?"":w.substr(0,h+1)}function ai(w){if(!w)return null;const h=Number(w);return isNaN(h)?null:h}class xr{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return ot("not implemented")}_getIdTokenResponse(h){return ot("not implemented")}_linkToIdToken(h,g){return ot("not implemented")}_getReauthenticationResolver(h){return ot("not implemented")}}function Kn(w,h){return ar.apply(this,arguments)}function ar(){return(ar=(0,y.Z)(function*(w,h){return be(w,"POST","/v1/accounts:resetPassword",fe(w,h))})).apply(this,arguments)}function ms(w,h){return fn.apply(this,arguments)}function fn(){return(fn=(0,y.Z)(function*(w,h){return be(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function yo(w,h){return Si.apply(this,arguments)}function Si(){return(Si=(0,y.Z)(function*(w,h){return be(w,"POST","/v1/accounts:update",fe(w,h))})).apply(this,arguments)}function ui(){return(ui=(0,y.Z)(function*(w,h){return kn(w,"POST","/v1/accounts:signInWithPassword",fe(w,h))})).apply(this,arguments)}function gr(w,h){return Or.apply(this,arguments)}function Or(){return(Or=(0,y.Z)(function*(w,h){return be(w,"POST","/v1/accounts:sendOobCode",fe(w,h))})).apply(this,arguments)}function ei(w,h){return Br.apply(this,arguments)}function Br(){return(Br=(0,y.Z)(function*(w,h){return gr(w,h)})).apply(this,arguments)}function Gn(w,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(w,h){return gr(w,h)})).apply(this,arguments)}function Fs(w,h){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,y.Z)(function*(w,h){return gr(w,h)})).apply(this,arguments)}function yi(w,h){return ys.apply(this,arguments)}function ys(){return(ys=(0,y.Z)(function*(w,h){return gr(w,h)})).apply(this,arguments)}function Ls(){return(Ls=(0,y.Z)(function*(w,h){return kn(w,"POST","/v1/accounts:signInWithEmailLink",fe(w,h))})).apply(this,arguments)}function zo(){return(zo=(0,y.Z)(function*(w,h){return kn(w,"POST","/v1/accounts:signInWithEmailLink",fe(w,h))})).apply(this,arguments)}class eo extends xr{constructor(h,g,T,L=null){super("password",T),this._email=h,this._password=g,this._tenantId=L}static _fromEmailAndPassword(h,g){return new eo(h,g,"password")}static _fromEmailAndCode(h,g,T=null){return new eo(h,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,y.Z)(function*(){switch(g.signInMethod){case"password":return function qo(w,h){return ui.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Xs(w,h){return Ls.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:yt(h,"internal-error")}})()}_linkToIdToken(h,g){var T=this;return(0,y.Z)(function*(){switch(T.signInMethod){case"password":return ms(h,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Mi(w,h){return zo.apply(this,arguments)}(h,{idToken:g,email:T._email,oobCode:T._password});default:yt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function rs(w,h){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,y.Z)(function*(w,h){return kn(w,"POST","/v1/accounts:signInWithIdp",fe(w,h))})).apply(this,arguments)}class li extends xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new li(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):yt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:L}=g,W=(0,le._T)(g,["providerId","signInMethod"]);if(!T||!L)return null;const Me=new li(T,L);return Me.idToken=W.idToken||void 0,Me.accessToken=W.accessToken||void 0,Me.secret=W.secret,Me.nonce=W.nonce,Me.pendingToken=W.pendingToken||null,Me}_getIdTokenResponse(h){return rs(h,this.buildRequest())}_linkToIdToken(h,g){const T=this.buildRequest();return T.idToken=g,rs(h,T)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,rs(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,p.xO)(g)}return h}}function ol(w,h){return _o.apply(this,arguments)}function _o(){return(_o=(0,y.Z)(function*(w,h){return be(w,"POST","/v1/accounts:sendVerificationCode",fe(w,h))})).apply(this,arguments)}function Vs(){return(Vs=(0,y.Z)(function*(w,h){return kn(w,"POST","/v1/accounts:signInWithPhoneNumber",fe(w,h))})).apply(this,arguments)}function Wo(){return(Wo=(0,y.Z)(function*(w,h){const g=yield kn(w,"POST","/v1/accounts:signInWithPhoneNumber",fe(w,h));if(g.temporaryProof)throw Wn(w,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const al={USER_NOT_FOUND:"user-not-found"};function Ga(){return(Ga=(0,y.Z)(function*(w,h){return kn(w,"POST","/v1/accounts:signInWithPhoneNumber",fe(w,Object.assign(Object.assign({},h),{operation:"REAUTH"})),al)})).apply(this,arguments)}class Us extends xr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Us({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Us({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function vo(w,h){return Vs.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function to(w,h){return Wo.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function ya(w,h){return Ga.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:T,verificationCode:L}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:T,code:L}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:T,phoneNumber:L,temporaryProof:W}=h;return T||g||L||W?new Us({verificationId:g,verificationCode:T,phoneNumber:L,temporaryProof:W}):null}}class _i{constructor(h){var g,T,L,W,Me,it;const Ke=(0,p.zd)((0,p.pd)(h)),tn=null!==(g=Ke.apiKey)&&void 0!==g?g:null,Tt=null!==(T=Ke.oobCode)&&void 0!==T?T:null,yr=function yu(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Ke.mode)&&void 0!==L?L:null);ye(tn&&Tt&&yr,"argument-error"),this.apiKey=tn,this.operation=yr,this.code=Tt,this.continueUrl=null!==(W=Ke.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(Me=Ke.languageCode)&&void 0!==Me?Me:null,this.tenantId=null!==(it=Ke.tenantId)&&void 0!==it?it:null}static parseLink(h){const g=function ul(w){const h=(0,p.zd)((0,p.pd)(w)).link,g=h?(0,p.zd)((0,p.pd)(h)).deep_link_id:null,T=(0,p.zd)((0,p.pd)(w)).deep_link_id;return(T?(0,p.zd)((0,p.pd)(T)).link:null)||T||g||h||w}(h);try{return new _i(g)}catch(T){return null}}}let _s=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(g,T){return eo._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const L=_i.parseLink(T);return ye(L,"argument-error"),eo._fromEmailAndCode(g,L.code,L.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class is{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class vs extends is{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class ci extends vs{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return ye("providerId"in g&&"signInMethod"in g,"argument-error"),li._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ye(h.idToken||h.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return ci.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return ci.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:L,pendingToken:W,nonce:Me,providerId:it}=h;if(!T&&!L&&!g&&!W||!it)return null;try{return new ci(it)._credential({idToken:g,accessToken:T,nonce:Me,pendingToken:W})}catch(Ke){return null}}}let _a=(()=>{class w extends vs{constructor(){super("facebook.com")}static credential(g){return li._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch(T){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Bs=(()=>{class w extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return li._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:L}=g;if(!T&&!L)return null;try{return w.credential(T,L)}catch(W){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Zo=(()=>{class w extends vs{constructor(){super("github.com")}static credential(g){return li._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch(T){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class vi extends xr{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return rs(h,this.buildRequest())}_linkToIdToken(h,g){const T=this.buildRequest();return T.idToken=g,rs(h,T)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,rs(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:L,pendingToken:W}=g;return T&&L&&W&&T===L?new vi(T,W):null}static _create(h,g){return new vi(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pr extends is{constructor(h){ye(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Pr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Pr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=vi.fromJSON(h);return ye(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:T}=h;if(!g||!T)return null;try{return vi._create(T,g)}catch(L){return null}}}let xi=(()=>{class w extends vs{constructor(){super("twitter.com")}static credential(g,T){return li._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:L}=g;if(!T||!L)return null;try{return w.credential(T,L)}catch(W){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Yo(w,h){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,y.Z)(function*(w,h){return kn(w,"POST","/v1/accounts:signUp",fe(w,h))})).apply(this,arguments)}class ur{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,T,L=!1){return(0,y.Z)(function*(){const W=yield rn._fromIdTokenResponse(h,T,L),Me=ss(T);return new ur({user:W,providerId:Me,_tokenResponse:T,operationType:g})})()}static _forOperation(h,g,T){return(0,y.Z)(function*(){yield h._updateTokensIfNecessary(T,!0);const L=ss(T);return new ur({user:h,providerId:L,_tokenResponse:T,operationType:g})})()}}function ss(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function va(w){return Es.apply(this,arguments)}function Es(){return(Es=(0,y.Z)(function*(w){var h;const g=nr(w);if(yield g._initializationPromise,null===(h=g.currentUser)||void 0===h?void 0:h.isAnonymous)return new ur({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield Yo(g,{returnSecureToken:!0}),L=yield ur._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(L.user),L})).apply(this,arguments)}class js extends p.ZR{constructor(h,g,T,L){var W;super(g.code,g.message),this.operationType=T,this.user=L,Object.setPrototypeOf(this,js.prototype),this.customData={appName:h.name,tenantId:null!==(W=h.tenantId)&&void 0!==W?W:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,g,T,L){return new js(h,g,T,L)}}function wo(w,h,g,T){return("reauthenticate"===h?g._getReauthenticationResolver(w):g._getIdTokenResponse(w)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?js._fromErrorAndOperation(w,W,h,T):W})}function Qo(w){return new Set(w.map(({providerId:h})=>h).filter(h=>!!h))}function Wi(w,h){return ti.apply(this,arguments)}function ti(){return(ti=(0,y.Z)(function*(w,h){const g=(0,p.m9)(w);yield O(!0,g,h);const{providerUserInfo:T}=yield fr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),L=Qo(T||[]);return g.providerData=g.providerData.filter(W=>L.has(W.providerId)),L.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ea(w,h){return rr.apply(this,arguments)}function rr(){return(rr=(0,y.Z)(function*(w,h,g=!1){const T=yield ft(w,h._linkToIdToken(w.auth,yield w.getIdToken()),g);return ur._forOperation(w,"link",T)})).apply(this,arguments)}function O(w,h,g){return B.apply(this,arguments)}function B(){return(B=(0,y.Z)(function*(w,h,g){yield Zn(h);const L=!1===w?"provider-already-linked":"no-such-provider";ye(Qo(h.providerData).has(g)===w,h.auth,L)})).apply(this,arguments)}function x(w,h){return z.apply(this,arguments)}function z(){return(z=(0,y.Z)(function*(w,h,g=!1){const{auth:T}=w,L="reauthenticate";try{const W=yield ft(w,wo(T,L,h,w),g);ye(W.idToken,T,"internal-error");const Me=Ce(W.idToken);ye(Me,T,"internal-error");const{sub:it}=Me;return ye(w.uid===it,T,"user-mismatch"),ur._forOperation(w,L,W)}catch(W){throw"auth/user-not-found"===(null==W?void 0:W.code)&&yt(T,"user-mismatch"),W}})).apply(this,arguments)}function ie(w,h){return je.apply(this,arguments)}function je(){return(je=(0,y.Z)(function*(w,h,g=!1){const T="signIn",L=yield wo(w,T,h),W=yield ur._fromIdTokenResponse(w,T,L);return g||(yield w._updateCurrentUser(W.user)),W})).apply(this,arguments)}function rt(w,h){return At.apply(this,arguments)}function At(){return(At=(0,y.Z)(function*(w,h){return ie(nr(w),h)})).apply(this,arguments)}function Qn(w,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,y.Z)(function*(w,h){const g=(0,p.m9)(w);return yield O(!1,g,h.providerId),Ea(g,h)})).apply(this,arguments)}function bn(w,h){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,y.Z)(function*(w,h){return x((0,p.m9)(w),h)})).apply(this,arguments)}function mr(w,h){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,y.Z)(function*(w,h){return kn(w,"POST","/v1/accounts:signInWithCustomToken",fe(w,h))})).apply(this,arguments)}function sr(w,h){return di.apply(this,arguments)}function di(){return(di=(0,y.Z)(function*(w,h){const g=nr(w),T=yield mr(g,{token:h,returnSecureToken:!0}),L=yield ur._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(L.user),L})).apply(this,arguments)}class ni{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Kt._fromServerResponse(h,g):yt(h,"internal-error")}}class Kt extends ni{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Kt(g)}}function ws(w,h,g){var T;ye((null===(T=g.url)||void 0===T?void 0:T.length)>0,w,"invalid-continue-uri"),ye(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ye(g.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(ye(g.android.packageName.length>0,w,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function _u(w,h,g){return no.apply(this,arguments)}function no(){return(no=(0,y.Z)(function*(w,h,g){const T=(0,p.m9)(w),L={requestType:"PASSWORD_RESET",email:h};g&&ws(T,L,g),yield Gn(T,L)})).apply(this,arguments)}function Wa(w,h,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,y.Z)(function*(w,h,g){yield Kn((0,p.m9)(w),{oobCode:h,newPassword:g})})).apply(this,arguments)}function oc(w,h){return ro.apply(this,arguments)}function ro(){return(ro=(0,y.Z)(function*(w,h){yield yo((0,p.m9)(w),{oobCode:h})})).apply(this,arguments)}function st(w,h){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,y.Z)(function*(w,h){const g=(0,p.m9)(w),T=yield Kn(g,{oobCode:h}),L=T.requestType;switch(ye(L,g,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(T.mfaInfo,g,"internal-error");default:ye(T.email,g,"internal-error")}let W=null;return T.mfaInfo&&(W=ni._fromServerResponse(nr(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:W},operation:L}})).apply(this,arguments)}function Rn(w,h){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,y.Z)(function*(w,h){const{data:g}=yield st((0,p.m9)(w),h);return g.email})).apply(this,arguments)}function vu(w,h,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,y.Z)(function*(w,h,g){const T=nr(w),L=yield Yo(T,{returnSecureToken:!0,email:h,password:g}),W=yield ur._fromIdTokenResponse(T,"signIn",L);return yield T._updateCurrentUser(W.user),W})).apply(this,arguments)}function bs(w,h,g){return rt((0,p.m9)(w),_s.credential(h,g))}function Eu(w,h,g){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,y.Z)(function*(w,h,g){const T=(0,p.m9)(w),L={requestType:"EMAIL_SIGNIN",email:h};ye(g.handleCodeInApp,T,"argument-error"),g&&ws(T,L,g),yield Fs(T,L)})).apply(this,arguments)}function ld(w,h){const g=_i.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function ll(w,h,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,y.Z)(function*(w,h,g){const T=(0,p.m9)(w),L=_s.credentialWithLink(h,g||Oe());return ye(L._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),rt(T,L)})).apply(this,arguments)}function Xo(w,h){return zr.apply(this,arguments)}function zr(){return(zr=(0,y.Z)(function*(w,h){return be(w,"POST","/v1/accounts:createAuthUri",fe(w,h))})).apply(this,arguments)}function Cs(w,h){return wa.apply(this,arguments)}function wa(){return(wa=(0,y.Z)(function*(w,h){const T={identifier:h,continueUri:zt()?Oe():"http://localhost"},{signinMethods:L}=yield Xo((0,p.m9)(w),T);return L||[]})).apply(this,arguments)}function ea(w,h){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,y.Z)(function*(w,h){const g=(0,p.m9)(w),L={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};h&&ws(g.auth,L,h);const{email:W}=yield ei(g.auth,L);W!==w.email&&(yield w.reload())})).apply(this,arguments)}function cl(w,h,g){return ta.apply(this,arguments)}function ta(){return(ta=(0,y.Z)(function*(w,h,g){const T=(0,p.m9)(w),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:h};g&&ws(T.auth,W,g);const{email:Me}=yield yi(T.auth,W);Me!==w.email&&(yield w.reload())})).apply(this,arguments)}function dl(w,h){return ba.apply(this,arguments)}function ba(){return(ba=(0,y.Z)(function*(w,h){return be(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function wu(w,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,y.Z)(function*(w,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const T=(0,p.m9)(w),W={idToken:yield T.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Me=yield ft(T,dl(T.auth,W));T.displayName=Me.displayName||null,T.photoURL=Me.photoUrl||null;const it=T.providerData.find(({providerId:Ke})=>"password"===Ke);it&&(it.displayName=T.displayName,it.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Me)})).apply(this,arguments)}function bu(w,h){return Ca((0,p.m9)(w),h,null)}function hl(w,h){return Ca((0,p.m9)(w),null,h)}function Ca(w,h,g){return na.apply(this,arguments)}function na(){return(na=(0,y.Z)(function*(w,h,g){const{auth:T}=w,W={idToken:yield w.getIdToken(),returnSecureToken:!0};h&&(W.email=h),g&&(W.password=g);const Me=yield ft(w,ms(T,W));yield w._updateTokensIfNecessary(Me,!0)})).apply(this,arguments)}class io{constructor(h,g,T={}){this.isNewUser=h,this.providerId=g,this.profile=T}}class Cu extends io{constructor(h,g,T,L){super(h,g,T),this.username=L}}class fl extends io{constructor(h,g){super(h,"facebook.com",g)}}class Tu extends Cu{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ia extends io{constructor(h,g){super(h,"google.com",g)}}class pl extends Cu{constructor(h,g,T){super(h,"twitter.com",g,T)}}function Iu(w){const{user:h,_tokenResponse:g}=w;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ra(w){var h,g;if(!w)return null;const{providerId:T}=w,L=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},W=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!T&&(null==w?void 0:w.idToken)){const Me=null===(g=null===(h=Ce(w.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Me)return new io(W,"anonymous"!==Me&&"custom"!==Me?Me:null)}if(!T)return null;switch(T){case"facebook.com":return new fl(W,L);case"github.com":return new Tu(W,L);case"google.com":return new ia(W,L);case"twitter.com":return new pl(W,L,w.screenName||null);case"custom":case"anonymous":return new io(W,null);default:return new io(W,T,L)}}(g)}function Ir(w,h,g,T){return(0,p.m9)(w).onAuthStateChanged(h,g,T)}class $s{constructor(h,g){this.type=h,this.credential=g}static _fromIdtoken(h){return new $s("enroll",h)}static _fromMfaPendingCredential(h){return new $s("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,T;if(null==h?void 0:h.multiFactorSession){if(null===(g=h.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return $s._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(T=h.multiFactorSession)||void 0===T?void 0:T.idToken)return $s._fromIdtoken(h.multiFactorSession.idToken)}return null}}class so{constructor(h,g,T){this.session=h,this.hints=g,this.signInResolver=T}static _fromError(h,g){const T=nr(h),L=g.customData._serverResponse,W=(L.mfaInfo||[]).map(it=>ni._fromServerResponse(T,it));ye(L.mfaPendingCredential,T,"internal-error");const Me=$s._fromMfaPendingCredential(L.mfaPendingCredential);return new so(Me,W,function(){var it=(0,y.Z)(function*(Ke){const tn=yield Ke._process(T,Me);delete L.mfaInfo,delete L.mfaPendingCredential;const Tt=Object.assign(Object.assign({},L),{idToken:tn.idToken,refreshToken:tn.refreshToken});switch(g.operationType){case"signIn":const yr=yield ur._fromIdTokenResponse(T,g.operationType,Tt);return yield T._updateCurrentUser(yr.user),yr;case"reauthenticate":return ye(g.user,T,"internal-error"),ur._forOperation(g.user,g.operationType,Tt);default:yt(T,"internal-error")}});return function(Ke){return it.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,y.Z)(function*(){return g.signInResolver(h)})()}}function To(w,h){var g;const T=(0,p.m9)(w),L=h;return ye(h.customData.operationType,T,"argument-error"),ye(null===(g=L.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),so._fromError(T,L)}function Wr(w,h){return be(w,"POST","/v2/accounts/mfaEnrollment:start",fe(w,h))}class Ka{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>ni._fromServerResponse(h.auth,T)))})}static _fromUser(h){return new Ka(h)}getSession(){var h=this;return(0,y.Z)(function*(){return $s._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,g){var T=this;return(0,y.Z)(function*(){const L=h,W=yield T.getSession(),Me=yield ft(T.user,L._process(T.user.auth,W,g));return yield T.user._updateTokensIfNecessary(Me),T.user.reload()})()}unenroll(h){var g=this;return(0,y.Z)(function*(){const T="string"==typeof h?h:h.uid,L=yield g.user.getIdToken(),W=yield ft(g.user,function jr(w,h){return be(w,"POST","/v2/accounts/mfaEnrollment:withdraw",fe(w,h))}(g.user.auth,{idToken:L,mfaEnrollmentId:T}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Me})=>Me!==T),yield g.user._updateTokensIfNecessary(W);try{yield g.user.reload()}catch(Me){if("auth/user-token-expired"!==Me.code)throw Me}})()}}const Ki=new WeakMap;function Gs(w){const h=(0,p.m9)(w);return Ki.has(h)||Ki.set(h,Ka._fromUser(h)),Ki.get(h)}const oo="__sak";class Io{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(oo,"1"),this.storage.removeItem(oo),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mu=(()=>{class w extends Io{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ri(){const w=(0,p.z$)();return F(w)||St(w)}()&&function Ur(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=br(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const L=this.storage.getItem(T),W=this.localCache[T];L!==W&&g(T,W,L)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((it,Ke,tn)=>{this.notifyListeners(it,tn)});const L=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const it=this.storage.getItem(L);if(g.newValue!==it)null!==g.newValue?this.storage.setItem(L,g.newValue):this.storage.removeItem(L);else if(this.localCache[L]===g.newValue&&!T)return}const W=()=>{const it=this.storage.getItem(L);!T&&this.localCache[L]===it||this.notifyListeners(L,it)},Me=this.storage.getItem(L);!function wn(){return(0,p.w1)()&&10===document.documentMode}()||Me===g.newValue||g.newValue===g.oldValue?W():setTimeout(W,10)}notifyListeners(g,T){this.localCache[g]=T;const L=this.listeners[g];if(L)for(const W of Array.from(L))W(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var L=()=>super._set,W=this;return(0,y.Z)(function*(){yield L().call(W,g,T),W.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,L=this;return(0,y.Z)(function*(){const W=yield T().call(L,g);return L.localCache[g]=JSON.stringify(W),W})()}_remove(g){var T=()=>super._remove,L=this;return(0,y.Z)(function*(){yield T().call(L,g),delete L.localCache[g]})()}}return w.type="LOCAL",w})(),Do=(()=>{class w extends Io{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return w.type="SESSION",w})();let os=(()=>{class w{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(W=>W.isListeningto(g));if(T)return T;const L=new w(g);return this.receivers.push(L),L}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,y.Z)(function*(){const L=g,{eventId:W,eventType:Me,data:it}=L.data,Ke=T.handlersMap[Me];if(!(null==Ke?void 0:Ke.size))return;L.ports[0].postMessage({status:"ack",eventId:W,eventType:Me});const tn=Array.from(Ke).map(function(){var yr=(0,y.Z)(function*(Ro){return Ro(L.origin,it)});return function(Ro){return yr.apply(this,arguments)}}()),Tt=yield function gl(w){return Promise.all(w.map(function(){var h=(0,y.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return h.apply(this,arguments)}}()))}(tn);L.ports[0].postMessage({status:"done",eventId:W,eventType:Me,response:Tt})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Is(w="",h=10){let g="";for(let T=0;T<h;T++)g+=Math.floor(10*Math.random());return w+g}class xu{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,T=50){var L=this;return(0,y.Z)(function*(){const W="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let Me,it;return new Promise((Ke,tn)=>{const Tt=Is("",20);W.port1.start();const yr=setTimeout(()=>{tn(new Error("unsupported_event"))},T);it={messageChannel:W,onMessage(Ro){const Po=Ro;if(Po.data.eventId===Tt)switch(Po.data.status){case"ack":clearTimeout(yr),Me=setTimeout(()=>{tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Me),Ke(Po.data.response);break;default:clearTimeout(yr),clearTimeout(Me),tn(new Error("invalid_response"))}}},L.handlers.add(it),W.port1.addEventListener("message",it.onMessage),L.target.postMessage({eventType:h,eventId:Tt,data:g},[W.port2])}).finally(()=>{it&&L.removeMessageHandler(it)})})()}}function Ar(){return window}function oa(){return void 0!==Ar().WorkerGlobalScope&&"function"==typeof Ar().importScripts}function qs(){return(qs=(0,y.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const zs="firebaseLocalStorageDb",Ws="firebaseLocalStorage",Ja="fbase_key";class Ei{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function As(w,h){return w.transaction([Ws],h?"readwrite":"readonly").objectStore(Ws)}function wi(){const w=indexedDB.open(zs,1);return new Promise((h,g)=>{w.addEventListener("error",()=>{g(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(Ws,{keyPath:Ja})}catch(L){g(L)}}),w.addEventListener("success",(0,y.Z)(function*(){const T=w.result;T.objectStoreNames.contains(Ws)?h(T):(T.close(),yield function Ss(){const w=indexedDB.deleteDatabase(zs);return new Ei(w).toPromise()}(),h(yield wi()))}))})}function I(w,h,g){return E.apply(this,arguments)}function E(){return(E=(0,y.Z)(function*(w,h,g){const T=As(w,!0).put({[Ja]:h,value:g});return new Ei(T).toPromise()})).apply(this,arguments)}function S(){return(S=(0,y.Z)(function*(w,h){const g=As(w,!1).get(h),T=yield new Ei(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function P(w,h){const g=As(w,!0).delete(h);return new Ei(g).toPromise()}const $e=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,y.Z)(function*(){return g.db||(g.db=yield wi()),g.db})()}_withRetries(g){var T=this;return(0,y.Z)(function*(){let L=0;for(;;)try{const W=yield T._openDb();return yield g(W)}catch(W){if(L++>3)throw W;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,y.Z)(function*(){return oa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,y.Z)(function*(){g.receiver=os._getInstance(function ml(){return oa()?self:null}()),g.receiver._subscribe("keyChanged",function(){var T=(0,y.Z)(function*(L,W){return{keyProcessed:(yield g._poll()).includes(W.key)}});return function(L,W){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,y.Z)(function*(L,W){return["keyChanged"]});return function(L,W){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,y.Z)(function*(){var T,L;if(g.activeServiceWorker=yield function as(){return qs.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new xu(g.activeServiceWorker);const W=yield g.sender._send("ping",{},800);!W||(null===(T=W[0])||void 0===T?void 0:T.fulfilled)&&(null===(L=W[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,y.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function ao(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch(L){}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const g=yield wi();return yield I(g,oo,"1"),yield P(g,oo),!0}catch(g){}return!1})()}_withPendingWrite(g){var T=this;return(0,y.Z)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var L=this;return(0,y.Z)(function*(){return L._withPendingWrite((0,y.Z)(function*(){return yield L._withRetries(W=>I(W,g,T)),L.localCache[g]=T,L.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,y.Z)(function*(){const L=yield T._withRetries(W=>function v(w,h){return S.apply(this,arguments)}(W,g));return T.localCache[g]=L,L})()}_remove(g){var T=this;return(0,y.Z)(function*(){return T._withPendingWrite((0,y.Z)(function*(){return yield T._withRetries(L=>P(L,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,y.Z)(function*(){const T=yield g._withRetries(Me=>{const it=As(Me,!1).getAll();return new Ei(it).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const L=[],W=new Set;for(const{fbase_key:Me,value:it}of T)W.add(Me),JSON.stringify(g.localCache[Me])!==JSON.stringify(it)&&(g.notifyListeners(Me,it),L.push(Me));for(const Me of Object.keys(g.localCache))g.localCache[Me]&&!W.has(Me)&&(g.notifyListeners(Me,null),L.push(Me));return L})()}notifyListeners(g,T){this.localCache[g]=T;const L=this.listeners[g];if(L)for(const W of Array.from(L))W(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Rt(w,h){return be(w,"POST","/v2/accounts/mfaSignIn:start",fe(w,h))}function Hn(){return(Hn=(0,y.Z)(function*(w){return(yield be(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hr(w){return new Promise((h,g)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=h,T.onerror=L=>{const W=Ne("internal-error");W.customData=L,g(W)},T.type="text/javascript",T.charset="UTF-8",function Pn(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(T)})}function Ni(w){return`__${w}${Math.floor(1e6*Math.random())}`}const ki=1e12;class lo{constructor(h){this.auth=h,this.counter=ki,this._widgets=new Map}render(h,g){const T=this.counter;return this._widgets.set(T,new wh(h,this.auth.name,g||{})),this.counter++,T}reset(h){var g;const T=h||ki;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(h){var g;return(null===(g=this._widgets.get(h||ki))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,y.Z)(function*(){var T;return null===(T=g._widgets.get(h||ki))||void 0===T||T.execute(),""})()}}class wh{constructor(h,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof h?document.getElementById(h):h;ye(L,"argument-error",{appName:g}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dd(w){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<w;T++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ta=Ni("rcb"),Ou=new Ft(3e4,6e4);class Hr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ar().grecaptcha}load(h,g=""){return ye(function sp(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Ar().grecaptcha):new Promise((T,L)=>{const W=Ar().setTimeout(()=>{L(Ne(h,"network-request-failed"))},Ou.get());Ar()[Ta]=()=>{Ar().clearTimeout(W),delete Ar()[Ta];const it=Ar().grecaptcha;if(!it)return void L(Ne(h,"internal-error"));const Ke=it.render;it.render=(tn,Tt)=>{const yr=Ke(tn,Tt);return this.counter++,yr},this.hostLanguage=g,T(it)},hr(`https://www.google.com/recaptcha/api.js??${(0,p.xO)({onload:Ta,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(W),L(Ne(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!Ar().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hd{load(h){return(0,y.Z)(function*(){return new lo(h)})()}clearedOneInstance(){}}const yl="recaptcha",fd={theme:"light",type:"image"};class pd{constructor(h,g=Object.assign({},fd),T){this.parameters=g,this.type=yl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(T),this.isInvisible="invisible"===this.parameters.size,ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof h?document.getElementById(h):h;ye(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hd:new Hr,this.validateStartingState()}verify(){var h=this;return(0,y.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),T=h.getAssertedRecaptcha();return T.getResponse(g)||new Promise(W=>{const Me=it=>{!it||(h.tokenChangeListeners.delete(Me),W(it))};h.tokenChangeListeners.add(Me),h.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof h)h(g);else if("string"==typeof h){const T=Ar()[h];"function"==typeof T&&T(g)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,y.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,y.Z)(function*(){ye(zt()&&!oa(),h.auth,"internal-error"),yield function op(){let w=null;return new Promise(h=>{"complete"!==document.readyState?(w=()=>h(),window.addEventListener("load",w)):h()}).catch(h=>{throw w&&window.removeEventListener("load",w),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function $t(w){return Hn.apply(this,arguments)}(h.auth);ye(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _l{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Us._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Xa(w,h,g){return gd.apply(this,arguments)}function gd(){return(gd=(0,y.Z)(function*(w,h,g){const T=nr(w),L=yield Ia(T,h,(0,p.m9)(g));return new _l(L,W=>rt(T,W))})).apply(this,arguments)}function Zr(w,h,g){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,y.Z)(function*(w,h,g){const T=(0,p.m9)(w);yield O(!1,T,"phone");const L=yield Ia(T.auth,h,(0,p.m9)(g));return new _l(L,W=>Qn(T,W))})).apply(this,arguments)}function vl(w,h,g){return md.apply(this,arguments)}function md(){return(md=(0,y.Z)(function*(w,h,g){const T=(0,p.m9)(w),L=yield Ia(T.auth,h,(0,p.m9)(g));return new _l(L,W=>bn(T,W))})).apply(this,arguments)}function Ia(w,h,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,y.Z)(function*(w,h,g){var T;const L=yield g.verify();try{let W;if(ye("string"==typeof L,w,"argument-error"),ye(g.type===yl,w,"argument-error"),W="string"==typeof h?{phoneNumber:h}:h,"session"in W){const Me=W.session;if("phoneNumber"in W)return ye("enroll"===Me.type,w,"internal-error"),(yield Wr(w,{idToken:Me.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{ye("signin"===Me.type,w,"internal-error");const it=(null===(T=W.multiFactorHint)||void 0===T?void 0:T.uid)||W.multiFactorUid;return ye(it,w,"missing-multi-factor-info"),(yield Rt(w,{mfaPendingCredential:Me.credential,mfaEnrollmentId:it,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Me}=yield ol(w,{phoneNumber:W.phoneNumber,recaptchaToken:L});return Me}}finally{g._reset()}})).apply(this,arguments)}function bi(w,h){return eu.apply(this,arguments)}function eu(){return(eu=(0,y.Z)(function*(w,h){yield Ea((0,p.m9)(w),h)})).apply(this,arguments)}let aa=(()=>{class w{constructor(g){this.providerId=w.PROVIDER_ID,this.auth=nr(g)}verifyPhoneNumber(g,T){return Ia(this.auth,g,(0,p.m9)(T))}static credential(g,T){return Us._fromVerification(g,T)}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:L}=g;return T&&L?Us._fromTokenResponse(T,L):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ci(w,h){return h?Re(h):(ye(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class tu extends xr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return rs(h,this._buildIdpRequest())}_linkToIdToken(h,g){return rs(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return rs(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function uc(w){return ie(w.auth,new tu(w),w.bypassAuthState)}function lc(w){const{auth:h,user:g}=w;return ye(g,h,"internal-error"),x(g,new tu(w),w.bypassAuthState)}function yd(w){return El.apply(this,arguments)}function El(){return(El=(0,y.Z)(function*(w){const{auth:h,user:g}=w;return ye(g,h,"internal-error"),Ea(g,new tu(w),w.bypassAuthState)})).apply(this,arguments)}class wl{constructor(h,g,T,L,W=!1){this.auth=h,this.resolver=T,this.user=L,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,y.Z)(function*(T,L){h.pendingPromise={resolve:T,reject:L};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(W){h.reject(W)}});return function(T,L){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,y.Z)(function*(){const{urlResponse:T,sessionId:L,postBody:W,tenantId:Me,error:it,type:Ke}=h;if(it)return void g.reject(it);const tn={auth:g.auth,requestUri:T,sessionId:L,tenantId:Me||void 0,postBody:W||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ke)(tn))}catch(Tt){g.reject(Tt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return uc;case"linkViaPopup":case"linkViaRedirect":return yd;case"reauthViaPopup":case"reauthViaRedirect":return lc;default:yt(this.auth,"internal-error")}}resolve(h){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ms=new Ft(2e3,1e4);function Pu(w,h,g){return co.apply(this,arguments)}function co(){return(co=(0,y.Z)(function*(w,h,g){const T=nr(w);xe(w,h,is);const L=Ci(T,g);return new _d(T,"signInViaPopup",h,L).executeNotNull()})).apply(this,arguments)}function cc(w,h,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,y.Z)(function*(w,h,g){const T=(0,p.m9)(w);xe(T.auth,h,is);const L=Ci(T.auth,g);return new _d(T.auth,"reauthViaPopup",h,L,T).executeNotNull()})).apply(this,arguments)}function dc(w,h,g){return hc.apply(this,arguments)}function hc(){return(hc=(0,y.Z)(function*(w,h,g){const T=(0,p.m9)(w);xe(T.auth,h,is);const L=Ci(T.auth,g);return new _d(T.auth,"linkViaPopup",h,L,T).executeNotNull()})).apply(this,arguments)}let _d=(()=>{class w extends wl{constructor(g,T,L,W,Me){super(g,T,W,Me),this.provider=L,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var g=this;return(0,y.Z)(function*(){const T=yield g.execute();return ye(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,y.Z)(function*(){me(1===g.filter.length,"Popup operations only handle one event");const T=Is();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(L=>{g.reject(L)}),g.resolver._isIframeWebStorageSupported(g.auth,L=>{L||g.reject(Ne(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,L;this.pollId=(null===(L=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===L?void 0:L.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Ms.get())};g()}}return w.currentPopupAction=null,w})();const fc=new Map;class ua extends wl{constructor(h,g,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,y.Z)(function*(){let T=fc.get(g.auth._key());if(!T){try{const W=(yield function pc(w,h){return Nu.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;T=()=>Promise.resolve(W)}catch(L){T=()=>Promise.reject(L)}fc.set(g.auth._key(),T)}return g.bypassAuthState||fc.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,T=this;return(0,y.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(T,h);if("unknown"!==h.type){if(h.eventId){const L=yield T.auth._redirectUserForId(h.eventId);if(L)return T.user=L,g().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Nu(){return(Nu=(0,y.Z)(function*(w,h){const g=A(h),T=Tl(w);if(!(yield T._isAvailable()))return!1;const L="true"===(yield T._get(g));return yield T._remove(g),L})).apply(this,arguments)}function bl(w,h){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,y.Z)(function*(w,h){return Tl(w)._set(A(h),"true")})).apply(this,arguments)}function Cl(){fc.clear()}function Tl(w){return Re(w._redirectPersistence)}function A(w){return pe("pendingRedirect",w.config.apiKey,w.name)}function R(w,h,g){return function G(w,h,g){return ee.apply(this,arguments)}(w,h,g)}function ee(){return(ee=(0,y.Z)(function*(w,h,g){const T=nr(w);xe(w,h,is);const L=Ci(T,g);return yield bl(L,T),L._openRedirect(T,h,"signInViaRedirect")})).apply(this,arguments)}function Ie(w,h,g){return function Ve(w,h,g){return gt.apply(this,arguments)}(w,h,g)}function gt(){return(gt=(0,y.Z)(function*(w,h,g){const T=(0,p.m9)(w);xe(T.auth,h,is);const L=Ci(T.auth,g);yield bl(L,T.auth);const W=yield nu(T);return L._openRedirect(T.auth,h,"reauthViaRedirect",W)})).apply(this,arguments)}function jt(w,h,g){return function qt(w,h,g){return ln.apply(this,arguments)}(w,h,g)}function ln(){return(ln=(0,y.Z)(function*(w,h,g){const T=(0,p.m9)(w);xe(T.auth,h,is);const L=Ci(T.auth,g);yield O(!1,T,h.providerId),yield bl(L,T.auth);const W=yield nu(T);return L._openRedirect(T.auth,h,"linkViaRedirect",W)})).apply(this,arguments)}function Yn(w,h){return _n.apply(this,arguments)}function _n(){return(_n=(0,y.Z)(function*(w,h){return yield nr(w)._initializationPromise,ii(w,h,!1)})).apply(this,arguments)}function ii(w,h){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,y.Z)(function*(w,h,g=!1){const T=nr(w),L=Ci(T,h),Me=yield new ua(T,L,g).execute();return Me&&!g&&(delete Me.user._redirectEventId,yield T._persistUserIfCurrent(Me.user),yield T._setRedirectUser(null,h)),Me})).apply(this,arguments)}function nu(w){return ku.apply(this,arguments)}function ku(){return(ku=(0,y.Z)(function*(w){const h=Is(`${w.uid}:::`);return w._redirectEventId=h,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),h})).apply(this,arguments)}class Qi{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(g=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Pm(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xo(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var T;if(h.error&&!xo(h)){const L=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(Ne(this.auth,L))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const T=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xs(h))}saveEventToCache(h){this.cachedEventUids.add(xs(h)),this.lastProcessedEventTime=Date.now()}}function xs(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function xo({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===(null==h?void 0:h.code)}function bh(w){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,y.Z)(function*(w,h={}){return be(w,"GET","/v1/projects",h)})).apply(this,arguments)}const vd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ap=/^https?/;function Ch(){return(Ch=(0,y.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield bh(w);for(const g of h)try{if(Lu(g))return}catch(T){}yt(w,"unauthorized-domain")})).apply(this,arguments)}function Lu(w){const h=Oe(),{protocol:g,hostname:T}=new URL(h);if(w.startsWith("chrome-extension://")){const Me=new URL(w);return""===Me.hostname&&""===T?"chrome-extension:"===g&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Me.hostname===T}if(!ap.test(g))return!1;if(vd.test(w))return T===w;const L=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(T)}const Il=new Ft(3e4,6e4);function Th(){const w=Ar().___jsl;if(null==w?void 0:w.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let g=0;g<w.CP.length;g++)w.CP[g]=null}let la=null;function Nm(w){return la=la||function Oo(w){return new Promise((h,g)=>{var T,L,W;function Me(){Th(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Th(),g(Ne(w,"network-request-failed"))},timeout:Il.get()})}if(null===(L=null===(T=Ar().gapi)||void 0===T?void 0:T.iframes)||void 0===L?void 0:L.Iframe)h(gapi.iframes.getContext());else{if(!(null===(W=Ar().gapi)||void 0===W?void 0:W.load)){const it=Ni("iframefcb");return Ar()[it]=()=>{gapi.load?Me():g(Ne(w,"network-request-failed"))},hr(`https://apis.google.com/js/api.js?onload=${it}`).catch(Ke=>g(Ke))}Me()}}).catch(h=>{throw la=null,h})}(w),la}const c0=new Ft(5e3,15e3),lp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ih(w){const h=w.config;ye(h.authDomain,w,"auth-domain-config-required");const g=h.emulator?Ln(h,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,T={apiKey:h.apiKey,appName:w.name,v:V.SDK_VERSION},L=Vu.get(w.config.apiHost);L&&(T.eid=L);const W=w._getFrameworks();return W.length&&(T.fw=W.join(",")),`${g}?${(0,p.xO)(T).slice(1)}`}function gc(){return gc=(0,y.Z)(function*(w){const h=yield Nm(w),g=Ar().gapi;return ye(g,w,"internal-error"),h.open({where:document.body,url:Ih(w),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lp,dontclear:!0},T=>new Promise(function(){var L=(0,y.Z)(function*(W,Me){yield T.restyle({setHideOnLeave:!1});const it=Ne(w,"network-request-failed"),Ke=Ar().setTimeout(()=>{Me(it)},c0.get());function tn(){Ar().clearTimeout(Ke),W(T)}T.ping(tn).then(tn,()=>{Me(it)})});return function(W,Me){return L.apply(this,arguments)}}()))}),gc.apply(this,arguments)}const Fm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ah{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function bd(w,h,g,T,L,W){ye(w.config.authDomain,w,"auth-domain-config-required"),ye(w.config.apiKey,w,"invalid-api-key");const Me={apiKey:w.config.apiKey,appName:w.name,authType:g,redirectUrl:T,v:V.SDK_VERSION,eventId:L};if(h instanceof is){h.setDefaultLanguage(w.languageCode),Me.providerId=h.providerId||"",(0,p.xb)(h.getCustomParameters())||(Me.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ke,tn]of Object.entries(W||{}))Me[Ke]=tn}if(h instanceof vs){const Ke=h.getScopes().filter(tn=>""!==tn);Ke.length>0&&(Me.scopes=Ke.join(","))}w.tenantId&&(Me.tid=w.tenantId);const it=Me;for(const Ke of Object.keys(it))void 0===it[Ke]&&delete it[Ke];return`${function Um({config:w}){return w.emulator?Ln(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,p.xO)(it).slice(1)}`}const Mh="webStorageSupport",Uu=class Da{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Do,this._completeRedirectFn=ii}_openPopup(h,g,T,L){var W=this;return(0,y.Z)(function*(){var Me;me(null===(Me=W.eventManagers[h._key()])||void 0===Me?void 0:Me.manager,"_initialize() not called before _openPopup()");const it=bd(h,g,T,Oe(),L);return function Sh(w,h,g,T=500,L=600){const W=Math.max((window.screen.availHeight-L)/2,0).toString(),Me=Math.max((window.screen.availWidth-T)/2,0).toString();let it="";const Ke=Object.assign(Object.assign({},Fm),{width:T.toString(),height:L.toString(),top:W,left:Me}),tn=(0,p.z$)().toLowerCase();g&&(it=q(tn)?"_blank":g),Q(tn)&&(h=h||"http://localhost",Ke.scrollbars="yes");const Tt=Object.entries(Ke).reduce((Ro,[Po,Al])=>`${Ro}${Po}=${Al},`,"");if(function jn(w=(0,p.z$)()){var h;return St(w)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(tn)&&"_self"!==it)return function ca(w,h){const g=document.createElement("a");g.href=w,g.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(h||"",it),new Ah(null);const yr=window.open(h||"",it,Tt);ye(yr,w,"popup-blocked");try{yr.focus()}catch(Ro){}return new Ah(yr)}(h,it,Is())})()}_openRedirect(h,g,T,L){var W=this;return(0,y.Z)(function*(){return yield W._originValidation(h),function Ds(w){Ar().location.href=w}(bd(h,g,T,Oe(),L)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:L,promise:W}=this.eventManagers[g];return L?Promise.resolve(L):(me(W,"If manager is not set, promise should be"),W)}const T=this.initAndGetManager(h);return this.eventManagers[g]={promise:T},T.catch(()=>{delete this.eventManagers[g]}),T}initAndGetManager(h){var g=this;return(0,y.Z)(function*(){const T=yield function Dl(w){return gc.apply(this,arguments)}(h),L=new Qi(h);return T.register("authEvent",W=>(ye(null==W?void 0:W.authEvent,h,"invalid-auth-event"),{status:L.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:L},g.iframes[h._key()]=T,L})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Mh,{type:Mh},L=>{var W;const Me=null===(W=null==L?void 0:L[0])||void 0===W?void 0:W[Mh];void 0!==Me&&g(!!Me),yt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ed(w){return Ch.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return br()||F()||St()}};class xh extends class hp{constructor(h){this.factorId=h}_process(h,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,T);case"signin":return this._finalizeSignIn(h,g.credential);default:return ot("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new xh(h)}_finalizeEnroll(h,g,T){return function Dr(w,h){return be(w,"POST","/v2/accounts/mfaEnrollment:finalize",fe(w,h))}(h,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function An(w,h){return be(w,"POST","/v2/accounts/mfaSignIn:finalize",fe(w,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fp=(()=>{class w{constructor(){}static assertion(g){return xh._fromCredential(g)}}return w.FACTOR_ID="phone",w})();var Oh="@firebase/auth",Rh="0.19.11";class Bm{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,y.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(T=>{var L;h((null===(L=T)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function da(w=(0,V.getApp)()){const h=(0,V._getProvider)(w,"auth");return h.isInitialized()?h.getImmediate():function Be(w,h){const g=(0,V._getProvider)(w,"auth");if(g.isInitialized()){const L=g.getImmediate(),W=g.getOptions();if((0,p.vZ)(W,null!=h?h:{}))return L;yt(L,"already-initialized")}return g.initialize({options:h})}(w,{popupRedirectResolver:Uu,persistence:[$e,Mu,Do]})}!function d0(w){(0,V._registerComponent)(new _e.wA("auth",(h,{options:g})=>{const T=h.getProvider("app").getImmediate(),L=h.getProvider("heartbeat"),{apiKey:W,authDomain:Me}=T.options;return((it,Ke)=>{ye(W&&!W.includes(":"),"invalid-api-key",{appName:it.name}),ye(!(null==Me?void 0:Me.includes(":")),"argument-error",{appName:it.name});const tn={apiKey:W,authDomain:Me,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dr(w)},Tt=new ns(it,Ke,tn);return function ct(w,h){const g=(null==h?void 0:h.persistence)||[],T=(Array.isArray(g)?g:[g]).map(Re);(null==h?void 0:h.errorMap)&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(T,null==h?void 0:h.popupRedirectResolver)}(Tt,g),Tt})(T,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,T)=>{h.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new _e.wA("auth-internal",h=>{const g=nr(h.getProvider("auth").getImmediate());return new Bm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(Oh,Rh,function pp(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,V.registerVersion)(Oh,Rh,"esm2017")}("Browser")},2090:(xt,Ue,k)=>{k.d(Ue,{$s:()=>wr,BH:()=>Ye,G6:()=>ot,L:()=>Ae,LL:()=>zt,Lj:()=>nn,Mn:()=>Ge,Sg:()=>et,UG:()=>ze,US:()=>Ee,X3:()=>Ht,ZB:()=>we,ZR:()=>Oe,b$:()=>Ne,d:()=>ge,eu:()=>Pe,hl:()=>me,jU:()=>It,m9:()=>vt,ne:()=>Vt,pd:()=>Wn,r3:()=>be,ru:()=>yt,tV:()=>re,uI:()=>Fe,vZ:()=>kn,w1:()=>xe,xO:()=>cr,xb:()=>Lt,z$:()=>nt,zI:()=>Re,zd:()=>zn});var y=k(5861);const de=function(ae){const X=[];let pe=0;for(let He=0;He<ae.length;He++){let Z=ae.charCodeAt(He);Z<128?X[pe++]=Z:Z<2048?(X[pe++]=Z>>6|192,X[pe++]=63&Z|128):55296==(64512&Z)&&He+1<ae.length&&56320==(64512&ae.charCodeAt(He+1))?(Z=65536+((1023&Z)<<10)+(1023&ae.charCodeAt(++He)),X[pe++]=Z>>18|240,X[pe++]=Z>>12&63|128,X[pe++]=Z>>6&63|128,X[pe++]=63&Z|128):(X[pe++]=Z>>12|224,X[pe++]=Z>>6&63|128,X[pe++]=63&Z|128)}return X},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ae,X){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const pe=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,He=[];for(let Z=0;Z<ae.length;Z+=3){const Q=ae[Z],F=Z+1<ae.length,q=F?ae[Z+1]:0,H=Z+2<ae.length,te=H?ae[Z+2]:0;let St=(15&q)<<2|te>>6,En=63&te;H||(En=64,F||(St=64)),He.push(pe[Q>>2],pe[(3&Q)<<4|q>>4],pe[St],pe[En])}return He.join("")},encodeString(ae,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(ae):this.encodeByteArray(de(ae),X)},decodeString(ae,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(ae):function(ae){const X=[];let pe=0,He=0;for(;pe<ae.length;){const Z=ae[pe++];if(Z<128)X[He++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const Q=ae[pe++];X[He++]=String.fromCharCode((31&Z)<<6|63&Q)}else if(Z>239&&Z<365){const H=((7&Z)<<18|(63&ae[pe++])<<12|(63&ae[pe++])<<6|63&ae[pe++])-65536;X[He++]=String.fromCharCode(55296+(H>>10)),X[He++]=String.fromCharCode(56320+(1023&H))}else{const Q=ae[pe++],F=ae[pe++];X[He++]=String.fromCharCode((15&Z)<<12|(63&Q)<<6|63&F)}}return X.join("")}(this.decodeStringToByteArray(ae,X))},decodeStringToByteArray(ae,X){this.init_();const pe=X?this.charToByteMapWebSafe_:this.charToByteMap_,He=[];for(let Z=0;Z<ae.length;){const Q=pe[ae.charAt(Z++)],q=Z<ae.length?pe[ae.charAt(Z)]:0;++Z;const te=Z<ae.length?pe[ae.charAt(Z)]:64;++Z;const Qe=Z<ae.length?pe[ae.charAt(Z)]:64;if(++Z,null==Q||null==q||null==te||null==Qe)throw Error();He.push(Q<<2|q>>4),64!==te&&(He.push(q<<4&240|te>>2),64!==Qe&&He.push(te<<6&192|Qe))}return He},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}},Ae=function(ae){return function(ae){const X=de(ae);return Ee.encodeByteArray(X,!0)}(ae).replace(/\./g,"")},re=function(ae){try{return Ee.decodeString(ae,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function we(ae,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===ae&&(ae={});break;case Array:ae=[];break;default:return X}for(const pe in X)!X.hasOwnProperty(pe)||!at(pe)||(ae[pe]=we(ae[pe],X[pe]));return ae}function at(ae){return"__proto__"!==ae}class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,pe)=>{this.resolve=X,this.reject=pe})}wrapCallback(X){return(pe,He)=>{pe?this.reject(pe):this.resolve(He),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(pe):X(pe,He))}}}function et(ae,X){if(ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const He=X||"demo-project",Z=ae.iat||0,Q=ae.sub||ae.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const F=Object.assign({iss:`https://securetoken.google.com/${He}`,aud:He,iat:Z,exp:Z+3600,auth_time:Z,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},ae);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(F)),""].join(".")}function nt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ae){return!1}}function It(){return"object"==typeof self&&self.self===self}function yt(){const ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){return nt().indexOf("Electron/")>=0}function xe(){const ae=nt();return ae.indexOf("MSIE ")>=0||ae.indexOf("Trident/")>=0}function Ge(){return nt().indexOf("MSAppHost/")>=0}function ot(){return!ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function me(){return"object"==typeof indexedDB}function Pe(){return new Promise((ae,X)=>{try{let pe=!0;const He="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(He);Z.onsuccess=()=>{Z.result.close(),pe||self.indexedDB.deleteDatabase(He),ae(!0)},Z.onupgradeneeded=()=>{pe=!1},Z.onerror=()=>{var Q;X((null===(Q=Z.error)||void 0===Q?void 0:Q.message)||"")}}catch(pe){X(pe)}})}function Re(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Oe extends Error{constructor(X,pe,He){super(pe),this.code=X,this.customData=He,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zt.prototype.create)}}class zt{constructor(X,pe,He){this.service=X,this.serviceName=pe,this.errors=He}create(X,...pe){const He=pe[0]||{},Z=`${this.service}/${X}`,Q=this.errors[X],F=Q?function vn(ae,X){return ae.replace(Qt,(pe,He)=>{const Z=X[He];return null!=Z?String(Z):`<${He}?>`})}(Q,He):"Error";return new Oe(Z,`${this.serviceName}: ${F} (${Z}).`,He)}}const Qt=/\{\$([^}]+)}/g;function be(ae,X){return Object.prototype.hasOwnProperty.call(ae,X)}function Lt(ae){for(const X in ae)if(Object.prototype.hasOwnProperty.call(ae,X))return!1;return!0}function kn(ae,X){if(ae===X)return!0;const pe=Object.keys(ae),He=Object.keys(X);for(const Z of pe){if(!He.includes(Z))return!1;const Q=ae[Z],F=X[Z];if(tr(Q)&&tr(F)){if(!kn(Q,F))return!1}else if(Q!==F)return!1}for(const Z of He)if(!pe.includes(Z))return!1;return!0}function tr(ae){return null!==ae&&"object"==typeof ae}function cr(ae){const X=[];for(const[pe,He]of Object.entries(ae))Array.isArray(He)?He.forEach(Z=>{X.push(encodeURIComponent(pe)+"="+encodeURIComponent(Z))}):X.push(encodeURIComponent(pe)+"="+encodeURIComponent(He));return X.length?"&"+X.join("&"):""}function zn(ae){const X={};return ae.replace(/^\?/,"").split("&").forEach(He=>{if(He){const[Z,Q]=He.split("=");X[decodeURIComponent(Z)]=decodeURIComponent(Q)}}),X}function Wn(ae){const X=ae.indexOf("?");if(!X)return"";const pe=ae.indexOf("#",X);return ae.substring(X,pe>0?pe:void 0)}function Vt(ae,X){const pe=new fr(ae,X);return pe.subscribe.bind(pe)}class fr{constructor(X,pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(()=>{X(this)}).catch(He=>{this.error(He)})}next(X){this.forEachObserver(pe=>{pe.next(X)})}error(X){this.forEachObserver(pe=>{pe.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,pe,He){let Z;if(void 0===X&&void 0===pe&&void 0===He)throw new Error("Missing Observer.");Z=function yn(ae,X){if("object"!=typeof ae||null===ae)return!1;for(const pe of X)if(pe in ae&&"function"==typeof ae[pe])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:pe,complete:He},void 0===Z.next&&(Z.next=xn),void 0===Z.error&&(Z.error=xn),void 0===Z.complete&&(Z.complete=xn);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch(F){}}),this.observers.push(Z),Q}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let pe=0;pe<this.observers.length;pe++)this.sendOne(pe,X)}sendOne(X,pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{pe(this.observers[X])}catch(He){"undefined"!=typeof console&&console.error&&console.error(He)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}function wr(ae,X=1e3,pe=2){const He=X*Math.pow(pe,ae),Z=Math.round(.5*He*(Math.random()-.5)*2);return Math.min(144e5,He+Z)}function vt(ae){return ae&&ae._delegate?ae._delegate:ae}function pn(ae,X){return new Promise((pe,He)=>{ae.onsuccess=Z=>{pe(Z.target.result)},ae.onerror=Z=>{var Q;He(`${X}: ${null===(Q=Z.target.error)||void 0===Q?void 0:Q.message}`)}})}class un{constructor(X){this._db=X,this.objectStoreNames=this._db.objectStoreNames}transaction(X,pe){return new Ct(this._db.transaction.call(this._db,X,pe))}createObjectStore(X,pe){return new Le(this._db.createObjectStore(X,pe))}close(){this._db.close()}}class Ct{constructor(X){this._transaction=X,this.complete=new Promise((pe,He)=>{this._transaction.oncomplete=function(){pe()},this._transaction.onerror=()=>{He(this._transaction.error)},this._transaction.onabort=()=>{He(this._transaction.error)}})}objectStore(X){return new Le(this._transaction.objectStore(X))}}class Le{constructor(X){this._store=X}index(X){return new wt(this._store.index(X))}createIndex(X,pe,He){return new wt(this._store.createIndex(X,pe,He))}get(X){return pn(this._store.get(X),"Error reading from IndexedDB")}put(X,pe){return pn(this._store.put(X,pe),"Error writing to IndexedDB")}delete(X){return pn(this._store.delete(X),"Error deleting from IndexedDB")}clear(){return pn(this._store.clear(),"Error clearing IndexedDB object store")}}class wt{constructor(X){this._index=X}get(X){return pn(this._index.get(X),"Error reading from IndexedDB")}}function Ht(ae,X,pe){return new Promise((He,Z)=>{try{const Q=indexedDB.open(ae,X);Q.onsuccess=F=>{He(new un(F.target.result))},Q.onerror=F=>{var q;Z(`Error opening indexedDB: ${null===(q=F.target.error)||void 0===q?void 0:q.message}`)},Q.onupgradeneeded=F=>{pe(new un(Q.result),F.oldVersion,F.newVersion,new Ct(Q.transaction))}}catch(Q){Z(`Error opening indexedDB: ${Q.message}`)}})}function nn(ae){return rn.apply(this,arguments)}function rn(){return(rn=(0,y.Z)(function*(ae){return new Promise((X,pe)=>{try{const He=indexedDB.deleteDatabase(ae);He.onsuccess=()=>{X()},He.onerror=Z=>{var Q;pe(`Error deleting indexedDB database "${ae}": ${null===(Q=Z.target.error)||void 0===Q?void 0:Q.message}`)}}catch(He){pe(`Error deleting indexedDB database "${ae}": ${He.message}`)}})})).apply(this,arguments)}},8263:(xt,Ue,k)=>{k.d(Ue,{O:()=>V});var y=k(5e3),p=k(3809);let V=(()=>{class le{constructor(_e){this.router=_e}ngOnInit(){}navigateUrl(_e){this.router.navigate([_e])}}return le.\u0275fac=function(_e){return new(_e||le)(y.Y36(p.F0))},le.\u0275cmp=y.Xpm({type:le,selectors:[["app-home"]],decls:69,vars:0,consts:[[1,"py-1","text-center","container"],[1,"row","py-lg-5"],[1,"col-lg-6","col-md-8","mx-auto"],[1,"fw-light","text-white","align-items-center"],["routerLink","/about"],[1,"album","py-5"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],[1,"col"],[1,"card","shadow-sm"],["src","../../../assets/gameIcons/hangman.jpg","alt","hangman","width","100%","height","225"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["src","../../../assets/gameIcons/mayorOMenor.jpg","alt","mayorOMenor","width","100%","height","225"],["src","../../../assets/gameIcons/chat.jpg","alt","chat","width","100%","height","225"],["src","../../../assets/gameIcons/desertRaceLogo.PNG","alt","desertRace","width","100%","height","225"],["src","../../../assets/gameIcons/pokePreguntados.jpg","alt","pokePreguntados","width","100%","height","225"],[1,"text-muted","py-5"],[1,"float-end","mb-1"],["href","#"],[1,"mb-1"]],template:function(_e,Ee){1&_e&&(y.TgZ(0,"main")(1,"section",0)(2,"div",1)(3,"div",2)(4,"h1",3),y._uU(5,"Sitio creado por"),y.qZA(),y.TgZ(6,"a",4)(7,"h1",3),y._uU(8,"Ezequiel Archilla"),y.qZA()()()()(),y.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9),y._UZ(14,"img",10),y.TgZ(15,"div",11)(16,"p",12),y._uU(17,"Ahorcado: Descubre la palabra secreta en menos de 5 intentos"),y.qZA(),y.TgZ(18,"div",13)(19,"div",14)(20,"button",15),y.NdJ("click",function(){return Ee.navigateUrl("/games/ahorcado")}),y._uU(21,"Jugar"),y.qZA()()()()()(),y.TgZ(22,"div",8)(23,"div",9),y._UZ(24,"img",16),y.TgZ(25,"div",11)(26,"p",12),y._uU(27,"Mayor o Menor: Adivina si la siguiente carta sera mayor o menor a la actual."),y.qZA(),y.TgZ(28,"div",13)(29,"div",14)(30,"button",15),y.NdJ("click",function(){return Ee.navigateUrl("/games/mayorOMenor")}),y._uU(31,"Jugar"),y.qZA()()()()()(),y.TgZ(32,"div",8)(33,"div",9),y._UZ(34,"img",17),y.TgZ(35,"div",11)(36,"p",12),y._uU(37,"Chat"),y.qZA(),y.TgZ(38,"div",13)(39,"div",14)(40,"button",15),y.NdJ("click",function(){return Ee.navigateUrl("chat")}),y._uU(41,"Entrar"),y.qZA()()()()()(),y.TgZ(42,"div",8)(43,"div",9),y._UZ(44,"img",18),y.TgZ(45,"div",11)(46,"p",12),y._uU(47,"Desert Race: Recorre la mayor trayectoria sin chocar contra los rivales."),y.qZA(),y.TgZ(48,"div",13)(49,"div",14)(50,"button",15),y.NdJ("click",function(){return Ee.navigateUrl("/games/desertRace")}),y._uU(51,"Jugar"),y.qZA()()()()()(),y.TgZ(52,"div",8)(53,"div",9),y._UZ(54,"img",19),y.TgZ(55,"div",11)(56,"p",12),y._uU(57,"PokePreguntados: Adivina el nombre del pokemon que aparece."),y.qZA(),y.TgZ(58,"div",13)(59,"div",14)(60,"button",15),y.NdJ("click",function(){return Ee.navigateUrl("/games/pokePreguntados")}),y._uU(61,"Jugar"),y.qZA()()()()()()()()()(),y.TgZ(62,"footer",20)(63,"div",6)(64,"p",21)(65,"a",22),y._uU(66,"Back to top"),y.qZA()(),y.TgZ(67,"p",23),y._uU(68,"Ezequiel Archilla 2022"),y.qZA()()())},directives:[p.yS],styles:[".card[_ngcontent-%COMP%]{background:rgb(255,255,255);border-radius:.4em;box-shadow:.3em .3em .7em #00000015;transition:border .5s cubic-bezier(.175,.885,.32,1.275);border:rgb(250,250,250) .2em solid}.card[_ngcontent-%COMP%]:hover{border:#4f9bff .2em solid}.text-white[_ngcontent-%COMP%]{color:#fff}"]}),le})()},1246:(xt,Ue,k)=>{var y=k(2313),p=k(5e3),V=k(9808),le=k(8996),de=k(8306),_e=k(4742),Ee=k(8421),ve=k(7669),Ae=k(5403),re=k(3268),ne=k(1810),at=k(4004);let Ye=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n}),n})(),et=(()=>{class n extends Ye{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,features:[p.qOj]}),n})();const nt=new p.OlP("NgValueAccessor"),It={provide:nt,useExisting:(0,p.Gpc)(()=>ge),multi:!0},Ne=new p.OlP("CompositionEventMode");let ge=(()=>{class n extends Ye{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yt(){const n=(0,V.q)()?(0,V.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ne,8))},n.\u0275dir=p.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[p._Bn([It]),p.qOj]}),n})();const ye=new p.OlP("NgValidators"),ot=new p.OlP("NgAsyncValidators");function Ln(n){return null!=n}function Nn(n){const e=(0,p.QGY)(n)?(0,le.D)(n):n;return(0,p.CqO)(e),e}function ut(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function tt(n,e){return e.map(t=>t(n))}function be(n){return n.map(e=>function fe(n){return!n.validate}(e)?e:t=>e.validate(t))}function Lt(n){return null!=n?function _t(n){if(!n)return null;const e=n.filter(Ln);return 0==e.length?null:function(t){return ut(tt(t,e))}}(be(n)):null}function kn(n){return null!=n?function Tn(n){if(!n)return null;const e=n.filter(Ln);return 0==e.length?null:function(t){return function we(...n){const e=(0,ve.jO)(n),{args:t,keys:r}=(0,_e.D)(n),o=new de.y(l=>{const{length:d}=t;if(!d)return void l.complete();const m=new Array(d);let b=d,M=d;for(let j=0;j<d;j++){let K=!1;(0,Ee.Xf)(t[j]).subscribe((0,Ae.x)(l,ue=>{K||(K=!0,M--),m[j]=ue},()=>b--,void 0,()=>{(!b||!K)&&(M||l.next(r?(0,ne.n)(r,m):m),l.complete())}))}});return e?o.pipe((0,re.Z)(e)):o}(tt(t,e).map(Nn)).pipe((0,at.U)(ut))}}(be(n)):null}function tr(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Wn(n){return n?Array.isArray(n)?n:[n]:[]}function Mr(n,e){return Array.isArray(n)?n.includes(e):n===e}function Vt(n,e){const t=Wn(e);return Wn(n).forEach(o=>{Mr(t,o)||t.push(o)}),t}function fr(n,e){return Wn(e).filter(t=>!Mr(n,t))}class $n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yn extends $n{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xn extends $n{get formDirective(){return null}get path(){return null}}let he=(()=>{class n extends class Vr{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(yn,2))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[p.qOj]}),n})();function rn(n,e){(function He(n,e){const t=function cr(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(tr(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function zn(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(tr(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();X(e._rawValidators,o),X(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),function Q(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&q(n,e)})}(n,e),function H(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function F(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&q(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function pe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function X(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function q(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ns(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const hn="VALID",Un="INVALID",pr="PENDING",ai="DISABLED";function xr(n){return(fn(n)?n.validators:n)||null}function Kn(n){return Array.isArray(n)?Lt(n):n||null}function ar(n,e){return(fn(e)?e.asyncValidators:n)||null}function ms(n){return Array.isArray(n)?kn(n):n||null}function fn(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Si=n=>n instanceof Gn;function ui(n){return(n=>n instanceof Br)(n)?n.value:n.getRawValue()}function gr(n,e){const t=Si(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new p.vHH(1e3,"");if(!r[e])throw new p.vHH(1001,"")}function Or(n,e){Si(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new p.vHH(1002,"")})}class ei{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Kn(this._rawValidators),this._composedAsyncValidatorFn=ms(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hn}get invalid(){return this.status===Un}get pending(){return this.status==pr}get disabled(){return this.status===ai}get enabled(){return this.status!==ai}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Kn(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ms(e)}addValidators(e){this.setValidators(Vt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Vt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fr(e,this._rawAsyncValidators))}hasValidator(e){return Mr(this._rawValidators,e)}hasAsyncValidator(e){return Mr(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ai,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hn,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hn||this.status===pr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ai:hn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pr,this._hasOwnPendingAsyncValidator=!0;const t=Nn(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Cr(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Si(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof Js)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?ai:this.errors?Un:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pr)?pr:this._anyControlsHaveStatus(Un)?Un:hn}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fn(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Br extends ei{constructor(e=null,t,r){super(xr(t),ar(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fn(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ns(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ns(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Gn extends ei{constructor(e,t,r){super(xr(t),ar(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Or(this,e),Object.keys(e).forEach(r=>{gr(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=ui(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Js extends ei{constructor(e,t,r){super(xr(t),ar(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Or(this,e),e.forEach((r,o)=>{gr(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>ui(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Rr={provide:yn,useExisting:(0,p.Gpc)(()=>li)},mu=(()=>Promise.resolve(null))();let li=(()=>{class n extends yn{constructor(t,r,o,l,d){super(),this._changeDetectorRef=d,this.control=new Br,this._registered=!1,this.update=new p.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function dr(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===ge?t=l:function br(n){return Object.getPrototypeOf(n.constructor)===et}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function wn(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){mu.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;mu.then(()=>{var l;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function nn(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(xn,9),p.Y36(ye,10),p.Y36(ot,10),p.Y36(nt,10),p.Y36(p.sBO,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Rr]),p.qOj,p.TTD]}),n})(),Wo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})(),Kt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[Wo]]}),n})(),ws=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[Kt]}),n})();var oc=k(520),ro=k(2290);const st_firebaseConfig={apiKey:"AIzaSyAPmEQssZjFvB5eW8TWq1mEP98ld7u7-_I",authDomain:"angulararchillaezequiel.firebaseapp.com",projectId:"angulararchillaezequiel",storageBucket:"angulararchillaezequiel.appspot.com",messagingSenderId:"414373398409",appId:"1:414373398409:web:76e74afa7f9f1782ad4358"};var Bt=k(1777);const Rn=!1;function vu(n){return new p.vHH(3e3,Rn)}function ac(){return"undefined"!=typeof window&&void 0!==window.document}function Au(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ts(n){switch(n.length){case 0:return new Bt.ZN;case 1:return n[0];default:return new Bt.ZE(n)}}function Za(n,e,t,r,o={},l={}){const d=[],m=[];let b=-1,M=null;if(r.forEach(j=>{const K=j.offset,ue=K==b,Se=ue&&M||{};Object.keys(j).forEach(Te=>{let Xe=Te,mt=j[Te];if("offset"!==Te)switch(Xe=e.normalizePropertyName(Xe,d),mt){case Bt.k1:mt=o[Te];break;case Bt.l3:mt=l[Te];break;default:mt=e.normalizeStyleValue(Te,Xe,mt,d)}Se[Xe]=mt}),ue||m.push(Se),M=Se,b=K}),d.length)throw function ra(n){return new p.vHH(3502,Rn)}();return m}function $s(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&so(t,"start",n)));break;case"done":n.onDone(()=>r(t&&so(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&so(t,"destroy",n)))}}function so(n,e,t){const r=t.totalTime,l=To(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function To(n,e,t,r,o="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:l,disabled:!!d}}function Wr(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Dr(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let jr=(n,e)=>!1,Ka=(n,e,t)=>[],Ki=null;function Gs(n){const e=n.parentNode||n.host;return e===Ki?null:e}(Au()||"undefined"!=typeof Element)&&(ac()?(Ki=(()=>document.documentElement)(),jr=(n,e)=>{for(;e;){if(e===n)return!0;e=Gs(e)}return!1}):jr=(n,e)=>n.contains(e),Ka=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Ri=null,Ya=!1;function Su(n){Ri||(Ri=function cd(){return"undefined"!=typeof document?document.body:null}()||{},Ya=!!Ri.style&&"WebkitAppearance"in Ri.style);let e=!0;return Ri.style&&!function Io(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ri.style,!e&&Ya&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ri.style)),e}const Mu=jr,Pi=Ka;let gl=(()=>{class n{validateStyleProperty(t){return Su(t)}matchesElement(t,r){return!1}containsElement(t,r){return Mu(t,r)}getParentElement(t){return Gs(t)}query(t,r,o){return Pi(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,l,d,m=[],b){return new Bt.ZN(o,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),os=(()=>{class n{}return n.NOOP=new gl,n})();const Ds="ng-enter",oa="ng-leave",as="ng-trigger",qs=".ng-trigger",ao="ng-animating",ml=".ng-animating";function zs(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qa(parseFloat(e[1]),e[2])}function Qa(n,e){return"s"===e?1e3*n:n}function Ws(n,e,t){return n.hasOwnProperty("duration")?n:function Ja(n,e,t){let o,l=0,d="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(vu()),{duration:0,delay:0,easing:""};o=Qa(parseFloat(m[1]),m[2]);const b=m[3];null!=b&&(l=Qa(parseFloat(b),m[4]));const M=m[5];M&&(d=M)}else o=n;if(!t){let m=!1,b=e.length;o<0&&(e.push(function Zi(){return new p.vHH(3100,Rn)}()),m=!0),l<0&&(e.push(function bs(){return new p.vHH(3101,Rn)}()),m=!0),m&&e.splice(b,0,vu())}return{duration:o,delay:l,easing:d}}(n,e,t)}function Ei(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ss(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Ei(n,t);return t}function wi(n,e,t){return t?e+":"+t+";":""}function I(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=wi(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=wi(0,$t(t),n.style[t]));n.setAttribute("style",e)}function E(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=An(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),Au()&&I(n))}function v(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=An(t);n.style[r]=""}),Au()&&I(n))}function S(n){return Array.isArray(n)?1==n.length?n[0]:(0,Bt.vP)(n):n}const $=new RegExp("{{\\s*(.+?)\\s*}}","g");function J(n){let e=[];if("string"==typeof n){let t;for(;t=$.exec(n);)e.push(t[1]);$.lastIndex=0}return e}function se(n,e,t){const r=n.toString(),o=r.replace($,(l,d)=>{let m=e[d];return e.hasOwnProperty(d)||(t.push(function Hs(n){return new p.vHH(3003,Rn)}()),m=""),m.toString()});return o==r?n:o}function $e(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Rt=/-+([a-z0-9])/g;function An(n){return n.replace(Rt,(...e)=>e[1].toUpperCase())}function $t(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ld(n){return new p.vHH(3004,Rn)}()}}function Ni(n,e){return window.getComputedStyle(n)[e]}function ip(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Hr(n,e,t){if(":"==n[0]){const b=function sp(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function bu(n){return new p.vHH(3016,Rn)}()),"* => *"}}(n,t);if("function"==typeof b)return void e.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Co(n){return new p.vHH(3015,Rn)}()),e;const o=r[1],l=r[2],d=r[3];e.push(fd(o,d));"<"==l[0]&&!("*"==o&&"*"==d)&&e.push(fd(d,o))}(r,t,e)):t.push(n),t}const hd=new Set(["true","1"]),yl=new Set(["false","0"]);function fd(n,e){const t=hd.has(n)||yl.has(n),r=hd.has(e)||yl.has(e);return(o,l)=>{let d="*"==n||n==o,m="*"==e||e==l;return!d&&t&&"boolean"==typeof o&&(d=o?hd.has(n):yl.has(n)),!m&&r&&"boolean"==typeof l&&(m=l?hd.has(e):yl.has(e)),d&&m}}const op=new RegExp("s*:selfs*,?","g");function _l(n,e,t,r){return new gd(n).build(e,t,r)}class gd{constructor(e){this._driver=e}build(e,t,r){const o=new vl(t);this._resetContextStyleTimingState(o);const l=hr(this,S(e),o);return o.unsupportedCSSPropertiesFound.size&&o.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function Jo(){return new p.vHH(3006,Rn)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const b=m,M=b.name;M.toString().split(/\s*,\s*/).forEach(j=>{b.name=j,l.push(this.visitState(b,t))}),b.name=M}else if(1==m.type){const b=this.visitTransition(m,t);r+=b.queryCount,o+=b.depCount,d.push(b)}else t.errors.push(function Xo(){return new p.vHH(3007,Rn)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,d=o||{};r.styles.forEach(m=>{if(Ia(m)){const b=m;Object.keys(b).forEach(M=>{J(b[M]).forEach(j=>{d.hasOwnProperty(j)||l.add(j)})})}}),l.size&&($e(l.values()),t.errors.push(function zr(n,e){return new p.vHH(3008,Rn)}()))}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=hr(this,S(e.animation),t);return{type:1,matchers:ip(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:bi(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>hr(this,r,t)),options:bi(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const l=e.steps.map(d=>{t.currentTime=r;const m=hr(this,d,t);return o=Math.max(o,t.currentTime),m});return t.currentTime=o,{type:3,steps:l,options:bi(e.options)}}visitAnimate(e,t){const r=function Fi(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return eu(Ws(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=eu(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||Ws(r,e),eu(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,l=e.styles?e.styles:(0,Bt.oB)({});if(5==l.type)o=this.visitKeyframes(l,t);else{let d=e.styles,m=!1;if(!d){m=!0;const M={};r.easing&&(M.easing=r.easing),d=(0,Bt.oB)(M)}t.currentTime+=r.duration+r.delay;const b=this.visitStyle(d,t);b.isEmptyStep=m,o=b}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Bt.l3?r.push(d):t.errors.push(function Cs(n){return new p.vHH(3002,Rn)}()):r.push(d)}):r.push(e.styles);let o=!1,l=null;return r.forEach(d=>{if(Ia(d)){const m=d,b=m.easing;if(b&&(l=b,delete m.easing),!o)for(let M in m)if(m[M].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete d[m],void t.unsupportedCSSPropertiesFound.add(m);const b=t.collectedStyles[t.currentQuerySelector],M=b[m];let j=!0;M&&(l!=o&&l>=M.startTime&&o<=M.endTime&&(t.errors.push(function ea(n,e,t,r,o){return new p.vHH(3010,Rn)}()),j=!1),l=M.startTime),j&&(b[m]={startTime:l,endTime:o}),t.options&&function P(n,e,t){const r=e.params||{},o=J(n);o.length&&o.forEach(l=>{r.hasOwnProperty(l)||t.push(function Eu(n){return new p.vHH(3001,Rn)}())})}(d[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Oi(){return new p.vHH(3011,Rn)}()),r;let l=0;const d=[];let m=!1,b=!1,M=0;const j=e.steps.map(Xt=>{const Ut=this._makeStyleAst(Xt,t);let dn=null!=Ut.offset?Ut.offset:function md(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Ia(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Ia(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Ut.styles),Pt=0;return null!=dn&&(l++,Pt=Ut.offset=dn),b=b||Pt<0||Pt>1,m=m||Pt<M,M=Pt,d.push(Pt),Ut});b&&t.errors.push(function cl(){return new p.vHH(3012,Rn)}()),m&&t.errors.push(function ta(){return new p.vHH(3200,Rn)}());const K=e.steps.length;let ue=0;l>0&&l<K?t.errors.push(function dl(){return new p.vHH(3202,Rn)}()):0==l&&(ue=1/(K-1));const Se=K-1,Te=t.currentTime,Xe=t.currentAnimateTimings,mt=Xe.duration;return j.forEach((Xt,Ut)=>{const dn=ue>0?Ut==Se?1:ue*Ut:d[Ut],Pt=dn*mt;t.currentTime=Te+Xe.delay+Pt,Xe.duration=Pt,this._validateStyleAst(Xt,t),Xt.offset=dn,r.styles.push(Xt)}),r}visitReference(e,t){return{type:8,animation:hr(this,S(e.animation),t),options:bi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:bi(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:bi(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function Zr(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(op,"")),n=n.replace(/@\*/g,qs).replace(/@\w+/g,t=>qs+"-"+t.substr(1)).replace(/:animating/g,ml),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Wr(t.collectedStyles,t.currentQuerySelector,{});const m=hr(this,S(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:d,animation:m,originalSelector:e.selector,options:bi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function ba(){return new p.vHH(3013,Rn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ws(e.timings,t.errors,!0);return{type:12,animation:hr(this,S(e.animation),t),timings:r,options:null}}}class vl{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ia(n){return!Array.isArray(n)&&"object"==typeof n}function bi(n){return n?(n=Ei(n)).params&&(n.params=function Ru(n){return n?Ei(n):null}(n.params)):n={},n}function eu(n,e,t){return{duration:n,delay:e,easing:t}}function aa(n,e,t,r,o,l,d=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:l,totalTime:o+l,easing:d,subTimeline:m}}class Ci{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const lc=new RegExp(":enter","g"),El=new RegExp(":leave","g");function wl(n,e,t,r,o,l={},d={},m,b,M=[]){return(new Ms).buildKeyframes(n,e,t,r,o,l,d,m,b,M)}class Ms{buildKeyframes(e,t,r,o,l,d,m,b,M,j=[]){M=M||new Ci;const K=new co(e,t,M,o,l,j,[]);K.options=b,K.currentTimeline.setStyles([d],null,K.errors,b),hr(this,r,K);const ue=K.timelines.filter(Se=>Se.containsAnimation());if(Object.keys(m).length){let Se;for(let Te=ue.length-1;Te>=0;Te--){const Xe=ue[Te];if(Xe.element===t){Se=Xe;break}}Se&&!Se.allowOnlyTimelineStyles()&&Se.setStyles([m],null,K.errors,b)}return ue.length?ue.map(Se=>Se.buildKeyframes()):[aa(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const o=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,o,o.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const d=null!=r.duration?zs(r.duration):null,m=null!=r.delay?zs(r.delay):null;return 0!==d&&e.forEach(b=>{const M=t.appendInstructionToTimeline(b,d,m);l=Math.max(l,M.duration+M.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),hr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const l=e.options;if(l&&(l.params||l.delay)&&(o=t.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Pu);const d=zs(l.delay);o.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>hr(this,d,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?zs(e.options.delay):0;e.steps.forEach(d=>{const m=t.createSubContext(e.options);l&&m.delayNextStep(l),hr(this,d,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Ws(t.params?se(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,l=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(b=>{m.forwardTime((b.offset||0)*l),m.setStyles(b.styles,b.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(o+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},l=o.delay?zs(o.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Pu);let d=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=m.length;let b=null;m.forEach((M,j)=>{t.currentQueryIndex=j;const K=t.createSubContext(e.options,M);l&&K.delayNextStep(l),M===t.element&&(b=K.currentTimeline),hr(this,e.animation,K),K.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,K.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),m=d*(t.currentQueryTotal-1);let b=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":b=m-b;break;case"full":b=r.currentStaggerTime}const j=t.currentTimeline;b&&j.delayNextStep(b);const K=j.currentTime;hr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-K+(o.startTime-r.currentTimeline.startTime)}}const Pu={};class co{constructor(e,t,r,o,l,d,m,b){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=l,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new cc(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=zs(r.duration)),null!=r.delay&&(o.delay=zs(r.delay));const l=r.params;if(l){let d=o.params;d||(d=this.options.params={}),Object.keys(l).forEach(m=>{(!t||!d.hasOwnProperty(m))&&(d[m]=se(l[m],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,l=new co(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Pu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new Ao(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,l,d){let m=[];if(o&&m.push(this.element),e.length>0){e=(e=e.replace(lc,"."+this._enterClassName)).replace(El,"."+this._leaveClassName);let M=this._driver.query(this.element,e,1!=r);0!==r&&(M=r<0?M.slice(M.length+r,M.length):M.slice(0,r)),m.push(...M)}return!l&&0==m.length&&d.push(function wu(n){return new p.vHH(3014,Rn)}()),m}}class cc{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cc(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Bt.l3,this._currentKeyframe[t]=Bt.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const l=o&&o.params||{},d=function hc(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Bt.l3})):Ss(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(m=>{const b=se(d[m],l,r);this._pendingStyles[m]=b,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Bt.l3),this._updateStyle(m,b)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,b)=>{const M=Ss(m,!0);Object.keys(M).forEach(j=>{const K=M[j];K==Bt.k1?e.add(j):K==Bt.l3&&t.add(j)}),r||(M.offset=b/this.duration),o.push(M)});const l=e.size?$e(e.values()):[],d=t.size?$e(t.values()):[];if(r){const m=o[0],b=Ei(m);m.offset=0,b.offset=1,o=[m,b]}return aa(this.element,o,l,d,this.duration,this.startTime,this.easing,!1)}}class Ao extends cc{constructor(e,t,r,o,l,d,m=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=r+t,m=t/d,b=Ss(e[0],!1);b.offset=0,l.push(b);const M=Ss(e[0],!1);M.offset=dc(m),l.push(M);const j=e.length-1;for(let K=1;K<=j;K++){let ue=Ss(e[K],!1);ue.offset=dc((t+ue.offset*r)/d),l.push(ue)}r=d,t=0,o="",e=l}return aa(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function dc(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class So{}class ua extends So{normalizePropertyName(e,t){return An(e)}normalizeStyleValue(e,t,r,o){let l="";const d=r.toString().trim();if(pc[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(function ll(n,e){return new p.vHH(3005,Rn)}())}return d+l}}const pc=(()=>function Nu(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function bl(n,e,t,r,o,l,d,m,b,M,j,K,ue){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:l,toState:r,toStyles:d,timelines:m,queriedElements:b,preStyleProps:M,postStyleProps:j,totalTime:K,errors:ue}}const Mo={};class Cl{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function Tl(n,e,t,r,o){return n.some(l=>l(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],l=this._stateStyles[e],d=o?o.buildStyles(t,r):{};return l?l.buildStyles(t,r):d}build(e,t,r,o,l,d,m,b,M,j){const K=[],ue=this.ast.options&&this.ast.options.params||Mo,Te=this.buildStyles(r,m&&m.params||Mo,K),Xe=b&&b.params||Mo,mt=this.buildStyles(o,Xe,K),Xt=new Set,Ut=new Map,dn=new Map,Pt="void"===o,Cn={params:Object.assign(Object.assign({},ue),Xe)},on=j?[]:wl(e,t,this.ast.animation,l,d,Te,mt,Cn,M,K);let _r=0;if(on.forEach(zi=>{_r=Math.max(zi.duration+zi.delay,_r)}),K.length)return bl(t,this._triggerName,r,o,Pt,Te,mt,[],[],Ut,dn,_r,K);on.forEach(zi=>{const Er=zi.element,qr=Wr(Ut,Er,{});zi.preStyleProps.forEach(tp=>qr[tp]=!0);const gu=Wr(dn,Er,{});zi.postStyleProps.forEach(tp=>gu[tp]=!0),Er!==t&&Xt.add(Er)});const vr=$e(Xt.values());return bl(t,this._triggerName,r,o,Pt,Te,mt,on,vr,Ut,dn,_r)}}class A{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=Ei(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!=d&&(o[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(m=>{let b=d[m];b.length>1&&(b=se(b,o,t));const M=this.normalizer.normalizePropertyName(m,t);b=this.normalizer.normalizeStyleValue(m,M,b,t),r[M]=b})}}),r}}class G{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new A(o.style,o.options&&o.options.params||{},r)}),Ie(this.states,"true","1"),Ie(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new Cl(e,o,this.states))}),this.fallbackTransition=function ee(n,e,t){return new Cl(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(d=>d.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Ie(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Ve=new Ci;class gt{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=_l(this._driver,t,r,[]);if(r.length)throw function io(n){return new p.vHH(3503,Rn)}();this._animations[e]=l}_buildPlayer(e,t,r){const o=e.element,l=Za(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],l=this._animations[e];let d;const m=new Map;if(l?(d=wl(this._driver,t,l,Ds,oa,{},{},r,Ve,o),d.forEach(j=>{const K=Wr(m,j.element,{});j.postStyleProps.forEach(ue=>K[ue]=null)})):(o.push(function Cu(){return new p.vHH(3300,Rn)}()),d=[]),o.length)throw function fl(n){return new p.vHH(3504,Rn)}();m.forEach((j,K)=>{Object.keys(j).forEach(ue=>{j[ue]=this._driver.computeStyle(K,ue,Bt.l3)})});const M=Ts(d.map(j=>{const K=m.get(j.element);return this._buildPlayer(j,{},K)}));return this._playersById[e]=M,M.onDestroy(()=>this.destroy(e)),this.players.push(M),M}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Tu(n){return new p.vHH(3301,Rn)}();return t}listen(e,t,r,o){const l=To(t,"","","");return $s(this._getPlayer(e),r,l,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const jt="ng-animate-queued",ln="ng-animate-disabled",Kr=[],nu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ku={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yr="__ng_removed";class Qi{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function ap(n){return null!=n?n:null}(r?e.value:e),r){const l=Ei(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const xs="void",xo=new Qi(xs);class Pm{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Oo(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw function ia(n,e){return new p.vHH(3302,Rn)}();if(null==r||0==r.length)throw function pl(n){return new p.vHH(3303,Rn)}();if(!function Ch(n){return"start"==n||"done"==n}(r))throw function Iu(n,e){return new p.vHH(3400,Rn)}();const l=Wr(this._elementListeners,e,[]),d={name:t,phase:r,callback:o};l.push(d);const m=Wr(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(Oo(e,as),Oo(e,as+"-"+t),m[t]=xo),()=>{this._engine.afterFlush(()=>{const b=l.indexOf(d);b>=0&&l.splice(b,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function ri(n){return new p.vHH(3401,Rn)}();return t}trigger(e,t,r,o=!0){const l=this._getTrigger(t),d=new Fu(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Oo(e,as),Oo(e,as+"-"+t),this._engine.statesByElement.set(e,m={}));let b=m[t];const M=new Qi(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&M.absorbOptions(b.options),m[t]=M,b||(b=xo),M.value!==xs&&b.value===M.value){if(!function km(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const l=t[o];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(b.params,M.params)){const Xe=[],mt=l.matchStyles(b.value,b.params,Xe),Xt=l.matchStyles(M.value,M.params,Xe);Xe.length?this._engine.reportError(Xe):this._engine.afterFlush(()=>{v(e,mt),E(e,Xt)})}return}const ue=Wr(this._engine.playersByElement,e,[]);ue.forEach(Xe=>{Xe.namespaceId==this.id&&Xe.triggerName==t&&Xe.queued&&Xe.destroy()});let Se=l.matchTransition(b.value,M.value,e,M.params),Te=!1;if(!Se){if(!o)return;Se=l.fallbackTransition,Te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Se,fromState:b,toState:M,player:d,isFallbackTransition:Te}),Te||(Oo(e,jt),d.onStart(()=>{la(e,jt)})),d.onDone(()=>{let Xe=this.players.indexOf(d);Xe>=0&&this.players.splice(Xe,1);const mt=this._engine.playersByElement.get(e);if(mt){let Xt=mt.indexOf(d);Xt>=0&&mt.splice(Xt,1)}}),this.players.push(d),ue.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,qs,!0);r.forEach(o=>{if(o[Yr])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(d=>d.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const m=[];if(Object.keys(l).forEach(b=>{if(d.set(b,l[b].value),this._triggers[b]){const M=this.trigger(e,b,xs,o);M&&m.push(M)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Ts(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(l=>{const d=l.name;if(o.has(d))return;o.add(d);const b=this._triggers[d].fallbackTransition,M=r[d]||xo,j=new Qi(xs),K=new Fu(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:b,fromState:M,toState:j,player:K,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)o=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Yr];(!l||l===nu)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Oo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const l=r.element,d=this._elementListeners.get(l);d&&d.forEach(m=>{if(m.name==r.triggerName){const b=To(l,r.triggerName,r.fromState.value,r.toState.value);b._data=e,$s(r.player,m.phase,b,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const l=r.transition.ast.depCount,d=o.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class bh{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Pm(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,o=this.namespacesByHostElement,l=r.length-1;if(l>=0){let d=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(t);for(;m;){const b=o.get(m);if(b){const M=r.indexOf(b);r.splice(M+1,0,e),d=!0;break}m=this.driver.getParentElement(m)}}else for(let m=l;m>=0;m--)if(this.driver.containsElement(r[m].hostElement,t)){r.splice(m+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return o.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let l=0;l<o.length;l++){const d=r[o[l]].namespaceId;if(d){const m=this._fetchNamespace(d);m&&t.add(m)}}}return t}trigger(e,t,r,o){if(Ed(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!Ed(t))return;const l=t[Yr];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Oo(e,ln)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),la(e,ln))}removeNode(e,t,r,o){if(Ed(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o,l){this.collectedLeaveElements.push(t),t[Yr]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,o,l){return Ed(t)?this._fetchNamespace(e).listen(t,r,o,l):()=>{}}_buildInstruction(e,t,r,o,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,qs,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ml,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ts(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Yr];if(r&&r.setForRemoval){if(e[Yr]=nu,r.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(ln))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Oo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ts(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw function sa(n){return new p.vHH(3402,Rn)}()}_flushAnimations(e,t){const r=new Ci,o=[],l=new Map,d=[],m=new Map,b=new Map,M=new Map,j=new Set;this.disabledNodes.forEach(Yt=>{j.add(Yt);const mn=this.driver.query(Yt,".ng-animate-queued",!0);for(let On=0;On<mn.length;On++)j.add(mn[On])});const K=this.bodyNode,ue=Array.from(this.statesByElement.keys()),Se=Th(ue,this.collectedEnterElements),Te=new Map;let Xe=0;Se.forEach((Yt,mn)=>{const On=Ds+Xe++;Te.set(mn,On),Yt.forEach(lr=>Oo(lr,On))});const mt=[],Xt=new Set,Ut=new Set;for(let Yt=0;Yt<this.collectedLeaveElements.length;Yt++){const mn=this.collectedLeaveElements[Yt],On=mn[Yr];On&&On.setForRemoval&&(mt.push(mn),Xt.add(mn),On.hasAnimation?this.driver.query(mn,".ng-star-inserted",!0).forEach(lr=>Xt.add(lr)):Ut.add(mn))}const dn=new Map,Pt=Th(ue,Array.from(Xt));Pt.forEach((Yt,mn)=>{const On=oa+Xe++;dn.set(mn,On),Yt.forEach(lr=>Oo(lr,On))}),e.push(()=>{Se.forEach((Yt,mn)=>{const On=Te.get(mn);Yt.forEach(lr=>la(lr,On))}),Pt.forEach((Yt,mn)=>{const On=dn.get(mn);Yt.forEach(lr=>la(lr,On))}),mt.forEach(Yt=>{this.processLeaveNode(Yt)})});const Cn=[],on=[];for(let Yt=this._namespaceList.length-1;Yt>=0;Yt--)this._namespaceList[Yt].drainQueuedTransitions(t).forEach(On=>{const lr=On.player,ks=On.element;if(Cn.push(lr),this.collectedEnterElements.length){const Go=ks[Yr];if(Go&&Go.setForMove){if(Go.previousTriggersValues&&Go.previousTriggersValues.has(On.triggerName)){const np=Go.previousTriggersValues.get(On.triggerName),Eh=this.statesByElement.get(On.element);Eh&&Eh[On.triggerName]&&(Eh[On.triggerName].value=np)}return void lr.destroy()}}const sc=!K||!this.driver.containsElement(K,ks),$a=dn.get(ks),vh=Te.get(ks),mi=this._buildInstruction(On,r,vh,$a,sc);if(mi.errors&&mi.errors.length)return void on.push(mi);if(sc)return lr.onStart(()=>v(ks,mi.fromStyles)),lr.onDestroy(()=>E(ks,mi.toStyles)),void o.push(lr);if(On.isFallbackTransition)return lr.onStart(()=>v(ks,mi.fromStyles)),lr.onDestroy(()=>E(ks,mi.toStyles)),void o.push(lr);const sS=[];mi.timelines.forEach(Go=>{Go.stretchStartingKeyframe=!0,this.disabledNodes.has(Go.element)||sS.push(Go)}),mi.timelines=sS,r.append(ks,mi.timelines),d.push({instruction:mi,player:lr,element:ks}),mi.queriedElements.forEach(Go=>Wr(m,Go,[]).push(lr)),mi.preStyleProps.forEach((Go,np)=>{const Eh=Object.keys(Go);if(Eh.length){let rp=b.get(np);rp||b.set(np,rp=new Set),Eh.forEach(qI=>rp.add(qI))}}),mi.postStyleProps.forEach((Go,np)=>{const Eh=Object.keys(Go);let rp=M.get(np);rp||M.set(np,rp=new Set),Eh.forEach(qI=>rp.add(qI))})});if(on.length){const Yt=[];on.forEach(mn=>{Yt.push(function Du(n,e){return new p.vHH(3505,Rn)}())}),Cn.forEach(mn=>mn.destroy()),this.reportError(Yt)}const _r=new Map,vr=new Map;d.forEach(Yt=>{const mn=Yt.element;r.has(mn)&&(vr.set(mn,mn),this._beforeAnimationBuild(Yt.player.namespaceId,Yt.instruction,_r))}),o.forEach(Yt=>{const mn=Yt.element;this._getPreviousPlayers(mn,!1,Yt.namespaceId,Yt.triggerName,null).forEach(lr=>{Wr(_r,mn,[]).push(lr),lr.destroy()})});const zi=mt.filter(Yt=>lp(Yt,b,M)),Er=new Map;Il(Er,this.driver,Ut,M,Bt.l3).forEach(Yt=>{lp(Yt,b,M)&&zi.push(Yt)});const gu=new Map;Se.forEach((Yt,mn)=>{Il(gu,this.driver,new Set(Yt),b,Bt.k1)}),zi.forEach(Yt=>{const mn=Er.get(Yt),On=gu.get(Yt);Er.set(Yt,Object.assign(Object.assign({},mn),On))});const tp=[],rS=[],iS={};d.forEach(Yt=>{const{element:mn,player:On,instruction:lr}=Yt;if(r.has(mn)){if(j.has(mn))return On.onDestroy(()=>E(mn,lr.toStyles)),On.disabled=!0,On.overrideTotalTime(lr.totalTime),void o.push(On);let ks=iS;if(vr.size>1){let $a=mn;const vh=[];for(;$a=$a.parentNode;){const mi=vr.get($a);if(mi){ks=mi;break}vh.push($a)}vh.forEach(mi=>vr.set(mi,ks))}const sc=this._buildAnimation(On.namespaceId,lr,_r,l,gu,Er);if(On.setRealPlayer(sc),ks===iS)tp.push(On);else{const $a=this.playersByElement.get(ks);$a&&$a.length&&(On.parentPlayer=Ts($a)),o.push(On)}}else v(mn,lr.fromStyles),On.onDestroy(()=>E(mn,lr.toStyles)),rS.push(On),j.has(mn)&&o.push(On)}),rS.forEach(Yt=>{const mn=l.get(Yt.element);if(mn&&mn.length){const On=Ts(mn);Yt.setRealPlayer(On)}}),o.forEach(Yt=>{Yt.parentPlayer?Yt.syncPlayerEvents(Yt.parentPlayer):Yt.destroy()});for(let Yt=0;Yt<mt.length;Yt++){const mn=mt[Yt],On=mn[Yr];if(la(mn,oa),On&&On.hasAnimation)continue;let lr=[];if(m.size){let sc=m.get(mn);sc&&sc.length&&lr.push(...sc);let $a=this.driver.query(mn,ml,!0);for(let vh=0;vh<$a.length;vh++){let mi=m.get($a[vh]);mi&&mi.length&&lr.push(...mi)}}const ks=lr.filter(sc=>!sc.destroyed);ks.length?Nm(this,mn,ks):this.processLeaveNode(mn)}return mt.length=0,tp.forEach(Yt=>{this.players.push(Yt),Yt.onDone(()=>{Yt.destroy();const mn=this.players.indexOf(Yt);this.players.splice(mn,1)}),Yt.play()}),tp}elementContainsData(e,t){let r=!1;const o=t[Yr];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,l){let d=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(d=m)}else{const m=this.playersByElement.get(e);if(m){const b=!l||l==xs;m.forEach(M=>{M.queued||!b&&M.triggerName!=o||d.push(M)})}}return(r||o)&&(d=d.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),d}_beforeAnimationBuild(e,t,r){const l=t.element,d=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const M=b.element,j=M!==l,K=Wr(r,M,[]);this._getPreviousPlayers(M,j,d,m,t.toState).forEach(Se=>{const Te=Se.getRealPlayer();Te.beforeDestroy&&Te.beforeDestroy(),Se.destroy(),K.push(Se)})}v(l,t.fromStyles)}_buildAnimation(e,t,r,o,l,d){const m=t.triggerName,b=t.element,M=[],j=new Set,K=new Set,ue=t.timelines.map(Te=>{const Xe=Te.element;j.add(Xe);const mt=Xe[Yr];if(mt&&mt.removedBeforeQueried)return new Bt.ZN(Te.duration,Te.delay);const Xt=Xe!==b,Ut=function c0(n){const e=[];return up(n,e),e}((r.get(Xe)||Kr).map(_r=>_r.getRealPlayer())).filter(_r=>!!_r.element&&_r.element===Xe),dn=l.get(Xe),Pt=d.get(Xe),Cn=Za(0,this._normalizer,0,Te.keyframes,dn,Pt),on=this._buildPlayer(Te,Cn,Ut);if(Te.subTimeline&&o&&K.add(Xe),Xt){const _r=new Fu(e,m,Xe);_r.setRealPlayer(on),M.push(_r)}return on});M.forEach(Te=>{Wr(this.playersByQueriedElement,Te.element,[]).push(Te),Te.onDone(()=>function vd(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,Te.element,Te))}),j.forEach(Te=>Oo(Te,ao));const Se=Ts(ue);return Se.onDestroy(()=>{j.forEach(Te=>la(Te,ao)),E(b,t.toStyles)}),K.forEach(Te=>{Wr(o,Te,[]).push(Se)}),Se}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Bt.ZN(e.duration,e.delay)}}class Fu{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Bt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>$s(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Wr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ed(n){return n&&1===n.nodeType}function Lu(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Il(n,e,t,r,o){const l=[];t.forEach(b=>l.push(Lu(b)));const d=[];r.forEach((b,M)=>{const j={};b.forEach(K=>{const ue=j[K]=e.computeStyle(M,K,o);(!ue||0==ue.length)&&(M[Yr]=ku,d.push(M))}),n.set(M,j)});let m=0;return t.forEach(b=>Lu(b,l[m++])),d}function Th(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const o=new Set(e),l=new Map;function d(m){if(!m)return 1;let b=l.get(m);if(b)return b;const M=m.parentNode;return b=t.has(M)?M:o.has(M)?1:d(M),l.set(m,b),b}return e.forEach(m=>{const b=d(m);1!==b&&t.get(b).push(m)}),t}function Oo(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function la(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Nm(n,e,t){Ts(t).onDone(()=>n.processLeaveNode(e))}function up(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Bt.ZE?up(r.players,e):e.push(r)}}function lp(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(l=>o.add(l)):e.set(n,r),t.delete(n),!0}class Vu{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new bh(e,t,r),this._timelineEngine=new gt(e,t,r),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(e,t,r,o,l){const d=e+"-"+o;let m=this._triggerCache[d];if(!m){const b=[],j=_l(this._driver,l,b,[]);if(b.length)throw function na(n,e){return new p.vHH(3404,Rn)}();m=function R(n,e,t){return new G(n,e,t)}(o,j,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(t,o,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[l,d]=Dr(r);this._timelineEngine.command(l,t,d,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,l){if("@"==r.charAt(0)){const[d,m]=Dr(r);return this._timelineEngine.listen(d,t,m,l)}return this._transitionEngine.listen(e,t,r,o,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Dl=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&E(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(E(this._element,this._initialStyles),this._endStyles&&(E(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(v(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(v(this._element,this._endStyles),this._endStyles=null),E(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function gc(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];Fm(o)&&(e=e||{},e[o]=n[o])}return e}function Fm(n){return"display"===n||"position"===n}class Lm{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Ni(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class wd{validateStyleProperty(e){return Su(e)}matchesElement(e,t){return!1}containsElement(e,t){return Mu(e,t)}getParentElement(e){return Gs(e)}query(e,t,r){return Pi(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,o,l,d=[]){const b={duration:r,delay:o,fill:0==o?"both":"forwards"};l&&(b.easing=l);const M={},j=d.filter(ue=>ue instanceof Lm);(function Hn(n,e){return 0===n||0===e})(r,o)&&j.forEach(ue=>{let Se=ue.currentSnapshot;Object.keys(Se).forEach(Te=>M[Te]=Se[Te])}),t=function Pn(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],d=[];if(r.forEach(m=>{l.hasOwnProperty(m)||d.push(m),l[m]=t[m]}),d.length)for(var o=1;o<e.length;o++){let m=e[o];d.forEach(function(b){m[b]=Ni(n,b)})}}return e}(e,t=t.map(ue=>Ss(ue,!1)),M);const K=function Ih(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=gc(e[0]),e.length>1&&(r=gc(e[e.length-1]))):e&&(t=gc(e)),t||r?new Dl(n,t,r):null}(e,t);return new Lm(e,t,b,K)}}let Dh=(()=>{class n extends Bt._j{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:p.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?(0,Bt.vP)(t):t;return Sh(this._renderer,null,r,"register",[o]),new cp(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(V.K0))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class cp extends Bt.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ah(this._id,e,t||{},this._renderer)}}class Ah{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Sh(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Sh(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const dp="@.disabled";let Vm=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,d)=>{const m=null==d?void 0:d.parentNode(l);m&&d.removeChild(m,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let j=this._rendererCache.get(l);return j||(j=new bd("",l,this.engine),this._rendererCache.set(l,j)),j}const d=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const b=j=>{Array.isArray(j)?j.forEach(b):this.engine.registerTrigger(d,m,t,j.name,j)};return r.data.animation.forEach(b),new Um(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,m]=l;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(Vu),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class bd{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==dp?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Um extends bd{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==dp?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function Mh(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function Da(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,o,l,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let Uu=(()=>{class n extends Vu{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(V.K0),p.LFG(os),p.LFG(So))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const fp=new p.OlP("AnimationModuleType"),Oh=[{provide:Bt._j,useClass:Dh},{provide:So,useFactory:function hp(){return new ua}},{provide:Vu,useClass:Uu},{provide:p.FYo,useFactory:function xh(n,e,t){return new Vm(n,e,t)},deps:[y.se,Vu,p.R0b]}],Rh=[{provide:os,useFactory:()=>new wd},{provide:fp,useValue:"BrowserAnimations"},...Oh],Bm=[{provide:os,useClass:gl},{provide:fp,useValue:"NoopAnimations"},...Oh];let pp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Bm:Rh}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:Rh,imports:[y.b2]}),n})();var da=k(3809);let w=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-about"]],decls:137,vars:0,consts:[["name","viewport","content","width=device-width, initial-scale=1, maximum-scale=1"],[1,"resume-wrapper"],[1,"profile","section-padding"],[1,"container"],[1,"picture-resume-wrapper"],[1,"picture-resume"],["src","../../assets/fotoPerfil.jpg","alt",""],["version","1.1","viewBox","0 0 350 350"],["id","goo"],["in","SourceGraphic","stdDeviation","8","result","blur"],["in","blur","mode","matrix","values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -9","result","cm"],[1,"clearfix"],[1,"name-wrapper"],[1,"contact-info","clearfix"],[1,"list-titles"],[1,"list-content"],["href","www.linkedin.com/in/ezequiel-archilla/"],[1,"contact-presentation"],[1,"bold"],[1,"experience","section-padding"],[1,"experience-title"],[1,"experience-wrapper"],[1,"company-wrapper","clearfix"],[1,"time"],[1,"job-wrapper","clearfix"],[1,"company-description"],[1,"section-wrapper","clearfix"],[1,"section-title"]],template:function(t,r){1&t&&(p._UZ(0,"meta",0),p.TgZ(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span"),p._UZ(7,"img",6),p.qZA(),p.O4$(),p.TgZ(8,"svg",7)(9,"defs")(10,"filter",8),p._UZ(11,"feGaussianBlur",9)(12,"feColorMatrix",10),p.qZA()()()(),p.kcU(),p._UZ(13,"div",11),p.qZA(),p.TgZ(14,"div",12)(15,"h1"),p._uU(16,"Ezequiel "),p._UZ(17,"br"),p._uU(18,"Archilla"),p.qZA()(),p._UZ(19,"div",11),p.TgZ(20,"div",13)(21,"ul",14)(22,"li"),p._uU(23,"Telefono"),p.qZA(),p.TgZ(24,"li"),p._uU(25,"Mail"),p.qZA(),p.TgZ(26,"li"),p._uU(27,"LinkedIn"),p.qZA(),p.TgZ(28,"li"),p._uU(29,"Direccion"),p.qZA()(),p.TgZ(30,"ul",15)(31,"li"),p._uU(32,"11 6121 4906"),p.qZA(),p.TgZ(33,"li"),p._uU(34,"ezequiel.a.archilla@gmail.com"),p.qZA(),p.TgZ(35,"li")(36,"a",16),p._uU(37,"@EzequielArchilla"),p.qZA()(),p.TgZ(38,"li"),p._uU(39,"Avellaneda, Buenos Aires"),p.qZA()()(),p.TgZ(40,"div",17)(41,"p")(42,"span",18),p._uU(43,"Juego propio: "),p.qZA(),p._uU(44," Hare un juego utilizando el canva de JS en el cual controlaremos un vehiculo que debe recorrer la mayor distancia posible sin chocar a otros autos que se iran generando aleatoriamente. "),p.qZA()()()(),p.TgZ(45,"section",19)(46,"div",3)(47,"h3",20),p._uU(48,"Experiencia"),p.qZA(),p.TgZ(49,"div",21)(50,"div",22)(51,"div",20),p._uU(52,"Calidra"),p.qZA(),p.TgZ(53,"div",23),p._uU(54,"Feb 2022 - Presente"),p.qZA()(),p.TgZ(55,"div",24)(56,"div",20),p._uU(57,"Analista BI"),p.qZA(),p.TgZ(58,"div",25)(59,"p"),p._uU(60,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce a elit facilisis, adipiscing leo in, dignissim magna."),p.qZA()()(),p.TgZ(61,"div",22)(62,"div",20),p._uU(63,"Accenture"),p.qZA(),p.TgZ(64,"div",23),p._uU(65,"Nov 2010 - Present"),p.qZA()(),p.TgZ(66,"div",24)(67,"div",20),p._uU(68,"Analista de Operaciones IT"),p.qZA(),p.TgZ(69,"div",25)(70,"p")(71,"li"),p._uU(72,"Automatizacion de procesos con C# y Selenium"),p.qZA(),p.TgZ(73,"li"),p._uU(74,"Desarrollo de aplicaciones de escritorio"),p.qZA(),p.TgZ(75,"li"),p._uU(76,"Analisis de datos con Power BI"),p.qZA(),p.TgZ(77,"li"),p._uU(78,"RPA usando Automation Anywhere"),p.qZA()()()(),p.TgZ(79,"div",22)(80,"div",20),p._uU(81,"Martina Di Trento"),p.qZA(),p.TgZ(82,"div",23),p._uU(83,"Sept 2017 - Ene 2020"),p.qZA()(),p.TgZ(84,"div",24)(85,"div",20),p._uU(86,"Tecnologia e infraestructura "),p.qZA(),p.TgZ(87,"div",25)(88,"p")(89,"li"),p._uU(90,"Soporte de aplicaciones/infraestructura"),p.qZA(),p.TgZ(91,"li"),p._uU(92,"Manejo integral de software BI (Microstrategy)"),p.qZA(),p.TgZ(93,"li"),p._uU(94,"Generacion de reportes en bases Relacionales"),p.qZA()()()(),p.TgZ(95,"div",22)(96,"div",20),p._uU(97,"Urbaser Argentina S.A."),p.qZA(),p.TgZ(98,"div",23),p._uU(99,"Abr 2016 - Sept 2017"),p.qZA()(),p.TgZ(100,"div",24)(101,"div",20),p._uU(102,"Responsable de Sistemas "),p.qZA(),p.TgZ(103,"div",25)(104,"p")(105,"li"),p._uU(106,"Mantenimiento de software y hardware"),p.qZA(),p.TgZ(107,"li"),p._uU(108,"Administracion de Windows Server"),p.qZA(),p.TgZ(109,"li"),p._uU(110,"Infraestructura de red"),p.qZA(),p.TgZ(111,"li"),p._uU(112,"Manejo de flota Nextel"),p.qZA(),p.TgZ(113,"li"),p._uU(114,"Incorporacion de nuevas tecnologias"),p.qZA()()()()(),p.TgZ(115,"div",26)(116,"h3",27),p._uU(117,"Skills"),p.qZA(),p.TgZ(118,"ul")(119,"li"),p._uU(120,"Angular"),p.qZA(),p.TgZ(121,"li"),p._uU(122,"React"),p.qZA(),p.TgZ(123,"li"),p._uU(124,"Javascript"),p.qZA(),p.TgZ(125,"li"),p._uU(126,"Power BI"),p.qZA(),p.TgZ(127,"li"),p._uU(128,"MicroStrategy"),p.qZA()()(),p.TgZ(129,"div",26)(130,"h3",27),p._uU(131,"Hobbies"),p.qZA(),p.TgZ(132,"p"),p._uU(133,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce a elit facilisis, adipiscing leo in, dignissim magna."),p.qZA(),p.TgZ(134,"p"),p._uU(135,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce a elit facilisis, adipiscing leo in, dignissim magna."),p.qZA()()()(),p._UZ(136,"div",11),p.qZA())},styles:['@import"https://fonts.googleapis.com/css?family=Varela+Round";@import"https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700";*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:after, *[_ngcontent-%COMP%]:before{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:16px;line-height:1.5em}a[_ngcontent-%COMP%]{color:#1f2523;text-decoration:none}.clearfix[_ngcontent-%COMP%]:after, .clearfix[_ngcontent-%COMP%]:before{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.bold[_ngcontent-%COMP%]{color:#4a4e51;font-weight:400}.resume-wrapper[_ngcontent-%COMP%]{position:relative;text-align:center;height:100%}.container[_ngcontent-%COMP%]{min-height:600px}.profile[_ngcontent-%COMP%]{background:#fff;width:40%;float:left;color:#202224}@media (max-width: 850px){.profile[_ngcontent-%COMP%]{width:100%}}.profile[_ngcontent-%COMP%]   .name-wrapper[_ngcontent-%COMP%]{float:left;width:60%}.profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;text-align:left;font-family:Varela Round,sans-serif;color:#4a4e51;text-transform:uppercase;line-height:1em;padding-top:40px}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:20px}}@media (max-width: 450px){.profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8em;padding-top:20px}}.profile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.profile[_ngcontent-%COMP%]   .picture-resume-wrapper[_ngcontent-%COMP%]{width:40%;display:block;float:left}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   .picture-resume-wrapper[_ngcontent-%COMP%]{width:100%}}.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]{width:220px;height:220px;background-size:cover;border-radius:50%;margin-right:0;display:table;position:relative;vertical-align:middle}.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;position:relative;margin:0 auto;z-index:10;text-align:center}.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:130px}@media (max-width: 1500px){.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px}}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}}@media (max-width: 1500px){.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]{width:150px;height:150px}}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]{width:200px;height:200px}}@media (max-width: 450px){.profile[_ngcontent-%COMP%]   .picture-resume[_ngcontent-%COMP%]{width:180px;height:180px}}.profile[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{margin-top:30px;font-weight:300}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{margin-top:70px}}@media (max-width: 450px){.profile[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{margin-top:50px}}.profile[_ngcontent-%COMP%]   .list-titles[_ngcontent-%COMP%]{float:left;text-align:left;font-weight:600;width:40%;color:#4a4e51}.profile[_ngcontent-%COMP%]   .list-content[_ngcontent-%COMP%]{list-style-type:none;float:left;width:60%;text-align:left;font-weight:300}.profile[_ngcontent-%COMP%]   .contact-presentation[_ngcontent-%COMP%]{text-align:left;font-weight:300;margin-top:50px;margin-bottom:50px}@media (max-width: 1200px){.profile[_ngcontent-%COMP%]   .contact-presentation[_ngcontent-%COMP%]{margin-top:70px;margin-bottom:70px}}@media (max-width: 850px){.profile[_ngcontent-%COMP%]   .contact-presentation[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:50px}}.profile[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0}.profile[_ngcontent-%COMP%]   .st0[_ngcontent-%COMP%], .profile[_ngcontent-%COMP%]   .st1[_ngcontent-%COMP%]{fill:#6c9}.experience[_ngcontent-%COMP%]{background:#3d3e42;width:60%;float:left;position:relative;color:#9099a0;font-weight:300;min-height:100%;min-height:100vh}@media (max-width: 850px){.experience[_ngcontent-%COMP%]{width:100%}}.experience[_ngcontent-%COMP%]   h3.experience-title[_ngcontent-%COMP%]{color:#6c9;text-align:left;text-transform:uppercase;font-size:1.2em;margin-bottom:20px;font-weight:400}.experience[_ngcontent-%COMP%]   .company-wrapper[_ngcontent-%COMP%]{width:30%;float:left;text-align:left;padding-right:5%;margin-bottom:60px}@media (max-width: 450px){.experience[_ngcontent-%COMP%]   .company-wrapper[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}}.experience[_ngcontent-%COMP%]   .job-wrapper[_ngcontent-%COMP%]{width:70%;float:left;text-align:left;padding-right:5%;margin-bottom:60px}@media (max-width: 450px){.experience[_ngcontent-%COMP%]   .job-wrapper[_ngcontent-%COMP%]{width:100%;margin-bottom:40px}}.experience[_ngcontent-%COMP%]   .experience-title[_ngcontent-%COMP%]{color:#fff;margin-bottom:15px}.section-padding[_ngcontent-%COMP%]{padding:60px 60px 40px 40px}@media (max-width: 850px){.section-padding[_ngcontent-%COMP%]{padding:80px 15% 40px 10%}}@media (max-width: 450px){.section-padding[_ngcontent-%COMP%]{padding:40px 10% 20px 5%}}.section-wrapper[_ngcontent-%COMP%]{width:50%;float:left;text-align:left;color:#9099a0;font-weight:300;margin-bottom:20px}@media (max-width: 450px){.section-wrapper[_ngcontent-%COMP%]{width:100%}}.section-wrapper[_ngcontent-%COMP%]:nth-child(3){padding-right:8%}.section-wrapper[_ngcontent-%COMP%]   h3.section-title[_ngcontent-%COMP%]{color:#6c9;text-align:left;text-transform:uppercase;font-size:1.2em;margin-bottom:20px;font-weight:400}']}),n})();var Ke,h=k(5861),g=k(9681),T=k(4859),L=k(1877),W=k(2090),Me="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},it={},tn=tn||{},Tt=Me||self;function yr(){}function Ro(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Po(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Sl="closure_uid_"+(1e9*Math.random()>>>0),mc=0;function jm(n,e,t){return n.call.apply(n.bind,arguments)}function Hm(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function si(n,e,t){return(si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jm:Hm).apply(null,arguments)}function yc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ti(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function ha(){this.s=this.s,this.o=this.o}var mp={};ha.prototype.s=!1,ha.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Al(n){return Object.prototype.hasOwnProperty.call(n,Sl)&&n[Sl]||(n[Sl]=++mc)}(this);delete mp[n]}},ha.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bu=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ph=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function h0(n){return Array.prototype.concat.apply([],arguments)}function Qr(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Nh(n){return/^[\s\xa0]*$/.test(n)}var Zs,f0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function us(n,e){return-1!=n.indexOf(e)}function yp(n,e){return n<e?-1:n>e?1:0}e:{var p0=Tt.navigator;if(p0){var g0=p0.userAgent;if(g0){Zs=g0;break e}}Zs=""}function Gm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function m0(n){const e={};for(const t in n)e[t]=n[t];return e}var Vb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ub(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Vb.length;l++)t=Vb[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function _c(n){return _c[" "](n),n}_c[" "]=yr;var _p,n,qm=us(Zs,"Opera"),vc=us(Zs,"Trident")||us(Zs,"MSIE"),zm=us(Zs,"Edge"),Ji=zm||vc,Cd=us(Zs,"Gecko")&&!(us(Zs.toLowerCase(),"webkit")&&!us(Zs,"Edge"))&&!(us(Zs,"Trident")||us(Zs,"MSIE"))&&!us(Zs,"Edge"),Wm=us(Zs.toLowerCase(),"webkit")&&!us(Zs,"Edge");function y0(){var n=Tt.document;return n?n.documentMode:void 0}e:{var vp="",Zm=(n=Zs,Cd?/rv:([^\);]+)(\)|;)/.exec(n):zm?/Edge\/([\d\.]+)/.exec(n):vc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Wm?/WebKit\/(\S+)/.exec(n):qm?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Zm&&(vp=Zm?Zm[1]:""),vc){var Ep=y0();if(null!=Ep&&Ep>parseFloat(vp)){_p=String(Ep);break e}}_p=vp}var Bb={};var Ym=Tt.document&&vc&&(y0()||parseInt(_p,10))||void 0,jb=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Tt.addEventListener("test",yr,e),Tt.removeEventListener("test",yr,e)}catch(t){}return n}();function Os(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ec(n,e){if(Os.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Cd){e:{try{_c(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Hb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ec.Z.h.call(this)}}Os.prototype.h=function(){this.defaultPrevented=!0},Ti(Ec,Os);var Hb={2:"touch",3:"pen",4:"mouse"};Ec.prototype.h=function(){Ec.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kh="closure_listenable_"+(1e6*Math.random()|0),wp=0;function $b(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++wp,this.ca=this.fa=!1}function bp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Cp(n){this.src=n,this.g={},this.h=0}function Qm(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=Bu(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(bp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Jm(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}Cp.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Jm(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new $b(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var Tp="closure_lm_"+(1e6*Math.random()|0),Xm={};function E0(n,e,t,r,o){if(r&&r.once)return b0(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)E0(n,e[l],t,r,o);return null}return t=D0(t),n&&n[kh]?n.N(e,t,Po(r)?!!r.capture:!!r,o):w0(n,e,t,!1,r,o)}function w0(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var d=Po(o)?!!o.capture:!!o,m=fa(n);if(m||(n[Tp]=m=new Cp(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function Gb(){var e=Td;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)jb||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(T0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function b0(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)b0(n,e[l],t,r,o);return null}return t=D0(t),n&&n[kh]?n.O(e,t,Po(r)?!!r.capture:!!r,o):w0(n,e,t,!0,r,o)}function C0(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)C0(n,e[l],t,r,o);else r=Po(r)?!!r.capture:!!r,t=D0(t),n&&n[kh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Jm(l=n.g[e],t,r,o))&&(bp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=fa(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Jm(e,t,r,o)),(t=-1<n?e[n]:null)&&ey(t))}function ey(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[kh])Qm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(T0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=fa(e))?(Qm(t,n),0==t.h&&(t.src=null,e[Tp]=null)):bp(n)}}}function T0(n){return n in Xm?Xm[n]:Xm[n]="on"+n}function Td(n,e){if(n.ca)n=!0;else{e=new Ec(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&ey(n),n=t.call(r,e)}return n}function fa(n){return(n=n[Tp])instanceof Cp?n:null}var I0="__closure_events_fn_"+(1e9*Math.random()>>>0);function D0(n){return"function"==typeof n?n:(n[I0]||(n[I0]=function(e){return n.handleEvent(e)}),n[I0])}function Li(){ha.call(this),this.i=new Cp(this),this.P=this,this.I=null}function Rs(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Os(e,n);else if(e instanceof Os)e.target=e.target||n;else{var o=e;Ub(e=new Os(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];o=No(d,r,!0,e)&&o}if(o=No(d=e.g=n,r,!0,e)&&o,o=No(d,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=No(d=e.g=t[l],r,!1,e)&&o}function No(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var m=d.listener,b=d.ia||d.src;d.fa&&Qm(n.i,d),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}Ti(Li,ha),Li.prototype[kh]=!0,Li.prototype.removeEventListener=function(n,e,t,r){C0(this,n,e,t,r)},Li.prototype.M=function(){if(Li.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)bp(t[r]);delete n.g[e],n.h--}}this.I=null},Li.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Li.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Fh=Tt.JSON.stringify;function ty(){var n=zb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Vh,ny=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Lh,n=>n.reset());class Lh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function A0(n){Tt.setTimeout(()=>{throw n},0)}function Ip(n,e){Vh||function ry(){var n=Tt.Promise.resolve(void 0);Vh=function(){n.then(Id)}}(),Dp||(Vh(),Dp=!0),zb.add(n,e)}var Dp=!1,zb=new class qb{constructor(){this.h=this.g=null}add(e,t){const r=ny.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Id(){for(var n;n=ty();){try{n.h.call(n.g)}catch(t){A0(t)}var e=ny;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Dp=!1}function Dd(n,e){Li.call(this),this.h=n||1,this.g=e||Tt,this.j=si(this.kb,this),this.l=Date.now()}function Ap(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function iy(n,e,t){if("function"==typeof n)t&&(n=si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=si(n.handleEvent,n)}return 2147483647<Number(e)?-1:Tt.setTimeout(n,e||0)}function Sp(n){n.g=iy(()=>{n.g=null,n.i&&(n.i=!1,Sp(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ti(Dd,Li),(Ke=Dd.prototype).da=!1,Ke.S=null,Ke.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Rs(this,"tick"),this.da&&(Ap(this),this.start()))}},Ke.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.M=function(){Dd.Z.M.call(this),Ap(this),delete this.g};class Wb extends ha{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sp(this)}M(){super.M(),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uh(n){ha.call(this),this.h=n,this.g={}}Ti(Uh,ha);var S0=[];function M0(n,e,t,r){Array.isArray(t)||(t&&(S0[0]=t.toString()),t=S0);for(var o=0;o<t.length;o++){var l=E0(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function x0(n){Gm(n.g,function(e,t){this.g.hasOwnProperty(t)&&ey(e)},n),n.g={}}function Mp(){this.g=!0}function wc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<o.length;d++)o[d]=""}}}return Fh(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Uh.prototype.M=function(){Uh.Z.M.call(this),x0(this)},Uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mp.prototype.Aa=function(){this.g=!1},Mp.prototype.info=function(){};var bc={},ay=null;function Bh(){return ay=ay||new Li}function Ml(n){Os.call(this,bc.Ma,n)}function Ad(n){const e=Bh();Rs(e,new Ml(e,n))}function uy(n,e){Os.call(this,bc.STAT_EVENT,n),this.stat=e}function Ys(n){const e=Bh();Rs(e,new uy(e,n))}function jh(n,e){Os.call(this,bc.Na,n),this.size=e}function Hh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){n()},e)}bc.Ma="serverreachability",Ti(Ml,Os),bc.STAT_EVENT="statevent",Ti(uy,Os),bc.Na="timingevent",Ti(jh,Os);var $h={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ly={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function xp(){}function cy(){}xp.prototype.h=null;var Gh,xl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sd(){Os.call(this,"d")}function Rp(){Os.call(this,"c")}function qh(){}function Cc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Uh(this),this.P=Kb,this.W=new Dd(n=Ji?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Md}function Md(){this.i=null,this.g="",this.h=!1}Ti(Sd,Os),Ti(Rp,Os),Ti(qh,xp),qh.prototype.g=function(){return new XMLHttpRequest},qh.prototype.i=function(){return{}},Gh=new qh;var Kb=45e3,Pp={},Np={};function dy(n,e,t){n.K=1,n.v=Ac(ju(e)),n.s=t,n.U=!0,hy(n,null)}function hy(n,e){n.F=Date.now(),xd(n),n.A=ju(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),jp(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Md,n.g=xy(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Wb(si(n.Ia,n,n.g),n.O)),M0(n.V,n.g,"readystatechange",n.gb),e=n.H?m0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ad(1),function O0(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),b=0;b<m.length;b++){var M=m[b].split("=");if(1<M.length){var j=M[0];M=M[1];var K=j.split("_");d=2<=K.length&&"type"==K[1]?d+(j+"=")+M+"&":d+(j+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function kp(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function fy(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=zI(n,t),o==Np){4==e&&(n.o=4,Ys(14),r=!1),wc(n.j,n.m,null,"[Incomplete Response]");break}if(o==Pp){n.o=4,Ys(15),wc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}wc(n.j,n.m,o,null),ko(n,o)}kp(n)&&o!=Np&&o!=Pp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ys(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qp(e),e.L=!0,Ys(11))):(wc(n.j,n.m,t,"[Invalid Chunked Response]"),Tc(n),Wh(n))}function zI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Np:(t=Number(e.substring(t,r)),isNaN(t)?Pp:(r+=1)+t>e.length?Np:(e=e.substr(r,t),n.C=r+t,e))}function xd(n){n.Y=Date.now()+n.P,R0(n,n.P)}function R0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hh(si(n.eb,n),e)}function zh(n){n.B&&(Tt.clearTimeout(n.B),n.B=null)}function Wh(n){0==n.l.G||n.I||Sy(n.l,n)}function Tc(n){zh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ap(n.W),x0(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ko(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||B0(t.i,n)))if(t.I=n.N,!n.J&&B0(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(M){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Hh(si(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Jp(t),qu(t)}Jh(t),Ys(18)}if(1>=yy(t.i)&&t.ka){try{t.ka()}catch(M){}t.ka=void 0}}else Nl(t,11)}else if((n.J||t.g==n)&&Jp(t),!Nh(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let M=o[e];if(t.U=M[0],M=M[1],2==t.G)if("c"==M[0]){t.J=M[1],t.la=M[2];const j=M[3];null!=j&&(t.ma=j,t.h.info("VER="+t.ma));const K=M[4];null!=K&&(t.za=K,t.h.info("SVER="+t.za));const ue=M[5];null!=ue&&"number"==typeof ue&&0<ue&&(t.K=r=1.5*ue,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const Se=n.g;if(Se){const Te=Se.g?Se.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Te){var l=r.i;!l.g&&(us(Te,"spdy")||us(Te,"quic")||us(Te,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(_y(l,l.h),l.h=null))}if(r.D){const Xe=Se.g?Se.g.getResponseHeader("X-HTTP-Session-Id"):null;Xe&&(r.sa=Xe,Nr(r.F,r.D,Xe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=z0(r,r.H?r.la:null,r.W),d.J){Xb(r.i,d);var m=d,b=r.K;b&&m.setTimeout(b),m.B&&(zh(m),xd(m)),r.g=d}else Yp(r);0<t.l.length&&Pl(t)}else"stop"!=M[0]&&"close"!=M[0]||Nl(t,7);else 3==t.G&&("stop"==M[0]||"close"==M[0]?"stop"==M[0]?Nl(t,7):Mc(t):"noop"!=M[0]&&t.j&&t.j.wa(M),t.A=0)}Ad(4)}catch(M){}}function Fp(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ro(n)||"string"==typeof n)Ph(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Ro(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function Yb(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ro(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Od(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Od)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function py(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ic(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Ic(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Ic(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ke=Cc.prototype).setTimeout=function(n){this.P=n},Ke.gb=function(n){n=n.target;const e=this.L;e&&3==Gu(n)?e.l():this.Ia(n)},Ke.Ia=function(n){try{if(n==this.g)e:{const j=Gu(this.g);var e=this.g.Da();const K=this.g.ba();if(!(3>j)&&(3!=j||Ji||this.g&&(this.h.h||this.g.ga()||Wp(this.g)))){this.I||4!=j||7==e||Ad(8==e||0>=K?3:2),zh(this);var t=this.g.ba();this.N=t;t:if(kp(this)){var r=Wp(this.g);n="";var o=r.length,l=4==Gu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Tc(this),Wh(this);var d="";break t}this.h.i=new Tt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function sy(n,e,t,r,o,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,j,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nh(m)){var M=m;break t}}M=null}if(!(t=M)){this.i=!1,this.o=3,Ys(12),Tc(this),Wh(this);break e}wc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ko(this,t)}this.U?(fy(this,j,d),Ji&&this.i&&3==j&&(M0(this.V,this.W,"tick",this.fb),this.W.start())):(wc(this.j,this.m,d,null),ko(this,d)),4==j&&Tc(this),this.i&&!this.I&&(4==j?Sy(this.l,this):(this.i=!1,xd(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ys(12)):(this.o=0,Ys(13)),Tc(this),Wh(this)}}}catch(j){}},Ke.fb=function(){if(this.g){var n=Gu(this.g),e=this.g.ga();this.C<e.length&&(zh(this),fy(this,n,e),this.i&&4!=n&&xd(this))}},Ke.cancel=function(){this.I=!0,Tc(this)},Ke.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function oy(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ad(3),Ys(17)),Tc(this),this.o=2,Wh(this)):R0(this,this.Y-n)},(Ke=Od.prototype).R=function(){py(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ke.T=function(){return py(this),this.g.concat()},Ke.get=function(n,e){return Ic(this.h,n)?this.h[n]:e},Ke.set=function(n,e){Ic(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ke.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var P0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Dc){this.g=void 0!==e?e:n.g,Lp(this,n.j),this.s=n.s,Sn(this,n.i),Zh(this,n.m),this.l=n.l,e=n.h;var t=new Up;t.i=e.i,e.g&&(t.g=new Od(e.g),t.h=e.h),gy(this,t),this.o=n.o}else n&&(t=String(n).match(P0))?(this.g=!!e,Lp(this,t[1]||"",!0),this.s=Kh(t[2]||""),Sn(this,t[3]||"",!0),Zh(this,t[4]),this.l=Kh(t[5]||"",!0),gy(this,t[6]||"",!0),this.o=Kh(t[7]||"")):(this.g=!!e,this.h=new Up(null,this.g))}function ju(n){return new Dc(n)}function Lp(n,e,t){n.j=t?Kh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Sn(n,e,t){n.i=t?Kh(e,!0):e}function Zh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gy(n,e,t){e instanceof Up?(n.h=e,function ZI(n,e){e&&!n.j&&(Sa(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Yh(this,r),jp(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Sc(e,WI)),n.h=new Up(e,n.g))}function Nr(n,e,t){n.h.set(e,t)}function Ac(n){return Nr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Hu),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Hu(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Dc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sc(e,Vp,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sc(e,Vp,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sc(t,"/"==t.charAt(0)?my:F0,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sc(t,L0)),n.join("")};var Vp=/[#\/\?@]/g,F0=/[#\?:]/g,my=/[#\?]/g,WI=/[#\?@]/g,L0=/#/g;function Up(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Sa(n){n.g||(n.g=new Od,n.h=0,n.i&&function N0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Yh(n,e){Sa(n),e=Ol(n,e),Ic(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ic((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&py(n)))}function Bp(n,e){return Sa(n),e=Ol(n,e),Ic(n.g.h,e)}function jp(n,e,t){Yh(n,e),0<t.length&&(n.i=null,n.g.set(Ol(n,e),Qr(t)),n.h+=t.length)}function Ol(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function V0(n){this.l=n||Jb,n=Tt.PerformanceNavigationTiming?0<(n=Tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Tt.g&&Tt.g.Ea&&Tt.g.Ea()&&Tt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ke=Up.prototype).add=function(n,e){Sa(this),this.i=null,n=Ol(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ke.forEach=function(n,e){Sa(this),this.g.forEach(function(t,r){Ph(t,function(o){n.call(e,o,r,this)},this)},this)},Ke.T=function(){Sa(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},Ke.R=function(n){Sa(this);var e=[];if("string"==typeof n)Bp(this,n)&&(e=h0(e,this.g.get(Ol(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=h0(e,n[t])}return e},Ke.set=function(n,e){return Sa(this),this.i=null,Bp(this,n=Ol(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ke.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=o;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var Jb=10;function U0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function yy(n){return n.h?1:n.g?n.g.size:0}function B0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function _y(n,e){n.g?n.g.add(e):n.h=e}function Xb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Qr(n.i)}function Hp(){}function eC(){this.g=new Hp}function Ey(n,e,t){const r=t||"";try{Fp(n,function(o,l){let d=o;Po(o)&&(d=Fh(o)),e.push(r+l+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function wy(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function $p(n){this.l=n.$b||null,this.j=n.ib||!1}function by(n,e){Li.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=j0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}V0.prototype.cancel=function(){if(this.i=vy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Hp.prototype.stringify=function(n){return Tt.JSON.stringify(n,void 0)},Hp.prototype.parse=function(n){return Tt.JSON.parse(n,void 0)},Ti($p,xp),$p.prototype.g=function(){return new by(this.l,this.j)},$p.prototype.i=function(n){return function(){return n}}({}),Ti(by,Li);var j0=0;function tC(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Gp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,qp(n)}function qp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ke=by.prototype).open=function(n,e){if(this.readyState!=j0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,qp(this)},Ke.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Tt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gp(this)),this.readyState=j0},Ke.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,qp(this)),this.g&&(this.readyState=3,qp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Tt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tC(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ke.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Gp(this):qp(this),3==this.readyState&&tC(this)}},Ke.Ua=function(n){this.g&&(this.response=this.responseText=n,Gp(this))},Ke.Ta=function(n){this.g&&(this.response=n,Gp(this))},Ke.ha=function(){this.g&&Gp(this)},Ke.setRequestHeader=function(n,e){this.v.append(n,e)},Ke.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(by.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var YI=Tt.JSON.parse;function Vi(n){Li.call(this),this.headers=new Od,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$u,this.K=this.L=!1}Ti(Vi,Li);var $u="",Cy=/^https?$/i,nC=["POST","PUT"];function Ty(n){return"content-type"==n.toLowerCase()}function Iy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,zp(n),Ma(n)}function zp(n){n.D||(n.D=!0,Rs(n,"complete"),Rs(n,"error"))}function $0(n){if(n.h&&void 0!==tn&&(!n.C[1]||4!=Gu(n)||2!=n.ba()))if(n.v&&4==Gu(n))iy(n.Fa,0,n);else if(Rs(n,"readystatechange"),4==Gu(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(P0)[1]||null;if(!o&&Tt.self&&Tt.self.location){var l=Tt.self.location.protocol;o=l.substr(0,l.length-1)}r=!Cy.test(o?o.toLowerCase():"")}t=r}if(t)Rs(n,"complete"),Rs(n,"success");else{n.m=6;try{var d=2<Gu(n)?n.g.statusText:""}catch(b){d=""}n.j=d+" ["+n.ba()+"]",zp(n)}}finally{Ma(n)}}}function Ma(n,e){if(n.g){Dy(n);const t=n.g,r=n.C[0]?yr:null;n.g=null,n.C=null,e||Rs(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function Dy(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Tt.clearTimeout(n.A),n.A=null)}function Gu(n){return n.g?n.g.readyState:0}function Wp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case $u:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Zp(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function rC(n){let e="";return Gm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Nr(n,e,t))}function Qh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function G0(n){this.za=0,this.l=[],this.h=new Mp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qh("baseRetryDelayMs",5e3,n),this.$a=Qh("retryDelaySeedMs",1e4,n),this.Ya=Qh("forwardChannelMaxRetries",2,n),this.ra=Qh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new V0(n&&n.concurrentRequestLimit),this.Ca=new eC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Mc(n){if(Kp(n),3==n.G){var e=n.V++,t=ju(n.F);Nr(t,"SID",n.J),Nr(t,"RID",e),Nr(t,"TYPE","terminate"),Pd(n,t),(e=new Cc(n,n.h,e,void 0)).K=2,e.v=Ac(ju(t)),t=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(t=Tt.navigator.sendBeacon(e.v.toString(),"")),!t&&Tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=xy(e.l,null),e.g.ea(e.v)),e.F=Date.now(),xd(e)}My(n)}function qu(n){n.g&&(Qp(n),n.g.cancel(),n.g=null)}function Kp(n){qu(n),n.u&&(Tt.clearTimeout(n.u),n.u=null),Jp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Tt.clearTimeout(n.m),n.m=null)}function Rl(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Pl(n)}function Pl(n){U0(n.i)||n.m||(n.m=!0,Ip(n.Ha,n),n.C=0)}function q0(n,e){var t;t=e?e.m:n.V++;const r=ju(n.F);Nr(r,"SID",n.J),Nr(r,"RID",t),Nr(r,"AID",n.U),Pd(n,r),n.o&&n.s&&Zp(r,n.o,n.s),t=new Cc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ay(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),_y(n.i,t),dy(t,r,e)}function Pd(n,e){n.j&&Fp({},function(t,r){Nr(e,r,t)})}function Ay(n,e,t){t=Math.min(n.l.length,t);var r=n.j?si(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=o[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let b=0;b<t;b++){let M=o[b].h;const j=o[b].g;if(M-=l,0>M)l=Math.max(0,o[b].h-100),m=!1;else try{Ey(j,d,"req"+M+"_")}catch(K){r&&r(j)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Yp(n){n.g||n.u||(n.Y=1,Ip(n.Ga,n),n.A=0)}function Jh(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Hh(si(n.Ga,n),iC(n,n.A)),n.A++,0))}function Qp(n){null!=n.B&&(Tt.clearTimeout(n.B),n.B=null)}function Xh(n){n.g=new Cc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ju(n.oa);Nr(e,"RID","rpc"),Nr(e,"SID",n.J),Nr(e,"CI",n.N?"0":"1"),Nr(e,"AID",n.U),Pd(n,e),Nr(e,"TYPE","xmlhttp"),n.o&&n.s&&Zp(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ac(ju(e)),t.s=null,t.U=!0,hy(t,n)}function Jp(n){null!=n.v&&(Tt.clearTimeout(n.v),n.v=null)}function Sy(n,e){var t=null;if(n.g==e){Jp(n),Qp(n),n.g=null;var r=2}else{if(!B0(n.i,e))return;t=e.D,Xb(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Rs(r=Bh(),new jh(r,t,e,o)),Pl(n)}else Yp(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function Rd(n,e){return!(yy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Hh(si(n.Ha,n,e),iC(n,n.C)),n.C++,0)))}(n,e)||2==r&&Jh(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Nl(n,5);break;case 4:Nl(n,10);break;case 3:Nl(n,6);break;default:Nl(n,2)}}function iC(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Nl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=si(n.jb,n);t||(t=new Dc("//www.google.com/images/cleardot.gif"),Tt.location&&"http"==Tt.location.protocol||Lp(t,"https"),Ac(t)),function KI(n,e){const t=new Mp;if(Tt.Image){const r=new Image;r.onload=yc(wy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yc(wy,t,r,"TestLoadImage: error",!1,e),r.onabort=yc(wy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yc(wy,t,r,"TestLoadImage: timeout",!1,e),Tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ys(2);n.G=0,n.j&&n.j.va(e),My(n),Kp(n)}function My(n){n.G=0,n.I=-1,n.j&&((0!=vy(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Qr(n.l),n.l.length=0),n.j.ua())}function z0(n,e,t){let r=function Aa(n){return n instanceof Dc?ju(n):new Dc(n,void 0)}(t);if(""!=r.i)e&&Sn(r,e+"."+r.i),Zh(r,r.m);else{const o=Tt.location;r=function k0(n,e,t,r){var o=new Dc(null,void 0);return n&&Lp(o,n),e&&Sn(o,e),t&&Zh(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Gm(n.aa,function(o,l){Nr(r,l,o)}),t=n.sa,(e=n.D)&&t&&Nr(r,e,t),Nr(r,"VER",n.ma),Pd(n,r),r}function xy(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vi(t&&n.Ba&&!n.qa?new $p({ib:!0}):n.qa)).L=n.H,e}function W0(){}function Xp(){if(vc&&!(10<=Number(Ym)))throw Error("Environmental error: no available transport.")}function kr(n,e){Li.call(this),this.g=new G0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Nh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ef(this)}function Z0(n){Sd.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function K0(){Rp.call(this),this.status=1}function ef(n){this.g=n}(Ke=Vi.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gh.g(),this.C=function Op(n){return n.h||(n.h=n.i())}(this.u?this.u:Gh),this.g.onreadystatechange=si(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Iy(this,l)}n=t||"";const o=new Od(this.headers);r&&Fp(r,function(l,d){o.set(d,l)}),r=function $m(n){e:{var e=Ty;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Tt.FormData&&n instanceof Tt.FormData,!(0<=Bu(nC,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dy(this),0<this.B&&((this.K=function H0(n){return vc&&function _0(){return function Ks(n){var e=Bb;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=f0(String(_p)).split("."),t=f0("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",l=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=yp(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||yp(0==o[2].length,0==l[2].length)||yp(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=si(this.pa,this)):this.A=iy(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Iy(this,l)}},Ke.pa=function(){void 0!==tn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rs(this,"timeout"),this.abort(8))},Ke.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Rs(this,"complete"),Rs(this,"abort"),Ma(this))},Ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ma(this,!0)),Vi.Z.M.call(this)},Ke.Fa=function(){this.s||(this.F||this.v||this.l?$0(this):this.cb())},Ke.cb=function(){$0(this)},Ke.ba=function(){try{return 2<Gu(this)?this.g.status:-1}catch(n){return-1}},Ke.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ke.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),YI(e)}},Ke.Da=function(){return this.m},Ke.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=G0.prototype).ma=8,Ke.G=1,Ke.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ke.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Cc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=m0(l),Ub(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ay(this,o,e),Nr(t=ju(this.F),"RID",n),Nr(t,"CVER",22),this.D&&Nr(t,"X-HTTP-Session-Id",this.D),Pd(this,t),this.o&&l&&Zp(t,this.o,l),_y(this.i,o),this.Ra&&Nr(t,"TYPE","init"),this.ja?(Nr(t,"$req",e),Nr(t,"SID","null"),o.$=!0,dy(o,t,null)):dy(o,t,e),this.G=2}}else 3==this.G&&(n?q0(this,n):0==this.l.length||U0(this.i)||q0(this))},Ke.Ga=function(){if(this.u=null,Xh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Hh(si(this.bb,this),n)}},Ke.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ys(10),qu(this),Xh(this))},Ke.ab=function(){null!=this.v&&(this.v=null,qu(this),Jh(this),Ys(19))},Ke.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ys(2)):(this.h.info("Failed to ping google.com"),Ys(1))},(Ke=W0.prototype).xa=function(){},Ke.wa=function(){},Ke.va=function(){},Ke.ua=function(){},Ke.Oa=function(){},Xp.prototype.g=function(n,e){return new kr(n,e)},Ti(kr,Li),kr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Ip(si(n.hb,n,e))),Ys(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=z0(n,null,n.W),Pl(n)},kr.prototype.close=function(){Mc(this.g)},kr.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Rl(this.g,e)}else this.v?((e={}).__data__=Fh(n),Rl(this.g,e)):Rl(this.g,n)},kr.prototype.M=function(){this.g.j=null,delete this.j,Mc(this.g),delete this.g,kr.Z.M.call(this)},Ti(Z0,Sd),Ti(K0,Rp),Ti(ef,W0),ef.prototype.xa=function(){Rs(this.g,"a")},ef.prototype.wa=function(n){Rs(this.g,new Z0(n))},ef.prototype.va=function(n){Rs(this.g,new K0(n))},ef.prototype.ua=function(){Rs(this.g,"b")},Xp.prototype.createWebChannel=Xp.prototype.g,kr.prototype.send=kr.prototype.u,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,$h.NO_ERROR=0,$h.TIMEOUT=8,$h.HTTP_ERROR=6,ly.COMPLETE="complete",cy.EventType=xl,xl.OPEN="a",xl.CLOSE="b",xl.ERROR="c",xl.MESSAGE="d",Li.prototype.listen=Li.prototype.N,Vi.prototype.listenOnce=Vi.prototype.O,Vi.prototype.getLastError=Vi.prototype.La,Vi.prototype.getLastErrorCode=Vi.prototype.Da,Vi.prototype.getStatus=Vi.prototype.ba,Vi.prototype.getResponseJson=Vi.prototype.Qa,Vi.prototype.getResponseText=Vi.prototype.ga,Vi.prototype.send=Vi.prototype.ea;var QI=it.createWebChannelTransport=function(){return new Xp},Y0=it.getStatEventTarget=function(){return Bh()},Q0=it.ErrorCode=$h,sC=it.EventType=ly,Oy=it.Event=bc,Ry=it.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},oC=it.FetchXmlHttpFactory=$p,eg=it.WebChannel=cy,aC=it.XhrIo=Vi;const Py="@firebase/firestore";class ls{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ls.UNAUTHENTICATED=new ls(null),ls.GOOGLE_CREDENTIALS=new ls("google-credentials-uid"),ls.FIRST_PARTY=new ls("first-party-uid"),ls.MOCK_USER=new ls("mock-user");let xc="9.6.10";const kl=new L.Yd("@firebase/firestore");function Ny(){return kl.logLevel}function Et(n,...e){if(kl.logLevel<=L.in.DEBUG){const t=e.map(tf);kl.debug(`Firestore (${xc}): ${n}`,...t)}}function Ii(n,...e){if(kl.logLevel<=L.in.ERROR){const t=e.map(tf);kl.error(`Firestore (${xc}): ${n}`,...t)}}function ho(n,...e){if(kl.logLevel<=L.in.WARN){const t=e.map(tf);kl.warn(`Firestore (${xc}): ${n}`,...t)}}function tf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Wt(n="Unexpected state"){const e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+n;throw Ii(e),new Error(e)}function Mn(n,e){n||Wt()}function kt(n,e){return n}const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends W.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ls.UNAUTHENTICATED))}shutdown(){}}class lC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ng{constructor(e){this.t=e,this.currentUser=ls.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=M=>this.i!==o?(o=this.i,t(M)):Promise.resolve();let d=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Xi,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const M=d;e.enqueueRetryable((0,h.Z)(function*(){yield M.promise,yield l(r.currentUser)}))},b=M=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=M,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(M=>b(M)),setTimeout(()=>{if(!this.auth){const M=this.t.getImmediate({optional:!0});M?b(M):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Xi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mn("string"==typeof r.accessToken),new tg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mn(null===e||"string"==typeof e),new ls(e)}}class ky{constructor(e,t,r){this.type="FirstParty",this.user=ls.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class cC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ky(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ls.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fy{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mn("string"==typeof t.token),this.p=t.token,new rg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Fo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function hC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Fo.A=-1;class ig{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=hC(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function qn(n,e){return n<e?-1:n>e?1:0}function Nd(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Ly(n){return n+"\0"}class oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new oi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qn(this.nanoseconds,e.nanoseconds):qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gn(e)}static min(){return new gn(new oi(0,0))}static max(){return new gn(new oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Vy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ru(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ll{constructor(e,t,r){void 0===t?t=0:t>e.length&&Wt(),void 0===r?r=e.length-t:r>e.length-t&&Wt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ll.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ll?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ir extends Ll{construct(e,t,r){return new ir(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pt(qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new ir(t)}static emptyPath(){return new ir([])}}const fC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cs extends Ll{construct(e,t,r){return new cs(e,t,r)}static isValidIdentifier(e){return fC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cs(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new pt(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new pt(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new pt(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(l(),o++)}if(l(),d)throw new pt(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cs(t)}static emptyPath(){return new cs([])}}class Vl{constructor(e){this.fields=e,e.sort(cs.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new hi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const nf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ul(n){if(Mn(!!n),"string"==typeof n){let e=0;const t=nf.exec(n);if(Mn(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$r(n.seconds),nanos:$r(n.nanos)}}function $r(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bl(n){return"string"==typeof n?hi.fromBase64String(n):hi.fromUint8Array(n)}function sg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Uy(n){const e=n.mapValue.fields.__previous_value__;return sg(e)?Uy(e):e}function rf(n){const e=Ul(n.mapValue.fields.__local_write_time__.timestampValue);return new oi(e.seconds,e.nanos)}class By{constructor(e,t,r,o,l,d,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class zu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}function Oc(n){return null==n}function kd(n){return 0===n&&1/n==-1/0}function Rc(n){return"number"==typeof n&&Number.isInteger(n)&&!kd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(ir.fromString(e))}static fromName(e){return new Mt(ir.fromString(e).popFirst(5))}static empty(){return new Mt(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ir.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ir.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new ir(e.slice()))}}const eE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tE={nullValue:"NULL_VALUE"};function pa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sg(n)?4:iE(n)?9:10:Wt()}function iu(n,e){if(n===e)return!0;const t=pa(n);if(t!==pa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rf(n).isEqual(rf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Ul(r.timestampValue),d=Ul(o.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Bl(n.bytesValue).isEqual(Bl(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return $r(r.geoPointValue.latitude)===$r(o.geoPointValue.latitude)&&$r(r.geoPointValue.longitude)===$r(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return $r(r.integerValue)===$r(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=$r(r.doubleValue),d=$r(o.doubleValue);return l===d?kd(l)===kd(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Nd(n.arrayValue.values||[],e.arrayValue.values||[],iu);case 10:return function(r,o){const l=r.mapValue.fields||{},d=o.mapValue.fields||{};if(Vy(l)!==Vy(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!iu(l[m],d[m])))return!1;return!0}(n,e);default:return Wt()}var o}function sf(n,e){return void 0!==(n.values||[]).find(t=>iu(t,e))}function jl(n,e){if(n===e)return 0;const t=pa(n),r=pa(e);if(t!==r)return qn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qn(n.booleanValue,e.booleanValue);case 2:return function(o,l){const d=$r(o.integerValue||o.doubleValue),m=$r(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return nE(n.timestampValue,e.timestampValue);case 4:return nE(rf(n),rf(e));case 5:return qn(n.stringValue,e.stringValue);case 6:return function(o,l){const d=Bl(o),m=Bl(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const d=o.split("/"),m=l.split("/");for(let b=0;b<d.length&&b<m.length;b++){const M=qn(d[b],m[b]);if(0!==M)return M}return qn(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const d=qn($r(o.latitude),$r(l.latitude));return 0!==d?d:qn($r(o.longitude),$r(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const d=o.values||[],m=l.values||[];for(let b=0;b<d.length&&b<m.length;++b){const M=jl(d[b],m[b]);if(M)return M}return qn(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const d=o.fields||{},m=Object.keys(d),b=l.fields||{},M=Object.keys(b);m.sort(),M.sort();for(let j=0;j<m.length&&j<M.length;++j){const K=qn(m[j],M[j]);if(0!==K)return K;const ue=jl(d[m[j]],b[M[j]]);if(0!==ue)return ue}return qn(m.length,M.length)}(n.mapValue,e.mapValue);default:throw Wt()}}function nE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qn(n,e);const t=Ul(n),r=Ul(e),o=qn(t.seconds,r.seconds);return 0!==o?o:qn(t.nanos,r.nanos)}function Ps(n){return af(n)}function af(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ul(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bl(n.bytesValue).toBase64():"referenceValue"in n?Mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const d of r.values||[])l?l=!1:o+=",",o+=af(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of o)d?d=!1:l+=",",l+=`${m}:${af(r.fields[m])}`;return l+"}"}(n.mapValue):Wt();var e}function Pc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function og(n){return!!n&&"integerValue"in n}function Fd(n){return!!n&&"arrayValue"in n}function jy(n){return!!n&&"nullValue"in n}function rE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ag(n){return!!n&&"mapValue"in n}function uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hy(n,e){return void 0===n?e:void 0===e||jl(n,e)>0?n:e}function pC(n,e){return void 0===n?e:void 0===e||jl(n,e)<0?n:e}class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ag(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}setAll(e){let t=cs.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=uf(d):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());ag(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return iu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];ag(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Fl(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new ds(uf(this.value))}}function sE(n){const e=[];return Fl(n.fields,(t,r)=>{const o=new cs([t]);if(ag(r)){const l=sE(r.mapValue).fields;if(0===l.length)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new Vl(e)}class Fr{constructor(e,t,r,o,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Fr(e,0,gn.min(),gn.min(),ds.empty(),0)}static newFoundDocument(e,t,r){return new Fr(e,1,t,gn.min(),r,0)}static newNoDocument(e,t){return new Fr(e,2,t,gn.min(),ds.empty(),0)}static newUnknownDocument(e,t){return new Fr(e,3,t,gn.min(),ds.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $y{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function oE(n){return n.fields.find(e=>2===e.kind)}function Hl(n){return n.fields.filter(e=>2!==e.kind)}$y.UNKNOWN_ID=-1;class ug{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ld{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ld(0,Ui.min())}}function Gy(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=gn.fromTimestamp(1e9===r?new oi(t+1,0):new oi(t,r));return new Ui(o,Mt.empty(),e)}function XI(n){return new Ui(n.readTime,n.key,-1)}class Ui{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ui(gn.min(),Mt.empty(),-1)}static max(){return new Ui(gn.max(),Mt.empty(),-1)}}function eD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Mt.comparator(n.documentKey,e.documentKey),0!==t?t:qn(n.largestBatchId,e.largestBatchId))}class tD{constructor(e,t=null,r=[],o=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=m,this.P=null}}function qy(n,e=null,t=[],r=[],o=null,l=null,d=null){return new tD(n,e,t,r,o,l,d)}function $l(n){const e=kt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Ps(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Oc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ps(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ps(r)).join(",")),e.P=t}return e.P}function lf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!wC(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!iu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lE(n.startAt,e.startAt)&&lE(n.endAt,e.endAt)}function zy(n){return Mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function cf(n,e){return n.filters.filter(t=>t instanceof Bi&&t.field.isEqual(e))}class Bi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new gC(e,t,r):"array-contains"===t?new yC(e,r):"in"===t?new _C(e,r):"not-in"===t?new vC(e,r):"array-contains-any"===t?new EC(e,r):new Bi(e,t,r)}static V(e,t,r){return"in"===t?new Wy(e,r):new mC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(jl(t,this.value)):null!==t&&pa(this.value)===pa(t)&&this.v(jl(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gC extends Bi{constructor(e,t,r){super(e,t,r),this.key=Mt.fromName(r.referenceValue)}matches(e){const t=Mt.comparator(e.key,this.key);return this.v(t)}}class Wy extends Bi{constructor(e,t){super(e,"in",t),this.keys=uE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mC extends Bi{constructor(e,t){super(e,"not-in",t),this.keys=uE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Mt.fromName(r.referenceValue))}class yC extends Bi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fd(t)&&sf(t.arrayValue,this.value)}}class _C extends Bi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sf(this.value.arrayValue,t)}}class vC extends Bi{constructor(e,t){super(e,"not-in",t)}matches(e){if(sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sf(this.value.arrayValue,t)}}class EC extends Bi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sf(this.value.arrayValue,r))}}class xa{constructor(e,t){this.position=e,this.inclusive=t}}class Oa{constructor(e,t="asc"){this.field=e,this.dir=t}}function wC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Vd(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(r=l.field.isKeyField()?Mt.comparator(Mt.fromName(d.referenceValue),t.key):jl(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function lE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!iu(n.position[t],e.position[t]))return!1;return!0}class Wu{constructor(e,t=null,r=[],o=[],l=null,d="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=b,this.D=null,this.C=null}}function lg(n,e,t,r,o,l,d,m){return new Wu(n,e,t,r,o,l,d,m)}function Qs(n){return new Wu(n)}function Gl(n){return!Oc(n.limit)&&"F"===n.limitType}function ji(n){return!Oc(n.limit)&&"L"===n.limitType}function Zu(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ud(n){for(const e of n.filters)if(e.S())return e.field;return null}function fo(n){return null!==n.collectionGroup}function ql(n){const e=kt(n);if(null===e.D){e.D=[];const t=Ud(e),r=Zu(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Oa(t)),e.D.push(new Oa(cs.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Oa(cs.keyField(),l))}}}return e.D}function hs(n){const e=kt(n);if(!e.C)if("F"===e.limitType)e.C=qy(e.path,e.collectionGroup,ql(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of ql(e))t.push(new Oa(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new xa(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new xa(e.startAt.position,!e.startAt.inclusive):null;e.C=qy(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function Nc(n,e,t){return new Wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function su(n,e){return lf(hs(n),hs(e))&&n.limitType===e.limitType}function kc(n){return`${$l(hs(n))}|lt:${n.limitType}`}function zl(n){return`Query(target=${function aE(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ps(r.value)}`;var r}).join(", ")}]`),Oc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ps(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ps(t)).join(",")),`Target(${e})`}(hs(n))}; limitType=${n.limitType})`}function Wl(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Mt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,d){const m=Vd(o,l,d);return o.inclusive?m<=0:m<0}(t.startAt,ql(t),r)||t.endAt&&!function(o,l,d){const m=Vd(o,l,d);return o.inclusive?m>=0:m>0}(t.endAt,ql(t),r)));var t,r}function Fc(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Lc(n){return(e,t)=>{let r=!1;for(const o of ql(n)){const l=Bd(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function Bd(n,e,t){const r=n.field.isKeyField()?Mt.comparator(e.key,t.key):function(o,l,d){const m=l.data.field(o),b=d.data.field(o);return null!==m&&null!==b?jl(m,b):Wt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Wt()}}function Zy(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function Ky(n){return{integerValue:""+n}}function Yy(n,e){return Rc(e)?Ky(e):Zy(n,e)}class df{constructor(){this._=void 0}}function cE(n,e,t){return n instanceof Vc?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Zl?hE(n,e):n instanceof Kl?fE(n,e):function(r,o){const l=Qy(r,o),d=Jy(l)+Jy(r.k);return og(l)&&og(r.k)?Ky(d):Zy(r.M,d)}(n,e)}function dE(n,e,t){return n instanceof Zl?hE(n,e):n instanceof Kl?fE(n,e):t}function Qy(n,e){return n instanceof Uc?og(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Vc extends df{}class Zl extends df{constructor(e){super(),this.elements=e}}function hE(n,e){const t=pE(e);for(const r of n.elements)t.some(o=>iu(o,r))||t.push(r);return{arrayValue:{values:t}}}class Kl extends df{constructor(e){super(),this.elements=e}}function fE(n,e){let t=pE(e);for(const r of n.elements)t=t.filter(o=>!iu(o,r));return{arrayValue:{values:t}}}class Uc extends df{constructor(e,t){super(),this.M=e,this.k=t}}function Jy(n){return $r(n.integerValue||n.doubleValue)}function pE(n){return Fd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hf{constructor(e,t){this.field=e,this.transform=t}}class bC{constructor(e,t){this.version=e,this.transformResults=t}}class fi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class dg{}function nD(n,e,t){n instanceof fg?function(r,o,l){const d=r.value.clone(),m=yE(r.fieldTransforms,o,l.transformResults);d.setAll(m),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof jd?function(r,o,l){if(!cg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const d=yE(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(CC(r)),m.setAll(d),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Xy(n,e,t){var o;n instanceof fg?function(r,o,l){if(!cg(r.precondition,o))return;const d=r.value.clone(),m=t_(r.fieldTransforms,l,o);d.setAll(m),o.convertToFoundDocument(mE(o),d).setHasLocalMutations()}(n,e,t):n instanceof jd?function(r,o,l){if(!cg(r.precondition,o))return;const d=t_(r.fieldTransforms,l,o),m=o.data;m.setAll(CC(r)),m.setAll(d),o.convertToFoundDocument(mE(o),m).setHasLocalMutations()}(n,e,t):cg(n.precondition,o=e)&&o.convertToNoDocument(gn.min())}function e_(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=Qy(r.transform,o||null);null!=l&&(null==t&&(t=ds.empty()),t.set(r.field,l))}return t||null}function hg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Nd(t,r,(o,l)=>function gE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Zl&&r instanceof Zl||t instanceof Kl&&r instanceof Kl?Nd(t.elements,r.elements,iu):t instanceof Uc&&r instanceof Uc?iu(t.k,r.k):t instanceof Vc&&r instanceof Vc);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function mE(n){return n.isFoundDocument()?n.version:gn.min()}class fg extends dg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class jd extends dg{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function CC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function yE(n,e,t){const r=new Map;Mn(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,m=e.data.field(l.field);r.set(l.field,dE(d,m,t[o]))}return r}function t_(n,e,t){const r=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);r.set(o.field,cE(l,d,e))}return r}class pg extends dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class n_ extends dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Hd{constructor(e){this.count=e}}var Di,Xn;function _E(n){switch(n){default:return Wt();case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0}}function r_(n){if(void 0===n)return Ii("GRPC error has no .code"),qe.UNKNOWN;switch(n){case Di.OK:return qe.OK;case Di.CANCELLED:return qe.CANCELLED;case Di.UNKNOWN:return qe.UNKNOWN;case Di.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case Di.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case Di.INTERNAL:return qe.INTERNAL;case Di.UNAVAILABLE:return qe.UNAVAILABLE;case Di.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case Di.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case Di.NOT_FOUND:return qe.NOT_FOUND;case Di.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case Di.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case Di.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case Di.ABORTED:return qe.ABORTED;case Di.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case Di.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case Di.DATA_LOSS:return qe.DATA_LOSS;default:return Wt()}}(Xn=Di||(Di={}))[Xn.OK=0]="OK",Xn[Xn.CANCELLED=1]="CANCELLED",Xn[Xn.UNKNOWN=2]="UNKNOWN",Xn[Xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xn[Xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xn[Xn.NOT_FOUND=5]="NOT_FOUND",Xn[Xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xn[Xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xn[Xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xn[Xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xn[Xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xn[Xn.ABORTED=10]="ABORTED",Xn[Xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xn[Xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xn[Xn.INTERNAL=13]="INTERNAL",Xn[Xn.UNAVAILABLE=14]="UNAVAILABLE",Xn[Xn.DATA_LOSS=15]="DATA_LOSS";class Ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return ru(this.inner)}size(){return this.innerSize}}class pi{constructor(e,t){this.comparator=e,this.root=t||fs.EMPTY}insert(e,t){return new pi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:fs.RED,this.left=null!=o?o:fs.EMPTY,this.right=null!=l?l:fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new fs(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return fs.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wt();const e=this.left.check();if(e!==this.right.check())throw Wt();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt()}get value(){throw Wt()}get color(){throw Wt()}get left(){throw Wt()}get right(){throw Wt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new fs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lr{constructor(e){this.comparator=e,this.data=new pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lr(this.comparator);return t.data=e,t}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $d(n){return n.hasNext()?n.getNext():void 0}const TC=new pi(Mt.comparator);function Lo(){return TC}const IC=new pi(Mt.comparator);function gg(){return IC}function Gd(){return new Ra(n=>n.toString(),(n,e)=>n.isEqual(e))}const i_=new pi(Mt.comparator),rD=new Lr(Mt.comparator);function or(...n){let e=rD;for(const t of n)e=e.add(t);return e}const DC=new Lr(qn);function s_(){return DC}class Ku{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ku(gn.min(),r,s_(),Lo(),or())}}class qd{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new qd(hi.EMPTY_BYTE_STRING,t,or(),or(),or())}}class zd{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class mg{constructor(e,t){this.targetId=e,this.$=t}}class EE{constructor(e,t,r=hi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class pf{constructor(){this.B=0,this.L=AC(),this.U=hi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=or(),t=or(),r=or();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Wt()}}),new qd(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=AC()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class yg{constructor(e){this.nt=e,this.st=new Map,this.it=Lo(),this.rt=_g(),this.ot=new Lr(qn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Wt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const l=o.target;if(zy(l))if(0===r){const d=new Mt(l.path);this.ct(t,d,Fr.newNoDocument(d,gn.min()))}else Mn(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const m=this.wt(d);if(m){if(l.current&&zy(m.target)){const b=new Mt(m.target.path);null!==this.it.get(b)||this.It(d,b)||this.ct(d,b,Fr.newNoDocument(b,e))}l.j&&(t.set(d,l.H()),l.J())}});let r=or();this.rt.forEach((l,d)=>{let m=!0;d.forEachWhile(b=>{const M=this.wt(b);return!M||2===M.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const o=new Ku(e,t,this.ot,this.it,r);return this.it=Lo(),this.rt=_g(),this.ot=new Lr(qn),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new pf,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Lr(qn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Et("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new pf),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function _g(){return new pi(Mt.comparator)}function AC(){return new pi(Mt.comparator)}const SC={asc:"ASCENDING",desc:"DESCENDING"},vg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Eg{constructor(e,t){this.databaseId=e,this.N=t}}function Wd(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o_(n,e){return n.N?e.toBase64():e.toUint8Array()}function a_(n,e){return Wd(n,e.toTimestamp())}function Hi(n){return Mn(!!n),gn.fromTimestamp(function(e){const t=Ul(e);return new oi(t.seconds,t.nanos)}(n))}function wg(n,e){return(t=n,new ir(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function bg(n){const e=ir.fromString(n);return Mn(p_(e)),e}function Zd(n,e){return wg(n.databaseId,e.path)}function ou(n,e){const t=bg(e);if(t.get(1)!==n.databaseId.projectId)throw new pt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Mt(l_(t))}function Cg(n,e){return wg(n.databaseId,e)}function u_(n){const e=bg(n);return 4===e.length?ir.emptyPath():l_(e)}function Bc(n){return new ir(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l_(n){return Mn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wE(n,e,t){return{name:Zd(n,e),fields:t.value.mapValue.fields}}function bE(n,e,t){const r=ou(n,e.name),o=Hi(e.updateTime),l=new ds({mapValue:{fields:e.fields}}),d=Fr.newFoundDocument(r,o,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Yl(n,e){let t;if(e instanceof fg)t={update:wE(n,e.key,e.value)};else if(e instanceof pg)t={delete:Zd(n,e.key)};else if(e instanceof jd)t={update:wE(n,e.key,e.data),updateMask:$i(e.fieldMask)};else{if(!(e instanceof n_))return Wt();t={verify:Zd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const d=l.transform;if(d instanceof Vc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Zl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Kl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uc)return{fieldPath:l.field.canonicalString(),increment:d.k};throw Wt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:a_(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Wt()),t;var o}function Tg(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?fi.updateTime(Hi(o.updateTime)):void 0!==o.exists?fi.exists(o.exists):fi.none():fi.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,d){let m=null;"setToServerValue"in d?(Mn("REQUEST_TIME"===d.setToServerValue),m=new Vc):"appendMissingElements"in d?m=new Zl(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Kl(d.removeAllFromArray.values||[]):"increment"in d?m=new Uc(l,d.increment):Wt();const b=cs.fromServerFormat(d.fieldPath);return new hf(b,m)}(n,o)):[];var o;if(e.update){const o=ou(n,e.update.name),l=new ds({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Vl((e.updateMask.fieldPaths||[]).map(M=>cs.fromServerFormat(M)));return new jd(o,l,d,t,r)}return new fg(o,l,t,r)}if(e.delete){const o=ou(n,e.delete);return new pg(o,t)}if(e.verify){const o=ou(n,e.verify);return new n_(o,t)}return Wt()}function c_(n,e){return{documents:[Cg(n,e.path)]}}function d_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Cg(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Cg(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(b){if(0===b.length)return;const M=b.map(j=>function(K){if("=="===K.op){if(rE(K.value))return{unaryFilter:{field:Kd(K.field),op:"IS_NAN"}};if(jy(K.value))return{unaryFilter:{field:Kd(K.field),op:"IS_NULL"}}}else if("!="===K.op){if(rE(K.value))return{unaryFilter:{field:Kd(K.field),op:"IS_NOT_NAN"}};if(jy(K.value))return{unaryFilter:{field:Kd(K.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(K.field),op:iD(K.op),value:K.value}}}(j));return 1===M.length?M[0]:{compositeFilter:{op:"AND",filters:M}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(b){if(0!==b.length)return b.map(M=>{return{field:Kd((j=M).field),direction:DE(j.dir)};var j})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(M=e.limit,n.N||Oc(M)?M:{value:M});var M,m,b;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),t}function h_(n){let e=u_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Mn(1===r);const j=t.from[0];j.allDescendants?o=j.collectionId:e=e.child(j.collectionId)}let l=[];t.where&&(l=f_(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(j=>{return new Oa(Yd((K=j).field),function(ue){switch(ue){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction));var K}));let m=null;t.limit&&(m=function(j){let K;return K="object"==typeof j?j.value:j,Oc(K)?null:K}(t.limit));let b=null;var j;t.startAt&&(b=new xa((j=t.startAt).values||[],!!j.before));let M=null;return t.endAt&&(M=function(j){return new xa(j.values||[],!j.before)}(t.endAt)),lg(e,o,d,l,m,"F",b,M)}function f_(n){return n?void 0!==n.unaryFilter?[xC(n)]:void 0!==n.fieldFilter?[AE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>f_(e)).reduce((e,t)=>e.concat(t)):Wt():[]}function DE(n){return SC[n]}function iD(n){return vg[n]}function Kd(n){return{fieldPath:n.canonicalString()}}function Yd(n){return cs.fromServerFormat(n.fieldPath)}function AE(n){return Bi.create(Yd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wt()}}(n.fieldFilter.op),n.fieldFilter.value)}function xC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Yd(n.unaryFilter.field);return Bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Yd(n.unaryFilter.field);return Bi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yd(n.unaryFilter.field);return Bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yd(n.unaryFilter.field);return Bi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Wt()}}function $i(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function p_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function es(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=g_(e)),e=OC(n.get(t),e);return g_(e)}function OC(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function g_(n){return n+"\x01\x01"}function Pa(n){const e=n.length;if(Mn(e>=2),2===e)return Mn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ir.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&Wt(),n.charAt(d+1)){case"\x01":const m=n.substring(l,d);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(l,d),o+="\0";break;case"\x11":o+=n.substring(l,d+1);break;default:Wt()}l=d+2}return new ir(r)}const m_=["userId","batchId"];function gf(n,e){return[n,es(e)]}function jc(n,e,t){return[n,es(e),t]}const RC={},PC=["prefixPath","collectionGroup","readTime","documentId"],SE=["prefixPath","collectionGroup","documentId"],NC=["collectionGroup","readTime","prefixPath","documentId"],ME=["canonicalId","targetId"],sD=["targetId","path"],y_=["path","targetId"],__=["collectionId","parent"],au=["indexId","uid"],kC=["uid","sequenceNumber"],xE=["indexId","uid","arrayValue","directionalValue","documentKey"],uu=["indexId","uid","documentKey"],Na=["userId","collectionPath","documentId"],ka=["userId","collectionPath","largestBatchId"],OE=["userId","collectionGroup","largestBatchId"],v_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FC=[...v_,"documentOverlays"],RE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LC=[...RE,"indexConfiguration","indexState","indexEntries"],PE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ig{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new We((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof We?t:We.resolve(t)}catch(t){return We.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):We.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):We.reject(t)}static resolve(e){return new We((t,r)=>{t(e)})}static reject(e){return new We((t,r)=>{r(e)})}static waitFor(e){return new We((t,r)=>{let o=0,l=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++l,d&&l===o&&t()},b=>r(b))}),d=!0,l===o&&t()})}static or(e){let t=We.resolve(!1);for(const r of e)t=t.next(o=>o?We.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class Dg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Xi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Qd(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=Sg(r.target.error);this.At.reject(new Qd(e,o))}}static open(e,t,r,o){try{return new Dg(t,e.transaction(o,r))}catch(l){throw new Qd(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ag(t)}}class ga{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===ga.Vt((0,W.z$)())&&Ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Et("SimpleDb","Removing database:",e),Hc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,W.hl)())return!1;if(ga.St())return!0;const e=(0,W.z$)(),t=ga.Vt(e),r=0<t&&t<10,o=ga.Dt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,h.Z)(function*(){return t.db||(Et("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{o(new Qd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new pt(qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new pt(qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Qd(e,m))},l.onupgradeneeded=d=>{Et("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Et("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,h.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const b=Dg.open(l.db,e,d?"readonly":"readwrite",r),M=o(b).next(j=>(b.bt(),j)).catch(j=>(b.abort(j),We.reject(j))).toPromise();return M.catch(()=>{}),yield b.Rt,M}catch(b){const M="FirebaseError"!==b.name&&m<3;if(Et("SimpleDb","Transaction failed with error:",b.message,"Retrying:",M),l.close(),!M)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class VC{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Hc(this.Ft.delete())}}class Qd extends pt{constructor(e,t){super(qe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ql(n){return"IndexedDbTransactionError"===n.name}class Ag{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Et("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Et("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Hc(r)}add(e){return Et("SimpleDb","ADD",this.store.name,e,e),Hc(this.store.add(e))}get(e){return Hc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Et("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Et("SimpleDb","DELETE",this.store.name,e),Hc(this.store.delete(e))}count(){return Et("SimpleDb","COUNT",this.store.name),Hc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.Gt(o,(d,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new We((l,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new We((o,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Qt(e,t){Et("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Gt(o,(l,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Gt(o,t)}zt(e){const t=this.cursor({});return new We((r,o)=>{t.onerror=l=>{const d=Sg(l.target.error);o(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Gt(e,t){const r=[];return new We((o,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const b=new VC(m),M=t(m.primaryKey,m.value,b);if(M instanceof We){const j=M.catch(K=>(b.done(),We.reject(K)));r.push(j)}b.isDone?o():null===b.Lt?m.continue():m.continue(b.Lt)}}).next(()=>We.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hc(n){return new We((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Sg(r.target.error);t(o)}})}let E_=!1;function Sg(n){const e=ga.Vt((0,W.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new pt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return E_||(E_=!0,setTimeout(()=>{throw r},0)),r}}return n}class Mg extends Ig{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function gi(n,e){const t=kt(n);return ga.xt(t.Ht,e)}class xg{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&nD(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Xy(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Xy(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(gn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),or())}isEqual(e){return this.batchId===e.batchId&&Nd(this.mutations,e.mutations,(t,r)=>hg(t,r))&&Nd(this.baseMutations,e.baseMutations,(t,r)=>hg(t,r))}}class Og{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Mn(e.mutations.length===r.length);let o=i_;const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new Og(e,t,r,o)}}class Rg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yu{constructor(e,t,r,o,l=gn.min(),d=gn.min(),m=hi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new Yu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class w_{constructor(e){this.Jt=e}}function b_(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:mf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Zd(o=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Wd(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:$c(e.version)};else{if(!e.isUnknownDocument())return Wt();r.unknownDocument={path:t.path.toArray(),version:$c(e.version)}}var o,l;return r}function mf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function $c(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gc(n){const e=new oi(n.seconds,n.nanoseconds);return gn.fromTimestamp(e)}function Jd(n,e){const t=(e.baseMutations||[]).map(l=>Tg(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Tg(n.Jt,l)),o=oi.fromMillis(e.localWriteTimeMs);return new xg(e.batchId,o,t,r)}function yf(n){const e=Gc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gc(n.lastLimboFreeSnapshotVersion):gn.min();let r;var o;return void 0!==n.query.documents?(Mn(1===(o=n.query).documents.length),r=hs(Qs(u_(o.documents[0])))):r=hs(h_(n.query)),new Yu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,hi.fromBase64String(n.resumeToken))}function kE(n,e){const t=$c(e.snapshotVersion),r=$c(e.lastLimboFreeSnapshotVersion);let o;o=zy(e.target)?c_(n.Jt,e.target):d_(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$l(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function C_(n){const e=h_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Nc(e,e.limit,"L"):e}function T_(n,e){return new Rg(e.largestBatchId,Tg(n.Jt,e.overlayMutation))}function FE(n,e){const t=e.path.lastSegment();return[n,es(e.path.popLast()),t]}class UC{getBundleMetadata(e,t){return LE(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Gc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return LE(e).put({bundleId:(r=t).id,createTime:$c(Hi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return VE(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:C_(o.bundledQuery),readTime:Gc(o.readTime)};var o})}saveNamedQuery(e,t){return VE(e).put({name:(r=t).name,readTime:$c(Hi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function LE(n){return gi(n,"bundles")}function VE(n){return gi(n,"namedQueries")}class I_{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new I_(e,t.uid||"")}getOverlay(e,t){return _f(e).get(FE(this.userId,t)).next(r=>r?T_(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((l,d)=>{const m=new Rg(t,d);o.push(this.Xt(e,m))}),We.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(es(d.getCollectionPath())));const l=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(_f(e).Qt("collectionPathOverlayIndex",m))}),We.waitFor(l)}getOverlaysForCollection(e,t,r){const o=Gd(),l=es(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return _f(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const b of m){const M=T_(this.M,b);o.set(M.getKey(),M)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=Gd();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return _f(e).Wt({index:"collectionGroupOverlayIndex",range:m},(b,M,j)=>{const K=T_(this.M,M);l.size()<o||K.largestBatchId===d?(l.set(K.getKey(),K),d=K.largestBatchId):j.done()}).next(()=>l)}Xt(e,t){return _f(e).put(function(r,o,l){const[d,m,b]=FE(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:b,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Yl(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function _f(n){return gi(n,"documentOverlays")}class Xd{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se($r(e.integerValue));else if("doubleValue"in e){const r=$r(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),kd(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Bl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?iE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Wt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Mt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function BC(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function UE(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=BC(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Xd.fe=new Xd;class jC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=UE(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=UE(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class HC{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class BE{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class vf{constructor(){this.De=new jC,this.Ce=new HC(this.De),this.xe=new BE(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Qu{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Qu(this.indexId,this.documentKey,this.arrayValue,r)}}function Jl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=D_(n.arrayValue,e.arrayValue),0!==t?t:(t=D_(n.directionalValue,e.directionalValue),0!==t?t:Mt.comparator(n.documentKey,e.documentKey)))}function D_(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class jE{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=oE(e);if(void 0!==t&&!this.Be(t))return!1;const r=Hl(e);let o=0,l=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const d=r[o];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class HE{constructor(){this.qe=new Pg}addToCollectionParentIndex(e,t){return this.qe.add(t),We.resolve()}getCollectionParents(e,t){return We.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return We.resolve()}deleteFieldIndex(e,t){return We.resolve()}getDocumentsMatchingTarget(e,t){return We.resolve(null)}getFieldIndex(e,t){return We.resolve(null)}getFieldIndexes(e,t){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}updateCollectionGroup(e,t,r){return We.resolve()}updateIndexEntries(e,t){return We.resolve()}}class Pg{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Lr(ir.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Lr(ir.comparator)).toArray()}}const Ef=new Uint8Array(0);class $E{constructor(e){this.user=e,this.Ge=new Pg,this.Ke=new Ra(t=>$l(t),(t,r)=>lf(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:es(o)};return Ng(e).put(l)}return We.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Ly(t),""],!1,!0);return Ng(e).qt(o).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Pa(d.parent))}return r})}addFieldIndex(e,t){const r=kg(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=kg(e),o=Fg(e),l=Fa(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Fa(e);let o=!0;const l=new Map;return We.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(m=>{o&&(o=!!m),l.set(d,m)})).next(()=>{if(o){let d=or();return We.forEach(l,(m,b)=>{var M;Et("IndexedDbIndexManager",`Using index ${M=m,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Ut=>`${Ut.fieldPath}:${Ut.kind}`).join(",")}`} to execute ${$l(t)}`);const j=function(Ut,dn){const Pt=oE(dn);if(void 0===Pt)return null;for(const Cn of cf(Ut,Pt.fieldPath))switch(Cn.op){case"array-contains-any":return Cn.value.arrayValue.values||[];case"array-contains":return[Cn.value]}return null}(b,m),K=function(Ut,dn){const Pt=new Map;for(const Cn of Hl(dn))for(const on of cf(Ut,Cn.fieldPath))switch(on.op){case"==":case"in":Pt.set(Cn.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return Pt.set(Cn.fieldPath.canonicalString(),on.value),Array.from(Pt.values())}return null}(b,m),ue=function(Ut,dn){const Pt=[];let Cn=!0;for(const _r of Hl(dn)){let vr,zi=!0;for(const Er of cf(Ut,_r.fieldPath)){let qr,gu=!0;switch(Er.op){case"<":case"<=":qr="nullValue"in(on=Er.value)?tE:"booleanValue"in on?{booleanValue:!1}:"integerValue"in on||"doubleValue"in on?{doubleValue:NaN}:"timestampValue"in on?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in on?{stringValue:""}:"bytesValue"in on?{bytesValue:""}:"referenceValue"in on?Pc(zu.empty(),Mt.empty()):"geoPointValue"in on?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in on?{arrayValue:{}}:"mapValue"in on?{mapValue:{}}:Wt();break;case"==":case"in":case">=":qr=Er.value;break;case">":qr=Er.value,gu=!1;break;case"!=":case"not-in":qr=tE}Hy(vr,qr)===qr&&(vr=qr,zi=gu)}if(null!==Ut.startAt)for(let Er=0;Er<Ut.orderBy.length;++Er)if(Ut.orderBy[Er].field.isEqual(_r.fieldPath)){const qr=Ut.startAt.position[Er];Hy(vr,qr)===qr&&(vr=qr,zi=Ut.startAt.inclusive);break}if(void 0===vr)return null;Pt.push(vr),Cn&&(Cn=zi)}var on;return new xa(Pt,Cn)}(b,m),Se=function(Ut,dn){const Pt=[];let Cn=!0;for(const _r of Hl(dn)){let vr,zi=!0;for(const Er of cf(Ut,_r.fieldPath)){let qr,gu=!0;switch(Er.op){case">=":case">":qr="nullValue"in(on=Er.value)?{booleanValue:!1}:"booleanValue"in on?{doubleValue:NaN}:"integerValue"in on||"doubleValue"in on?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in on?{stringValue:""}:"stringValue"in on?{bytesValue:""}:"bytesValue"in on?Pc(zu.empty(),Mt.empty()):"referenceValue"in on?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in on?{arrayValue:{}}:"arrayValue"in on?{mapValue:{}}:"mapValue"in on?eE:Wt(),gu=!1;break;case"==":case"in":case"<=":qr=Er.value;break;case"<":qr=Er.value,gu=!1;break;case"!=":case"not-in":qr=eE}pC(vr,qr)===qr&&(vr=qr,zi=gu)}if(null!==Ut.endAt)for(let Er=0;Er<Ut.orderBy.length;++Er)if(Ut.orderBy[Er].field.isEqual(_r.fieldPath)){const qr=Ut.endAt.position[Er];pC(vr,qr)===qr&&(vr=qr,zi=Ut.endAt.inclusive);break}if(void 0===vr)return null;Pt.push(vr),Cn&&(Cn=zi)}var on;return new xa(Pt,Cn)}(b,m),Te=this.je(m,b,ue),Xe=this.je(m,b,Se),mt=this.We(m,b,K),Xt=this.ze(m.indexId,j,Te,!!ue&&ue.inclusive,Xe,!!Se&&Se.inclusive,mt);return We.forEach(Xt,Ut=>r.Kt(Ut,t.limit).next(dn=>{dn.forEach(Pt=>{d=d.add(new Mt(Pa(Pt.documentKey)))})}))}).next(()=>d)}return We.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,o,l,d,m){const b=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),M=b/(null!=t?t.length:1),j=[];for(let K=0;K<b;++K){const ue=t?this.He(t[K/M]):Ef,Se=r?this.Je(e,ue,r[K%M],o):this.Ye(e),Te=l?this.Xe(e,ue,l[K%M],d):this.Ye(e+1);j.push(...this.createRange(Se,Te,m.map(Xe=>this.Je(e,ue,Xe,!0))))}return j}Je(e,t,r,o){const l=new Qu(e,Mt.empty(),t,r);return o?l:l.ke()}Xe(e,t,r,o){const l=new Qu(e,Mt.empty(),t,r);return o?l.ke():l}Ye(e){return new Qu(e,Mt.empty(),Ef,Ef)}getFieldIndex(e,t){const r=new jE(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{const d=l.filter(m=>r.$e(m));return d.sort((m,b)=>b.fields.length-m.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new vf;for(const o of Hl(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const d=r.Ne(o.kind);Xd.fe.Zt(l,d)}return r.Se()}He(e){const t=new vf;return Xd.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new vf);let l=0;for(const d of Hl(e)){const m=r[l++];for(const b of o)if(this.tn(t,d.fieldPath)&&Fd(m))o=this.en(o,d,m);else{const M=b.Ne(d.kind);Xd.fe.Zt(m,M)}}return this.nn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const o=[...e],l=[];for(const d of r.arrayValue.values||[])for(const m of o){const b=new vf;b.seed(m.Se()),Xd.fe.Zt(d,b.Ne(t.kind)),l.push(b)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof Bi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=kg(e),o=Fg(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const d=[];return We.forEach(l,m=>o.get([m.indexId,this.uid]).next(b=>{d.push(function(M,j){const K=j?new Ld(j.sequenceNumber,new Ui(Gc(j.readTime),new Mt(Pa(j.documentKey)),j.largestBatchId)):Ld.empty(),ue=M.fields.map(([Se,Te])=>new ug(cs.fromServerFormat(Se),Te));return new $y(M.indexId,M.collectionGroup,ue,K)}(m,b))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:qn(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=kg(e),l=Fg(e);return this.sn(e).next(d=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>We.forEach(m,b=>{return l.put({indexId:b.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:$c((ue=r).readTime),documentKey:es(ue.documentKey.path),largestBatchId:ue.largestBatchId});var ue})))}updateIndexEntries(e,t){const r=new Map;return We.forEach(t,(o,l)=>{const d=r.get(o.collectionGroup);return(d?We.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),We.forEach(m,b=>this.rn(e,o,b).next(M=>{const j=this.on(l,b);return M.isEqual(j)?We.resolve():this.un(e,l,M,j)}))))})}an(e,t,r){return Fa(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:es(t.key.path)})}cn(e,t,r){return Fa(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,es(t.key.path)])}rn(e,t,r){const o=Fa(e);let l=new Lr(Jl);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,es(t.path)])},(d,m)=>{l=l.add(new Qu(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}on(e,t){let r=new Lr(Jl);const o=this.Ze(t,e);if(null==o)return r;const l=oE(t);if(null!=l){const d=e.data.field(l.fieldPath);if(Fd(d))for(const m of d.arrayValue.values||[])r=r.add(new Qu(t.indexId,e.key,this.He(m),o))}else r=r.add(new Qu(t.indexId,e.key,Ef,o));return r}un(e,t,r,o){Et("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,m,b,M,j){const K=d.getIterator(),ue=m.getIterator();let Se=$d(K),Te=$d(ue);for(;Se||Te;){let Xe=!1,mt=!1;if(Se&&Te){const Xt=b(Se,Te);Xt<0?mt=!0:Xt>0&&(Xe=!0)}else null!=Se?mt=!0:Xe=!0;Xe?(M(Te),Te=$d(ue)):mt?(j(Se),Se=$d(K)):(Se=$d(K),Te=$d(ue))}}(r,o,Jl,d=>{l.push(this.an(e,t,d))},d=>{l.push(this.cn(e,t,d))}),We.waitFor(l)}sn(e){let t=1;return Fg(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Jl(d,m)).filter((d,m,b)=>!m||0!==Jl(d,b[m-1]));const o=[];o.push(e);for(const d of r){const m=Jl(d,e),b=Jl(d,t);if(0===m)o[0]=e.ke();else if(m>0&&b<0)o.push(d),o.push(d.ke());else if(b>0)break}o.push(t);const l=[];for(let d=0;d<o.length;d+=2)l.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,""],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,""]));return l}}function Ng(n){return gi(n,"collectionParents")}function Fa(n){return gi(n,"indexEntries")}function kg(n){return gi(n,"indexConfiguration")}function Fg(n){return gi(n,"indexState")}const qc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Vo(e,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Lg(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let m=0;const b=r.Wt({range:d},(j,K,ue)=>(m++,ue.delete()));l.push(b.next(()=>{Mn(1===m)}));const M=[];for(const j of t.mutations){const K=jc(e,j.key.path,t.batchId);l.push(o.delete(K)),M.push(j.key)}return We.waitFor(l).next(()=>M)}function A_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Wt();e=n.noDocument}return JSON.stringify(e).length}Vo.DEFAULT_COLLECTION_PERCENTILE=10,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vo.DEFAULT=new Vo(41943040,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vo.DISABLED=new Vo(-1,0,0);class Vg{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.hn={}}static Yt(e,t,r,o){Mn(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Vg(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zc(e).Wt({index:"userMutationsIndex",range:r},(o,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Jt(e),d=zc(e);return d.add({}).next(m=>{Mn("number"==typeof m);const b=new xg(m,t,r,o),M=function(ue,Se,Te){const Xe=Te.baseMutations.map(Xt=>Yl(ue.Jt,Xt)),mt=Te.mutations.map(Xt=>Yl(ue.Jt,Xt));return{userId:Se,batchId:Te.batchId,localWriteTimeMs:Te.localWriteTime.toMillis(),baseMutations:Xe,mutations:mt}}(this.M,this.userId,b),j=[];let K=new Lr((ue,Se)=>qn(ue.canonicalString(),Se.canonicalString()));for(const ue of o){const Se=jc(this.userId,ue.key.path,m);K=K.add(ue.key.path.popLast()),j.push(d.put(M)),j.push(l.put(Se,RC))}return K.forEach(ue=>{j.push(this.indexManager.addToCollectionParentIndex(e,ue))}),e.addOnCommittedListener(()=>{this.hn[m]=b.keys()}),We.waitFor(j).next(()=>b)})}lookupMutationBatch(e,t){return zc(e).get(t).next(r=>r?(Mn(r.userId===this.userId),Jd(this.M,r)):null)}ln(e,t){return this.hn[t]?We.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.hn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return zc(e).Wt({index:"userMutationsIndex",range:o},(d,m,b)=>{m.userId===this.userId&&(Mn(m.batchId>=r),l=Jd(this.M,m)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return zc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zc(e).qt("userMutationsIndex",t).next(r=>r.map(o=>Jd(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=gf(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Jt(e).Wt({range:o},(d,m,b)=>{const[M,j,K]=d,ue=Pa(j);if(M===this.userId&&t.path.isEqual(ue))return zc(e).get(K).next(Se=>{if(!Se)throw Wt();Mn(Se.userId===this.userId),l.push(Jd(this.M,Se))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Lr(qn);const o=[];return t.forEach(l=>{const d=gf(this.userId,l.path),m=IDBKeyRange.lowerBound(d),b=Jt(e).Wt({range:m},(M,j,K)=>{const[ue,Se,Te]=M,Xe=Pa(Se);ue===this.userId&&l.path.isEqual(Xe)?r=r.add(Te):K.done()});o.push(b)}),We.waitFor(o).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=gf(this.userId,r),d=IDBKeyRange.lowerBound(l);let m=new Lr(qn);return Jt(e).Wt({range:d},(b,M,j)=>{const[K,ue,Se]=b,Te=Pa(ue);K===this.userId&&r.isPrefixOf(Te)?Te.length===o&&(m=m.add(Se)):j.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(zc(e).get(l).next(d=>{if(null===d)throw Wt();Mn(d.userId===this.userId),r.push(Jd(this.M,d))}))}),We.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Lg(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),We.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return We.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Jt(e).Wt({range:r},(l,d,m)=>{if(l[0]===this.userId){const b=Pa(l[1]);o.push(b)}else m.done()}).next(()=>{Mn(0===o.length)})})}containsKey(e,t){return S_(e,this.userId,t)}_n(e){return GE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function S_(n,e,t){const r=gf(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return Jt(n).Wt({range:l,jt:!0},(m,b,M)=>{const[j,K,ue]=m;j===e&&K===o&&(d=!0),M.done()}).next(()=>d)}function zc(n){return gi(n,"mutations")}function Jt(n){return gi(n,"documentMutations")}function GE(n){return gi(n,"mutationQueues")}class Wc{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Wc(0)}static gn(){return new Wc(-1)}}class $C{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Wc(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>gn.fromTimestamp(new oi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.pn(e,o)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ju(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Mn(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Ju(e).Wt((d,m)=>{const b=yf(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,l.push(this.removeTargetData(e,b)))}).next(()=>We.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Ju(e).Wt((r,o)=>{const l=yf(o);t(l)})}yn(e){return qE(e).get("targetGlobalKey").next(t=>(Mn(null!==t),t))}pn(e,t){return qE(e).put("targetGlobalKey",t)}In(e,t){return Ju(e).put(kE(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=$l(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Ju(e).Wt({range:o,index:"queryTargetsIndex"},(d,m,b)=>{const M=yf(m);lf(t,M.target)&&(l=M,b.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=La(e);return t.forEach(d=>{const m=es(d.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),We.waitFor(o)}removeMatchingKeys(e,t,r){const o=La(e);return We.forEach(t,l=>{const d=es(l.path);return We.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=La(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=La(e);let l=or();return o.Wt({range:r,jt:!0},(d,m,b)=>{const M=Pa(d[1]),j=new Mt(M);l=l.add(j)}).next(()=>l)}containsKey(e,t){const r=es(t.path),o=IDBKeyRange.bound([r],[Ly(r)],!1,!0);let l=0;return La(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([d,m],b,M)=>{0!==d&&(l++,M.done())}).next(()=>l>0)}Et(e,t){return Ju(e).get(t).next(r=>r?yf(r):null)}}function Ju(n){return gi(n,"targets")}function qE(n){return gi(n,"targetGlobal")}function La(n){return gi(n,"targetDocuments")}function lu(n){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,h.Z)(function*(n){if(n.code!==qe.FAILED_PRECONDITION||n.message!==PE)throw n;Et("LocalStore","Unexpectedly lost primary lease")}),Gr.apply(this,arguments)}function GC([n,e],[t,r]){const o=qn(n,t);return 0===o?qn(e,r):o}class zE{constructor(e){this.En=e,this.buffer=new Lr(GC),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();GC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qC{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Et("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,h.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Ql(o)?Et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield lu(o)}yield t.vn(e)}))}}class zC{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return We.resolve(Fo.A);const r=new zE(t);return this.Sn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Sn.Cn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(qc)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qc):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,o,l,d,m,b,M;const j=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(K=>(K>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${K}`),o=this.params.maximumSequenceNumbersToCollect):o=K,d=Date.now(),this.nthSequenceNumber(e,o))).next(K=>(r=K,m=Date.now(),this.removeTargets(e,r,t))).next(K=>(l=K,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(K=>(M=Date.now(),Ny()<=L.in.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-j}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${l} targets in `+(b-m)+`ms\n\tRemoved ${K} documents in `+(M-b)+`ms\nTotal Duration: ${M-j}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:K})))}}class WE{constructor(e,t){this.db=e,this.garbageCollector=new zC(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,o)=>t(o))}addReference(e,t,r){return wf(e,r)}removeReference(e,t,r){return wf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return wf(e,t)}Mn(e,t){return function(r,o){let l=!1;return GE(r).zt(d=>S_(r,d,o).next(m=>(m&&(l=!0),We.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.kn(e,(d,m)=>{if(m<=t){const b=this.Mn(e,d).next(M=>{if(!M)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,gn.min()),La(e).delete([0,es(d.path)])))});o.push(b)}}).next(()=>We.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return wf(e,t)}kn(e,t){const r=La(e);let o,l=Fo.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:b,sequenceNumber:M})=>{0===d?(l!==Fo.A&&t(new Mt(Pa(o)),l),l=M,o=b):l=Fo.A}).next(()=>{l!==Fo.A&&t(new Mt(Pa(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wf(n,e){return La(n).put((r=n.currentSequenceNumber,{targetId:0,path:es(e.path),sequenceNumber:r}));var r}class M_{constructor(){this.changes=new Ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?We.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZE{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Zc(e).put(r)}removeEntry(e,t,r){return Zc(e).delete(function(o,l){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],mf(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Fr.newInvalidDocument(t);return Zc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xu(t))},(o,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:Fr.newInvalidDocument(t)};return Zc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xu(t))},(o,l)=>{r={document:this.Fn(t,l),size:A_(l)}}).next(()=>r)}getEntries(e,t){let r=Lo();return this.Bn(e,t,(o,l)=>{const d=this.Fn(o,l);r=r.insert(o,d)}).next(()=>r)}Ln(e,t){let r=Lo(),o=new pi(Mt.comparator);return this.Bn(e,t,(l,d)=>{const m=this.Fn(l,d);r=r.insert(l,m),o=o.insert(l,A_(d))}).next(()=>({documents:r,Un:o}))}Bn(e,t,r){if(t.isEmpty())return We.resolve();let o=new Lr(QE);t.forEach(b=>o=o.add(b));const l=IDBKeyRange.bound(Xu(o.first()),Xu(o.last())),d=o.getIterator();let m=d.getNext();return Zc(e).Wt({index:"documentKeyIndex",range:l},(b,M,j)=>{const K=Mt.fromSegments([...M.prefixPath,M.collectionGroup,M.documentId]);for(;m&&QE(m,K)<0;)r(m,null),m=d.getNext();m&&m.isEqual(K)&&(r(m,M),m=d.hasNext()?d.getNext():null),m?j.Ut(Xu(m)):j.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),mf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zc(e).qt(IDBKeyRange.bound(o,l,!0)).next(d=>{let m=Lo();for(const b of d){const M=this.Fn(Mt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);m=m.insert(M.key,M)}return m})}getAllFromCollectionGroup(e,t,r,o){let l=Lo();const d=YE(t,r),m=YE(t,Ui.max());return Zc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(b,M,j)=>{const K=this.Fn(Mt.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);l=l.insert(K.key,K),l.size===o&&j.done()}).next(()=>l)}newChangeBuffer(e){return new WC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return KE(e).get("remoteDocumentGlobalKey").next(t=>(Mn(!!t),t))}On(e,t){return KE(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function NE(n,e){let t;if(e.document)t=bE(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Mt.fromSegments(e.noDocument.path),o=Gc(e.noDocument.readTime);t=Fr.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Wt();{const r=Mt.fromSegments(e.unknownDocument.path),o=Gc(e.unknownDocument.version);t=Fr.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new oi(r[0],r[1]);return gn.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(gn.min()))return r}return Fr.newInvalidDocument(e)}}class WC extends M_{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Ra(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Lr((l,d)=>qn(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const m=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,m.readTime)),d.isValidDocument()){const b=b_(this.qn.M,d);o=o.add(l.path.popLast()),r+=A_(b)-m.size,t.push(this.qn.addEntry(e,l,b))}else if(r-=m.size,this.trackRemovals){const b=b_(this.qn.M,d.convertToNoDocument(gn.min()));t.push(this.qn.addEntry(e,l,b))}}),o.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),We.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:o})=>(o.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function KE(n){return gi(n,"remoteDocumentGlobal")}function Zc(n){return gi(n,"remoteDocumentsV14")}function Xu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function YE(n,e){const t=e.documentKey.path.toArray();return[n,mf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function QE(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Mt.comparator(n,e)}class ZC{constructor(e){this.M=e}kt(e,t,r,o){const l=new Dg("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",m_,{unique:!0}),m.createObjectStore("documentMutations"),bf(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=We.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),bf(e)),d=d.next(()=>function(m){const b=m.store("targetGlobal"),M={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gn.min().toTimestamp(),targetCount:0};return b.put("targetGlobalKey",M)}(l))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,b){return b.store("mutations").qt().next(M=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",m_,{unique:!0});const j=b.store("mutations"),K=M.map(ue=>j.put(ue));return We.waitFor(K)})}(e,l))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Kn(l))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&o>=7&&(d=d.next(()=>this.jn(l))),r<8&&o>=8&&(d=d.next(()=>this.Wn(e,l))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.zn(l))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const b=m.createObjectStore("documentOverlays",{keyPath:Na});b.createIndex("collectionPathOverlayIndex",ka,{unique:!1}),b.createIndex("collectionGroupOverlayIndex",OE,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const b=m.createObjectStore("remoteDocumentsV14",{keyPath:PC});b.createIndex("documentKeyIndex",SE),b.createIndex("collectionGroupIndex",NC)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:au}).createIndex("sequenceNumberIndex",kC,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:xE}).createIndex("documentKeyIndex",uu,{unique:!1})}(e)})),d}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=A_(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>We.forEach(o,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>We.forEach(m,b=>{Mn(b.userId===l.userId);const M=Jd(this.M,b);return Lg(e,l.userId,M).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.Wt((d,m)=>{const b=new ir(d),M=[0,es(b)];l.push(t.get(M).next(j=>j?We.resolve():t.put({targetId:0,path:es(b),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>We.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:__});const r=t.store("collectionParents"),o=new Pg,l=d=>{if(o.add(d)){const m=d.lastSegment(),b=d.popLast();return r.put({collectionId:m,parent:es(b)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const b=new ir(d);return l(b.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,b],M)=>{const j=Pa(m);return l(j.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,o)=>{const l=yf(o),d=kE(this.M,l);return t.put(d)})}Hn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((l,d)=>{const m=t.store("remoteDocumentsV14"),b=(M=d,M.document?new Mt(ir.fromString(M.document.name).popFirst(5)):M.noDocument?Mt.fromSegments(M.noDocument.path):M.unknownDocument?Mt.fromSegments(M.unknownDocument.path):Wt()).path.toArray();var M;const j={prefixPath:b.slice(0,b.length-2),collectionGroup:b[b.length-2],documentId:b[b.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(j))}).next(()=>We.waitFor(o))}}function bf(n){n.createObjectStore("targetDocuments",{keyPath:sD}).createIndex("documentTargetsIndex",y_,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ME,{unique:!0}),n.createObjectStore("targetGlobal")}const Ug="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bg{constructor(e,t,r,o,l,d,m,b,M,j,K=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=d,this.document=m,this.Yn=M,this.Xn=j,this.Zn=K,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=ue=>Promise.resolve(),!Bg.vt())throw new pt(qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WE(this,o),this.cs=t+"main",this.M=new w_(b),this.hs=new ga(this.cs,this.Zn,new ZC(this.M)),this.ls=new $C(this.referenceDelegate,this.M),this.fs=new ZE(this.M),this.ds=new UC,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===j&&Ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new pt(qe.FAILED_PRECONDITION,Ug);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Fo(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,h.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,h.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,h.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Ql(e))return Et("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return eh(e).get("owner").next(t=>We.resolve(this.bs(t)))}Ps(e){return jg(e).delete(this.clientId)}Vs(){var e=this;return(0,h.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=gi(r,"clientMetadata");return o.qt().next(l=>{const d=e.Ss(l,18e5),m=l.filter(b=>-1===d.indexOf(b));return We.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?We.resolve(!0):eh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new pt(qe.FAILED_PRECONDITION,Ug);return!1}}return!(!this.networkEnabled||!this.inForeground)||jg(e).qt().next(r=>void 0===this.Ss(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Et("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,h.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Mg(t,Fo.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>jg(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return Vg.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new $E(e)}getDocumentOverlayCache(e){return I_.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Et("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=14===(d=this.Zn)?LC:13===d?RE:12===d?FC:11===d?v_:void Wt();var d;let m;return this.hs.runTransaction(e,o,l,b=>(m=new Mg(b,this.ts?this.ts.next():Fo.A),"readwrite-primary"===t?this.Ts(m).next(M=>!!M||this.Es(m)).next(M=>{if(!M)throw Ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new pt(qe.FAILED_PRECONDITION,PE);return r(m)}).next(M=>this.Rs(m).next(()=>M)):this.Fs(m).next(()=>r(m)))).then(b=>(m.raiseOnCommittedEvent(),b))}Fs(e){return eh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new pt(qe.FAILED_PRECONDITION,Ug)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eh(e).put("owner",t)}static vt(){return ga.vt()}As(e){const t=eh(e);return t.get("owner").next(r=>this.bs(r)?(Et("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):We.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ii(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,W.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Et("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ii("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Ii("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function eh(n){return gi(n,"owner")}function jg(n){return gi(n,"clientMetadata")}function Kc(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Cf{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Us(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Mt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):fo(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new Mt(t)).next(r=>{let o=gg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let l=gg();return this.indexManager.getCollectionParents(e,o).next(d=>We.forEach(d,m=>{const b=(M=t,j=m.child(o),new Wu(j,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));var M,j;return this.Ws(e,b,r).next(M=>{M.forEach((j,K)=>{l=l.insert(j,K)})})}).next(()=>l))}Ws(e,t,r){let o;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const m of d.mutations){const b=m.key;let M=o.get(b);null==M&&(M=Fr.newInvalidDocument(b),o=o.insert(b,M)),Xy(m,M,d.localWriteTime),M.isFoundDocument()||(o=o.remove(b))}}).next(()=>(o.forEach((l,d)=>{Wl(t,d)||(o=o.remove(l))}),o))}}class x_{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=or(),o=or();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new x_(e,t.fromCache,r,o)}}class JE{Ys(e){this.Xs=e}Ks(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(gn.min())?this.Zs(e,t):this.Xs.qs(e,o).next(l=>{const d=this.ti(t,l);return(Gl(t)||ji(t))&&this.ei(t.limitType,d,o,r)?this.Zs(e,t):(Ny()<=L.in.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zl(t)),this.Xs.Ks(e,t,Gy(r,-1)).next(m=>(d.forEach(b=>{m=m.insert(b.key,b)}),m)))});var l}ti(e,t){let r=new Lr(Lc(e));return t.forEach((o,l)=>{Wl(e,l)&&(r=r.add(l))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Zs(e,t){return Ny()<=L.in.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",zl(t)),this.Xs.Ks(e,t,Ui.min())}}class KC{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new pi(qn),this.ii=new Ra(l=>$l(l),lf),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new Cf(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function O_(n,e,t,r){return new KC(n,e,t,r)}function R_(n,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,h.Z)(function*(n,e){const t=kt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.$s.getAllMutationBatches(r).next(l=>(o=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let b=or();for(const M of o){d.push(M.batchId);for(const j of M.mutations)b=b.add(j.key)}for(const M of l){m.push(M.batchId);for(const j of M.mutations)b=b.add(j.key)}return t.ai.qs(r,b).next(M=>({ci:M,removedBatchIds:d,addedBatchIds:m}))})})}),Hg.apply(this,arguments)}function YC(n,e){const t=kt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(d,m,b,M){const j=b.batch,K=j.keys();let ue=We.resolve();return K.forEach(Se=>{ue=ue.next(()=>M.getEntry(m,Se)).next(Te=>{const Xe=b.docVersions.get(Se);Mn(null!==Xe),Te.version.compareTo(Xe)<0&&(j.applyToRemoteDocument(Te,b),Te.isValidDocument()&&(Te.setReadTime(b.commitVersion),M.addEntry(Te)))})}),ue.next(()=>d.$s.removeMutationBatch(m,j))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,o))})}function P_(n){const e=kt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function QC(n,e){const t=kt(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const m=[];e.targetChanges.forEach((M,j)=>{const K=o.get(j);if(!K)return;m.push(t.ls.removeMatchingKeys(l,M.removedDocuments,j).next(()=>t.ls.addMatchingKeys(l,M.addedDocuments,j)));let ue=K.withSequenceNumber(l.currentSequenceNumber);var Se,Te,Xe;e.targetMismatches.has(j)?ue=ue.withResumeToken(hi.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):M.resumeToken.approximateByteSize()>0&&(ue=ue.withResumeToken(M.resumeToken,r)),o=o.insert(j,ue),Te=ue,Xe=M,(0===(Se=K).resumeToken.approximateByteSize()||Te.snapshotVersion.toMicroseconds()-Se.snapshotVersion.toMicroseconds()>=3e8||Xe.addedDocuments.size+Xe.modifiedDocuments.size+Xe.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(l,ue))});let b=Lo();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,M))}),m.push(XE(l,d,e.documentUpdates).next(M=>{b=M})),!r.isEqual(gn.min())){const M=t.ls.getLastRemoteSnapshotVersion(l).next(j=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(M)}return We.waitFor(m).next(()=>d.apply(l)).next(()=>t.ai.Gs(l,b)).next(()=>b)}).then(l=>(t.si=o,l))}function XE(n,e,t){let r=or();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Lo();return t.forEach((d,m)=>{const b=o.get(d);m.isNoDocument()&&m.version.isEqual(gn.min())?(e.removeEntry(d,m.readTime),l=l.insert(d,m)):!b.isValidDocument()||m.version.compareTo(b.version)>0||0===m.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(m),l=l.insert(d,m)):Et("LocalStore","Ignoring outdated watch update for ",d,". Current version:",b.version," Watch version:",m.version)}),l})}function oD(n,e){const t=kt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Tf(n,e){const t=kt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ls.getTargetData(r,e).next(l=>l?(o=l,We.resolve(o)):t.ls.allocateTargetId(r).next(d=>(o=new Yu(e,d,0,r.currentSequenceNumber),t.ls.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function If(n,e,t){return ew.apply(this,arguments)}function ew(){return ew=(0,h.Z)(function*(n,e,t){const r=kt(n),o=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ql(d))throw d;Et("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),ew.apply(this,arguments)}function Df(n,e,t){const r=kt(n);let o=gn.min(),l=or();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,b,M){const j=kt(m),K=j.ii.get(M);return void 0!==K?We.resolve(j.si.get(K)):j.ls.getTargetData(b,M)}(r,d,hs(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(d,m.targetId).next(b=>{l=b})}).next(()=>r.ni.Ks(d,e,t?o:gn.min(),t?l:or())).next(m=>(nw(r,Fc(e),m),{documents:m,hi:l})))}function Af(n,e){const t=kt(n),r=kt(t.ls),o=t.si.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(d=>d?d.target:null))}function tw(n,e){const t=kt(n),r=t.ri.get(e)||gn.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.oi.getAllFromCollectionGroup(o,e,Gy(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(nw(t,e,o),o))}function nw(n,e,t){let r=gn.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function Yc(){return Yc=(0,h.Z)(function*(n,e,t,r){const o=kt(n);let l=or(),d=Lo();for(const M of t){const j=e.li(M.metadata.name);M.document&&(l=l.add(j));const K=e.fi(M);K.setReadTime(e.di(M.metadata.readTime)),d=d.insert(j,K)}const m=o.oi.newChangeBuffer({trackRemovals:!0}),b=yield Tf(o,(M=r,hs(Qs(ir.fromString(`__bundle__/docs/${M}`)))));var M;return o.persistence.runTransaction("Apply bundle documents","readwrite",M=>XE(M,m,d).next(j=>(m.apply(M),j)).next(j=>o.ls.removeMatchingKeysForTargetId(M,b.targetId).next(()=>o.ls.addMatchingKeys(M,l,b.targetId)).next(()=>o.ai.Gs(M,j)).next(()=>j)))}),Yc.apply(this,arguments)}function JC(n,e){return N_.apply(this,arguments)}function N_(){return N_=(0,h.Z)(function*(n,e,t=or()){const r=yield Tf(n,hs(C_(e.bundledQuery))),o=kt(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const d=Hi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.ds.saveNamedQuery(l,e);const m=r.withResumeToken(hi.EMPTY_BYTE_STRING,d);return o.si=o.si.insert(m.targetId,m),o.ls.updateTargetData(l,m).next(()=>o.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.ls.addMatchingKeys(l,t,r.targetId)).next(()=>o.ds.saveNamedQuery(l,e))})}),N_.apply(this,arguments)}class XC{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return We.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Hi(r.createTime)}),We.resolve()}getNamedQuery(e,t){return We.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:C_(r.bundledQuery),readTime:Hi(r.readTime)}),We.resolve();var r}}class eT{constructor(){this.overlays=new pi(Mt.comparator),this.mi=new Map}getOverlay(e,t){return We.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Xt(e,t,l)}),We.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),We.resolve()}getOverlaysForCollection(e,t,r){const o=Gd(),l=t.length+1,d=new Mt(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const b=m.getNext().value,M=b.getKey();if(!t.isPrefixOf(M.path))break;M.path.length===l&&b.largestBatchId>r&&o.set(b.getKey(),b)}return We.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new pi((M,j)=>M-j);const d=this.overlays.getIterator();for(;d.hasNext();){const M=d.getNext().value;if(M.getKey().getCollectionGroup()===t&&M.largestBatchId>r){let j=l.get(M.largestBatchId);null===j&&(j=Gd(),l=l.insert(M.largestBatchId,j)),j.set(M.getKey(),M)}}const m=Gd(),b=l.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((M,j)=>m.set(M,j)),!(m.size()>=o)););return We.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const d=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Rg(t,r));let l=this.mi.get(t);void 0===l&&(l=or(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class k_{constructor(){this.gi=new Lr(Gi.yi),this.pi=new Lr(Gi.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Gi(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Gi(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Mt(new ir([])),r=new Gi(t,e),o=new Gi(t,e+1),l=[];return this.pi.forEachInRange([r,o],d=>{this.Ei(d),l.push(d.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Mt(new ir([])),r=new Gi(t,e),o=new Gi(t,e+1);let l=or();return this.pi.forEachInRange([r,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Gi(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Gi{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Mt.comparator(e.key,t.key)||qn(e.Vi,t.Vi)}static Ii(e,t){return qn(e.Vi,t.Vi)||Mt.comparator(e.key,t.key)}}class tT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Lr(Gi.yi)}checkEmpty(e){return We.resolve(0===this.$s.length)}addMutationBatch(e,t,r,o){const l=this.vi;this.vi++;const d=new xg(l,t,r,o);this.$s.push(d);for(const m of o)this.Si=this.Si.add(new Gi(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return We.resolve(d)}lookupMutationBatch(e,t){return We.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),l=o<0?0:o;return We.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return We.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gi(t,0),o=new Gi(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,o],d=>{const m=this.Di(d.Vi);l.push(m)}),We.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Lr(qn);return t.forEach(o=>{const l=new Gi(o,0),d=new Gi(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,d],m=>{r=r.add(m.Vi)})}),We.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Mt.isDocumentKey(l)||(l=l.child(""));const d=new Gi(new Mt(l),0);let m=new Lr(qn);return this.Si.forEachWhile(b=>{const M=b.key.path;return!!r.isPrefixOf(M)&&(M.length===o&&(m=m.add(b.Vi)),!0)},d),We.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Mn(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return We.forEach(t.mutations,o=>{const l=new Gi(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Gi(t,0),o=this.Si.firstAfterOrEqual(r);return We.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return We.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class nT{constructor(e){this.ki=e,this.docs=new pi(Mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,d=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return We.resolve(r?r.document.mutableCopy():Fr.newInvalidDocument(t))}getEntries(e,t){let r=Lo();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Fr.newInvalidDocument(o))}),We.resolve(r)}getAllFromCollection(e,t,r){let o=Lo();const l=new Mt(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:m,value:{document:b}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||eD(XI(b),r)<=0||(o=o.insert(b.key,b.mutableCopy()))}return We.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Wt()}Mi(e,t){return We.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new th(this)}getSize(e){return We.resolve(this.size)}}class th extends M_{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.qn.addEntry(e,o)):this.qn.removeEntry(r)}),We.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class rT{constructor(e){this.persistence=e,this.Oi=new Ra(t=>$l(t),lf),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.Fi=0,this.$i=new k_,this.targetCount=0,this.Bi=Wc.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),We.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Wc(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,We.resolve()}updateTargetData(e,t){return this.In(t),We.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Oi.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),We.waitFor(l).next(()=>o)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return We.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),We.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),We.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),We.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return We.resolve(r)}containsKey(e,t){return We.resolve(this.$i.containsKey(t))}}class iw{constructor(e,t){this.Li={},this.overlays={},this.ts=new Fo(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new rT(this),this.indexManager=new HE,this.fs=new nT(r=>this.referenceDelegate.Ui(r)),this.M=new w_(t),this.ds=new XC(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new tT(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Et("MemoryPersistence","Starting transaction:",e);const o=new iT(this.ts.next());return this.referenceDelegate.qi(),r(o).next(l=>this.referenceDelegate.Gi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ki(e,t){return We.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class iT extends Ig{constructor(e){super(),this.currentSequenceNumber=e}}class $g{constructor(e){this.persistence=e,this.Qi=new k_,this.ji=null}static Wi(e){return new $g(e)}get zi(){if(this.ji)return this.ji;throw Wt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),We.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),We.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),We.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.zi,r=>{const o=Mt.fromPath(r);return this.Hi(e,o).next(l=>{l||t.removeEntry(o,gn.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return We.or([()=>We.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function sw(n,e){return`firestore_clients_${n}_${e}`}function F_(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function L_(n,e){return`firestore_targets_${n}_${e}`}class nh{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new pt(o.error.code,o.error.message))),d?new nh(e,t,o.state,l):(Ii("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new pt(r.error.code,r.error.message))),l?new Sf(e,r.state,o):(Ii("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=s_();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=Rc(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return o?new Mf(e,l):(Ii("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Gg{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Gg(t.clientId,t.onlineState):(Ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class V_{constructor(){this.activeTargetIds=s_()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U_{constructor(e,t,r,o,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new pi(qn),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=sw(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new V_),this.ar=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,h.Z)(function*(){const t=yield e.syncEngine.Os();for(const o of t){if(o===e.tr)continue;const l=e.getItem(sw(e.persistenceKey,o));if(l){const d=Mf.Ji(o,l);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(L_(this.persistenceKey,e));if(r){const o=Sf.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(L_(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Et("SharedClientState","READ",e,t),t}setItem(e,t){Et("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Et("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Et("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,h.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const o=t.Vr(r.key,r.newValue);if(o)return t.vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let d=Fo.A;if(null!=l)try{const m=JSON.parse(l);Mn("number"==typeof m),d=m}catch(m){Ii("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==Fo.A&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new nh(this.currentUser,e,t,r),l=F_(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=F_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=L_(this.persistenceKey,e),l=new Sf(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Mf.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),o=Number(r[1]);return nh.Ji(new ls(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Sf.Ji(o,t)}wr(e){return Gg.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,h.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Et("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),d=[],m=[];return l.forEach(b=>{o.has(b)||d.push(b)}),o.forEach(b=>{l.has(b)||m.push(b)}),this.syncEngine.Or(d,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=s_();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class ow{constructor(){this.Fr=new V_,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new V_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class B_{Br(e){}shutdown(){}}class aw{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sT{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class oT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const d=this.oo(e,t);Et("RestConnection","Sending: ",d,r);const m={};return this.uo(m,o,l),this.ao(e,d,m,r).then(b=>(Et("RestConnection","Received: ",b),b),b=>{throw ho("RestConnection",`${e} failed with error: `,b,"url: ",d,"request:",r),b})}co(e,t,r,o,l){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${uw[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((l,d)=>{const m=new aC;m.listenOnce(sC.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Q0.NO_ERROR:const M=m.getResponseJson();Et("Connection","XHR received:",JSON.stringify(M)),l(M);break;case Q0.TIMEOUT:Et("Connection",'RPC "'+e+'" timed out'),d(new pt(qe.DEADLINE_EXCEEDED,"Request time out"));break;case Q0.HTTP_ERROR:const j=m.getStatus();if(Et("Connection",'RPC "'+e+'" failed with status:',j,"response text:",m.getResponseText()),j>0){const K=m.getResponseJson().error;if(K&&K.status&&K.message){const ue=function(Se){const Te=Se.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(Te)>=0?Te:qe.UNKNOWN}(K.status);d(new pt(ue,K.message))}else d(new pt(qe.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new pt(qe.UNAVAILABLE,"Connection failed."));break;default:Wt()}}finally{Et("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=QI(),d=Y0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new oC({})),this.uo(m.initMessageHeaders,t,r),(0,W.uI)()||(0,W.b$)()||(0,W.d)()||(0,W.w1)()||(0,W.Mn)()||(0,W.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");Et("Connection","Creating WebChannel: "+b,m);const M=l.createWebChannel(b,m);let j=!1,K=!1;const ue=new sT({jr:Te=>{K?Et("Connection","Not sending because WebChannel is closed:",Te):(j||(Et("Connection","Opening WebChannel transport."),M.open(),j=!0),Et("Connection","WebChannel sending:",Te),M.send(Te))},Wr:()=>M.close()}),Se=(Te,Xe,mt)=>{Te.listen(Xe,Xt=>{try{mt(Xt)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return Se(M,eg.EventType.OPEN,()=>{K||Et("Connection","WebChannel transport opened.")}),Se(M,eg.EventType.CLOSE,()=>{K||(K=!0,Et("Connection","WebChannel transport closed"),ue.eo())}),Se(M,eg.EventType.ERROR,Te=>{K||(K=!0,ho("Connection","WebChannel transport errored:",Te),ue.eo(new pt(qe.UNAVAILABLE,"The operation could not be completed")))}),Se(M,eg.EventType.MESSAGE,Te=>{var Xe;if(!K){const mt=Te.data[0];Mn(!!mt);const Xt=mt,Ut=Xt.error||(null===(Xe=Xt[0])||void 0===Xe?void 0:Xe.error);if(Ut){Et("Connection","WebChannel received error:",Ut);const dn=Ut.status;let Pt=function(on){const _r=Di[on];if(void 0!==_r)return r_(_r)}(dn),Cn=Ut.message;void 0===Pt&&(Pt=qe.INTERNAL,Cn="Unknown error status: "+dn+" with message "+Ut.message),K=!0,ue.eo(new pt(Pt,Cn)),M.close()}else Et("Connection","WebChannel received:",mt),ue.no(mt)}}),Se(d,Oy.STAT_EVENT,Te=>{Te.stat===Ry.PROXY?Et("Connection","Detected buffering proxy"):Te.stat===Ry.NOPROXY&&Et("Connection","Detected no buffering proxy")}),setTimeout(()=>{ue.Zr()},0),ue}}function lw(){return"undefined"!=typeof window?window:null}function qg(){return"undefined"!=typeof document?document:null}function xf(n){return new Eg(n,!0)}class j_{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class cw{constructor(e,t,r,o,l,d,m,b){this.Jn=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new j_(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,h.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,h.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,h.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===qe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new pt(qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,h.Z)(function*(){e.state=0,e.start()}))}qo(e){return Et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aT extends cw{constructor(e,t,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function CE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:Wt(),o=e.targetChange.targetIds||[],l=function(b,M){return b.N?(Mn(void 0===M||"string"==typeof M),hi.fromBase64String(M||"")):(Mn(void 0===M||M instanceof Uint8Array),hi.fromUint8Array(M||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(b){const M=void 0===b.code?qe.UNKNOWN:r_(b.code);return new pt(M,b.message||"")}(d);t=new EE(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=ou(n,r.document.name),l=Hi(r.document.updateTime),d=new ds({mapValue:{fields:r.document.fields}}),m=Fr.newFoundDocument(o,l,d);t=new zd(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=ou(n,r.document),l=r.readTime?Hi(r.readTime):gn.min(),d=Fr.newNoDocument(o,l);t=new zd([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=ou(n,r.document);t=new zd([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Wt();{const r=e.filter,l=new Hd(r.count||0);t=new mg(r.targetId,l)}}var b;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return gn.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?gn.min():l.readTime?Hi(l.readTime):gn.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=Bc(this.M),t.addTarget=function(o,l){let d;const m=l.target;return d=zy(m)?{documents:c_(o,m)}:{query:d_(o,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=o_(o,l.resumeToken):l.snapshotVersion.compareTo(gn.min())>0&&(d.readTime=Wd(o,l.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function IE(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Bc(this.M),t.removeTarget=e,this.Oo(t)}}class dw extends cw{constructor(e,t,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function TE(n,e){return n&&n.length>0?(Mn(void 0!==e),n.map(t=>function(r,o){let l=Hi(r.updateTime?r.updateTime:o);return l.isEqual(gn.min())&&(l=Hi(o)),new bC(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Hi(e.commitTime);return this.listener.Jo(r,t)}return Mn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Bc(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Yl(this.M,r))};this.Oo(t)}}class hw extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.Zo=!1}tu(){if(this.Zo)throw new pt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(qe.UNKNOWN,o.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.co(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(qe.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class uT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ii(t),this.su=!1):Et("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class lT{constructor(e,t,r,o,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,h.Z)(function*(){var b;cu(d)&&(Et("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,h.Z)(function*(M){const j=kt(M);j.lu.add(4),yield ih(j),j._u.set("Unknown"),j.lu.delete(4),yield rh(j)}),function(M){return b.apply(this,arguments)})(d))}))}),this._u=new uT(r,o)}}function rh(n){return H_.apply(this,arguments)}function H_(){return H_=(0,h.Z)(function*(n){if(cu(n))for(const e of n.fu)yield e(!0)}),H_.apply(this,arguments)}function ih(n){return $_.apply(this,arguments)}function $_(){return $_=(0,h.Z)(function*(n){for(const e of n.fu)yield e(!1)}),$_.apply(this,arguments)}function sh(n,e){const t=kt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),q_(t)?G_(t):ah(t).Co()&&zg(t,e))}function Qc(n,e){const t=kt(n),r=ah(t);t.hu.delete(e),r.Co()&&Wg(t,e),0===t.hu.size&&(r.Co()?r.ko():cu(t)&&t._u.set("Unknown"))}function zg(n,e){n.wu.Z(e.targetId),ah(n).Qo(e)}function Wg(n,e){n.wu.Z(e),ah(n).jo(e)}function G_(n){n.wu=new yg({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),ah(n).start(),n._u.iu()}function q_(n){return cu(n)&&!ah(n).Do()&&n.hu.size>0}function cu(n){return 0===kt(n).lu.size}function fw(n){n.wu=void 0}function pw(n){return z_.apply(this,arguments)}function z_(){return z_=(0,h.Z)(function*(n){n.hu.forEach((e,t)=>{zg(n,e)})}),z_.apply(this,arguments)}function gw(n,e){return W_.apply(this,arguments)}function W_(){return W_=(0,h.Z)(function*(n,e){fw(n),q_(n)?(n._u.uu(e),G_(n)):n._u.set("Unknown")}),W_.apply(this,arguments)}function mw(n,e,t){return yw.apply(this,arguments)}function yw(){return yw=(0,h.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof EE&&2===e.state&&e.cause)try{yield(r=(0,h.Z)(function*(o,l){const d=l.cause;for(const m of l.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zg(n,r)}else if(e instanceof zd?n.wu.ut(e):e instanceof mg?n.wu._t(e):n.wu.ht(e),!t.isEqual(gn.min()))try{const r=yield P_(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const d=o.wu.yt(l);return d.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const M=o.hu.get(b);M&&o.hu.set(b,M.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach(m=>{const b=o.hu.get(m);if(!b)return;o.hu.set(m,b.withResumeToken(hi.EMPTY_BYTE_STRING,b.snapshotVersion)),Wg(o,m);const M=new Yu(b.target,m,1,b.sequenceNumber);zg(o,M)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Et("RemoteStore","Failed to raise snapshot:",r),yield Zg(n,r)}var r}),yw.apply(this,arguments)}function Zg(n,e,t){return oh.apply(this,arguments)}function oh(){return oh=(0,h.Z)(function*(n,e,t){if(!Ql(e))throw e;n.lu.add(1),yield ih(n),n._u.set("Offline"),t||(t=()=>P_(n.localStore)),n.asyncQueue.enqueueRetryable((0,h.Z)(function*(){Et("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield rh(n)}))}),oh.apply(this,arguments)}function _w(n,e){return e().catch(t=>Zg(n,t,e))}function Va(n){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,h.Z)(function*(n){const e=kt(n),t=du(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;cT(e);)try{const o=yield oD(e.localStore,r);if(null===o){0===e.cu.length&&t.ko();break}r=o.batchId,aD(e,o)}catch(o){yield Zg(e,o)}Z_(e)&&vw(e)}),Jc.apply(this,arguments)}function cT(n){return cu(n)&&n.cu.length<10}function aD(n,e){n.cu.push(e);const t=du(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function Z_(n){return cu(n)&&!du(n).Do()&&n.cu.length>0}function vw(n){du(n).start()}function dT(n){return K_.apply(this,arguments)}function K_(){return K_=(0,h.Z)(function*(n){du(n).Xo()}),K_.apply(this,arguments)}function hT(n){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,h.Z)(function*(n){const e=du(n);for(const t of n.cu)e.Ho(t.mutations)}),Kg.apply(this,arguments)}function Ew(n,e,t){return Of.apply(this,arguments)}function Of(){return Of=(0,h.Z)(function*(n,e,t){const r=n.cu.shift(),o=Og.from(r,e,t);yield _w(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Va(n)}),Of.apply(this,arguments)}function Yg(n,e){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,h.Z)(function*(n,e){var t;e&&du(n).zo&&(yield(t=(0,h.Z)(function*(r,o){if(_E(l=o.code)&&l!==qe.ABORTED){const d=r.cu.shift();du(r).No(),yield _w(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield Va(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),Z_(n)&&vw(n)}),Xc.apply(this,arguments)}function ww(n,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,h.Z)(function*(n,e){const t=kt(n);t.asyncQueue.verifyOperationInProgress(),Et("RemoteStore","RemoteStore received new credentials");const r=cu(t);t.lu.add(3),yield ih(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield rh(t)}),Qg.apply(this,arguments)}function Jg(n,e){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,h.Z)(function*(n,e){const t=kt(n);e?(t.lu.delete(2),yield rh(t)):e||(t.lu.add(2),yield ih(t),t._u.set("Unknown"))}),Y_.apply(this,arguments)}function ah(n){return n.mu||(n.mu=function(e,t,r){const o=kt(e);return o.tu(),new aT(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:pw.bind(null,n),Jr:gw.bind(null,n),Ko:mw.bind(null,n)}),n.fu.push(function(){var e=(0,h.Z)(function*(t){t?(n.mu.No(),q_(n)?G_(n):n._u.set("Unknown")):(yield n.mu.stop(),fw(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function du(n){return n.gu||(n.gu=function(e,t,r){const o=kt(e);return o.tu(),new dw(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:dT.bind(null,n),Jr:Yg.bind(null,n),Yo:hT.bind(null,n),Jo:Ew.bind(null,n)}),n.fu.push(function(){var e=(0,h.Z)(function*(t){t?(n.gu.No(),yield Va(n)):(yield n.gu.stop(),n.cu.length>0&&(Et("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Q_{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,l){const d=Date.now()+r,m=new Q_(e,t,d,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pt(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rf(n,e){if(Ii("AsyncQueue",`${e}: ${n}`),Ql(n))return new pt(qe.UNAVAILABLE,`${e}: ${n}`);throw n}class uh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Mt.comparator(t.key,r.key):(t,r)=>Mt.comparator(t.key,r.key),this.keyedMap=gg(),this.sortedSet=new pi(this.comparator)}static emptySet(e){return new uh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bw{constructor(){this.yu=new pi(Mt.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Wt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ua{constructor(e,t,r,o,l,d,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Ua(e,t,uh.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&su(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Cw{constructor(){this.Iu=void 0,this.listeners=[]}}class lh{constructor(){this.queries=new Ra(e=>kc(e),su),this.onlineState="Unknown",this.Tu=new Set}}function Tw(n,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,h.Z)(function*(n,e){const t=kt(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new Cw),o)try{l.Iu=yield t.onListen(r)}catch(d){const m=Rf(d,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&em(t)}),Xg.apply(this,arguments)}function J_(n,e){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,h.Z)(function*(n,e){const t=kt(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Iw.apply(this,arguments)}function Dw(n,e){const t=kt(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.Au(o)&&(r=!0);d.Iu=o}}r&&em(t)}function uD(n,e,t){const r=kt(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function em(n){n.Tu.forEach(e=>{e.next()})}class Pf{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class fT{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Aw{constructor(e){this.M=e}li(e){return ou(this.M,e)}fi(e){return e.metadata.exists?bE(this.M,e.document,!1):Fr.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Hi(e)}}class pT{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sw(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=ir.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new Aw(this.M);for(const o of e)if(o.metadata.queries){const l=r.li(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||or()).add(l);t.set(d,m)}}return t}complete(){var e=this;return(0,h.Z)(function*(){const t=yield function rw(n,e,t,r){return Yc.apply(this,arguments)}(e.localStore,new Aw(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield JC(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function Sw(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Mw{constructor(e){this.key=e}}class xw{constructor(e){this.key=e}}class Ow{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=or(),this.mutatedKeys=or(),this.Lu=Lc(e),this.Uu=new uh(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new bw,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const b=Gl(this.query)&&o.size===this.query.limit?o.last():null,M=ji(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((j,K)=>{const ue=o.get(j),Se=Wl(this.query,K)?K:null,Te=!!ue&&this.mutatedKeys.has(ue.key),Xe=!!Se&&(Se.hasLocalMutations||this.mutatedKeys.has(Se.key)&&Se.hasCommittedMutations);let mt=!1;ue&&Se?ue.data.isEqual(Se.data)?Te!==Xe&&(r.track({type:3,doc:Se}),mt=!0):this.Qu(ue,Se)||(r.track({type:2,doc:Se}),mt=!0,(b&&this.Lu(Se,b)>0||M&&this.Lu(Se,M)<0)&&(m=!0)):!ue&&Se?(r.track({type:0,doc:Se}),mt=!0):ue&&!Se&&(r.track({type:1,doc:ue}),mt=!0,(b||M)&&(m=!0)),mt&&(Se?(d=d.add(Se),l=Xe?l.add(j):l.delete(j)):(d=d.delete(j),l=l.delete(j)))}),Gl(this.query)||ji(this.query))for(;d.size>this.query.limit;){const j=Gl(this.query)?d.last():d.first();d=d.delete(j.key),l=l.delete(j.key),r.track({type:1,doc:j})}return{Uu:d,Ku:r,ei:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((M,j)=>function(K,ue){const Se=Te=>{switch(Te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt()}};return Se(K)-Se(ue)}(M.type,j.type)||this.Lu(M.doc,j.doc)),this.ju(r);const d=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,b=m!==this.$u;return this.$u=m,0!==l.length||b?{snapshot:new Ua(this.query,e.Uu,o,l,e.mutatedKeys,0===m,b,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new bw,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=or(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new xw(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new Mw(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=or();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Ua.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class gT{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mT{constructor(e){this.key=e,this.Xu=!1}}class yT{constructor(e,t,r,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new Ra(m=>kc(m),su),this.ea=new Map,this.na=new Set,this.sa=new pi(Mt.comparator),this.ia=new Map,this.ra=new k_,this.oa={},this.ua=new Map,this.aa=Wc.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function Nf(n,e){return tm.apply(this,arguments)}function tm(){return tm=(0,h.Z)(function*(n,e){const t=um(n);let r,o;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const d=yield Tf(t.localStore,hs(e));t.isPrimaryClient&&sh(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield nm(t,e,r,"current"===m)}return o}),tm.apply(this,arguments)}function nm(n,e,t,r){return rm.apply(this,arguments)}function rm(){return rm=(0,h.Z)(function*(n,e,t,r){n.ha=(j,K,ue)=>{return(Se=(0,h.Z)(function*(Te,Xe,mt,Xt){let Ut=Xe.view.Gu(mt);Ut.ei&&(Ut=yield Df(Te.localStore,Xe.query,!1).then(({documents:Cn})=>Xe.view.Gu(Cn,Ut)));const dn=Xt&&Xt.targetChanges.get(Xe.targetId),Pt=Xe.view.applyChanges(Ut,Te.isPrimaryClient,dn);return dh(Te,Xe.targetId,Pt.zu),Pt.snapshot}),function(Te,Xe,mt,Xt){return Se.apply(this,arguments)})(n,j,K,ue);var Se};const o=yield Df(n.localStore,e,!0),l=new Ow(e,o.hi),d=l.Gu(o.documents),m=qd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=l.applyChanges(d,n.isPrimaryClient,m);dh(n,t,b.zu);const M=new gT(e,t,l);return n.ta.set(e,M),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),b.snapshot}),rm.apply(this,arguments)}function Rw(n,e){return im.apply(this,arguments)}function im(){return im=(0,h.Z)(function*(n,e){const t=kt(n),r=t.ta.get(e),o=t.ea.get(r.targetId);if(o.length>1)return t.ea.set(r.targetId,o.filter(l=>!su(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield If(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Qc(t.remoteStore,r.targetId),ch(t,r.targetId)}).catch(lu))):(ch(t,r.targetId),yield If(t.localStore,r.targetId,!0))}),im.apply(this,arguments)}function X_(){return X_=(0,h.Z)(function*(n,e,t){const r=lm(n);try{const o=yield function(l,d){const m=kt(l),b=oi.now(),M=d.reduce((K,ue)=>K.add(ue.key),or());let j;return m.persistence.runTransaction("Locally write mutations","readwrite",K=>m.ai.qs(K,M).next(ue=>{j=ue;const Se=[];for(const Te of d){const Xe=e_(Te,j.get(Te.key));null!=Xe&&Se.push(new jd(Te.key,Xe,sE(Xe.value.mapValue),fi.exists(!0)))}return m.$s.addMutationBatch(K,b,Se,d)})).then(K=>(K.applyToLocalDocumentSet(j),{batchId:K.batchId,changes:j}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,d,m){let b=l.oa[l.currentUser.toKey()];b||(b=new pi(qn)),b=b.insert(d,m),l.oa[l.currentUser.toKey()]=b}(r,o.batchId,t),yield el(r,o.changes),yield Va(r.remoteStore)}catch(o){const l=Rf(o,"Failed to persist write");t.reject(l)}}),X_.apply(this,arguments)}function Pw(n,e){return ev.apply(this,arguments)}function ev(){return ev=(0,h.Z)(function*(n,e){const t=kt(n);try{const r=yield QC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.ia.get(l);d&&(Mn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Xu=!0:o.modifiedDocuments.size>0?Mn(d.Xu):o.removedDocuments.size>0&&(Mn(d.Xu),d.Xu=!1))}),yield el(t,r,e)}catch(r){yield lu(r)}}),ev.apply(this,arguments)}function Nw(n,e,t){const r=kt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ta.forEach((l,d)=>{const m=d.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(l,d){const m=kt(l);m.onlineState=d;let b=!1;m.queries.forEach((M,j)=>{for(const K of j.listeners)K.Eu(d)&&(b=!0)}),b&&em(m)}(r.eventManager,e),o.length&&r.Zu.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vT(n,e,t){return tv.apply(this,arguments)}function tv(){return tv=(0,h.Z)(function*(n,e,t){const r=kt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ia.get(e),l=o&&o.key;if(l){let d=new pi(Mt.comparator);d=d.insert(l,Fr.newNoDocument(l,gn.min()));const m=or().add(l),b=new Ku(gn.min(),new Map,new Lr(qn),d,m);yield Pw(r,b),r.sa=r.sa.remove(l),r.ia.delete(e),sv(r)}else yield If(r.localStore,e,!1).then(()=>ch(r,e,t)).catch(lu)}),tv.apply(this,arguments)}function kf(n,e){return nv.apply(this,arguments)}function nv(){return nv=(0,h.Z)(function*(n,e){const t=kt(n),r=e.batch.batchId;try{const o=yield YC(t.localStore,e);iv(t,r,null),ed(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield el(t,o)}catch(o){yield lu(o)}}),nv.apply(this,arguments)}function rv(n,e,t){return ma.apply(this,arguments)}function ma(){return ma=(0,h.Z)(function*(n,e,t){const r=kt(n);try{const o=yield function(l,d){const m=kt(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let M;return m.$s.lookupMutationBatch(b,d).next(j=>(Mn(null!==j),M=j.keys(),m.$s.removeMutationBatch(b,j))).next(()=>m.$s.performConsistencyCheck(b)).next(()=>m.ai.qs(b,M))})}(r.localStore,e);iv(r,e,t),ed(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield el(r,o)}catch(o){yield lu(o)}}),ma.apply(this,arguments)}function Ff(){return Ff=(0,h.Z)(function*(n,e){const t=kt(n);cu(t.remoteStore)||Et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=kt(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ua.get(r)||[];o.push(e),t.ua.set(r,o)}catch(r){const o=Rf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Ff.apply(this,arguments)}function ed(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function iv(n,e,t){const r=kt(n);let o=r.oa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oa[r.currentUser.toKey()]=o}}function ch(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||kw(n,r)})}function kw(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Qc(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),sv(n))}function dh(n,e,t){for(const r of t)r instanceof Mw?(n.ra.addReference(r.key,e),sm(n,r)):r instanceof xw?(Et("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||kw(n,r.key)):Wt()}function sm(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Et("SyncEngine","New document in limbo: "+t),n.na.add(r),sv(n))}function sv(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Mt(ir.fromString(e)),r=n.aa.next();n.ia.set(r,new mT(t)),n.sa=n.sa.insert(t,r),sh(n.remoteStore,new Yu(hs(Qs(t.path)),r,2,Fo.A))}}function el(n,e,t){return om.apply(this,arguments)}function om(){return om=(0,h.Z)(function*(n,e,t){const r=kt(n),o=[],l=[],d=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,b)=>{d.push(r.ha(b,e,t).then(M=>{if(M){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,M.fromCache?"not-current":"current"),o.push(M);const j=x_.Js(b.targetId,M);l.push(j)}}))}),yield Promise.all(d),r.Zu.Ko(o),yield(m=(0,h.Z)(function*(b,M){const j=kt(b);try{yield j.persistence.runTransaction("notifyLocalViewChanges","readwrite",K=>We.forEach(M,ue=>We.forEach(ue.zs,Se=>j.persistence.referenceDelegate.addReference(K,ue.targetId,Se)).next(()=>We.forEach(ue.Hs,Se=>j.persistence.referenceDelegate.removeReference(K,ue.targetId,Se)))))}catch(K){if(!Ql(K))throw K;Et("LocalStore","Failed to update sequence numbers: "+K)}for(const K of M){const ue=K.targetId;if(!K.fromCache){const Se=j.si.get(ue),Xe=Se.withLastLimboFreeSnapshotVersion(Se.snapshotVersion);j.si=j.si.insert(ue,Xe)}}}),function(b,M){return m.apply(this,arguments)})(r.localStore,l))}),om.apply(this,arguments)}function Fw(n,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,h.Z)(function*(n,e){const t=kt(n);if(!t.currentUser.isEqual(e)){Et("SyncEngine","User change. New user:",e.toKey());const r=yield R_(t.localStore,e);t.currentUser=e,(o=t).ua.forEach(d=>{d.forEach(m=>{m.reject(new pt(qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield el(t,r.ci)}var o}),Lf.apply(this,arguments)}function Lw(n,e){const t=kt(n),r=t.ia.get(e);if(r&&r.Xu)return or().add(r.key);{let o=or();const l=t.ea.get(e);if(!l)return o;for(const d of l){const m=t.ta.get(d);o=o.unionWith(m.view.qu)}return o}}function wT(n,e){return ov.apply(this,arguments)}function ov(){return ov=(0,h.Z)(function*(n,e){const t=kt(n),r=yield Df(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&dh(t,e.targetId,o.zu),o}),ov.apply(this,arguments)}function lD(n,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,h.Z)(function*(n,e){const t=kt(n);return tw(t.localStore,e).then(r=>el(t,r))}),Vf.apply(this,arguments)}function av(n,e,t,r){return am.apply(this,arguments)}function am(){return am=(0,h.Z)(function*(n,e,t,r){const o=kt(n),l=yield function(d,m){const b=kt(d),M=kt(b.$s);return b.persistence.runTransaction("Lookup mutation documents","readonly",j=>M.ln(j,m).next(K=>K?b.ai.qs(j,K):We.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield Va(o.remoteStore):"acknowledged"===t||"rejected"===t?(iv(o,e,r||null),ed(o,e),m=e,kt(kt(o.localStore).$s).dn(m)):Wt(),yield el(o,l)):Et("SyncEngine","Cannot apply mutation batch with id: "+e)}),am.apply(this,arguments)}function Uf(){return Uf=(0,h.Z)(function*(n,e){const t=kt(n);if(um(t),lm(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Vw(t,r.toArray());t.ca=!0,yield Jg(t.remoteStore,!0);for(const l of o)sh(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let o=Promise.resolve();t.ea.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(ch(t,d),If(t.localStore,d,!0))),Qc(t.remoteStore,d)}),yield o,yield Vw(t,r),function(l){const d=kt(l);d.ia.forEach((m,b)=>{Qc(d.remoteStore,b)}),d.ra.bi(),d.ia=new Map,d.sa=new pi(Mt.comparator)}(t),t.ca=!1,yield Jg(t.remoteStore,!1)}}),Uf.apply(this,arguments)}function Vw(n,e,t){return lv.apply(this,arguments)}function lv(){return lv=(0,h.Z)(function*(n,e,t){const r=kt(n),o=[],l=[];for(const d of e){let m;const b=r.ea.get(d);if(b&&0!==b.length){m=yield Tf(r.localStore,hs(b[0]));for(const M of b){const j=r.ta.get(M),K=yield wT(r,j);K.snapshot&&l.push(K.snapshot)}}else{const M=yield Af(r.localStore,d);m=yield Tf(r.localStore,M),yield nm(r,Uw(M),d,!1)}o.push(m)}return r.Zu.Ko(l),o}),lv.apply(this,arguments)}function Uw(n){return lg(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bT(n){const e=kt(n);return kt(kt(e.localStore).persistence).Os()}function Bw(n,e,t,r){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,h.Z)(function*(n,e,t,r){const o=kt(n);if(o.ca)return void Et("SyncEngine","Ignoring unexpected query state notification.");const l=o.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield tw(o.localStore,Fc(l[0])),m=Ku.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield el(o,d,m);break}case"rejected":yield If(o.localStore,e,!0),ch(o,e,r);break;default:Wt()}}),Bf.apply(this,arguments)}function jw(n,e,t){return cv.apply(this,arguments)}function cv(){return cv=(0,h.Z)(function*(n,e,t){const r=um(n);if(r.ca){for(const o of e){if(r.ea.has(o)){Et("SyncEngine","Adding an already active target "+o);continue}const l=yield Af(r.localStore,o),d=yield Tf(r.localStore,l);yield nm(r,Uw(l),d.targetId,!1),sh(r.remoteStore,d)}for(const o of t)r.ea.has(o)&&(yield If(r.localStore,o,!1).then(()=>{Qc(r.remoteStore,o),ch(r,o)}).catch(lu))}}),cv.apply(this,arguments)}function um(n){const e=kt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vT.bind(null,e),e.Zu.Ko=Dw.bind(null,e.eventManager),e.Zu.la=uD.bind(null,e.eventManager),e}function lm(n){const e=kt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rv.bind(null,e),e}class dv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,h.Z)(function*(){t.M=xf(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return O_(this.persistence,new JE,e.initialUser,this.M)}_a(e){return new iw($g.Wi,this.M)}da(e){return new ow}terminate(){var e=this;return(0,h.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hv extends dv{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,h.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield lm(r.ga.syncEngine),yield Va(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return O_(this.persistence,new JE,e.initialUser,this.M)}wa(e){return new qC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=Kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Vo.withCacheSize(this.cacheSizeBytes):Vo.DEFAULT;return new Bg(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,lw(),qg(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new ow}}class TT extends hv{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,h.Z)(function*(){yield t().call(r,e);const o=r.ga.syncEngine;r.sharedClientState instanceof U_&&(r.sharedClientState.syncEngine={kr:av.bind(null,o),Mr:Bw.bind(null,o),Or:jw.bind(null,o),Os:bT.bind(null,o),Nr:lD.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,h.Z)(function*(d){yield function uv(n,e){return Uf.apply(this,arguments)}(r.ga.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}da(e){const t=lw();if(!U_.vt(t))throw new pt(qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new U_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class cm{initialize(e,t){var r=this;return(0,h.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Nw(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Fw.bind(null,r.syncEngine),yield Jg(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lh}createDatastore(e){const t=xf(e.databaseInfo.databaseId),r=new oT(e.databaseInfo);return new hw(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>Nw(this.syncEngine,m,0),d=aw.vt()?new aw:new B_,new lT(t,r,o,l,d);var t,r,o,l,d}createSyncEngine(e,t){return function(r,o,l,d,m,b,M){const j=new yT(r,o,l,d,m,b);return M&&(j.ca=!0),j}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,h.Z)(function*(t){const r=kt(t);Et("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield ih(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function fv(n,e=10240){let t=0;return{read:()=>(0,h.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,h.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ts{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hh{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Xi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,h.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,h.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,h.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),o=Number(r);isNaN(o)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(o);return new fT(JSON.parse(l),t.length+o)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,h.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,h.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,h.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class IT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,h.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new pt(qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,h.Z)(function*(l,d){const m=kt(l),b=Bc(m.M)+"/documents",M={documents:d.map(Se=>Zd(m.M,Se))},j=yield m.co("BatchGetDocuments",b,M),K=new Map;j.forEach(Se=>{const Te=function MC(n,e){return"found"in e?function(t,r){Mn(!!r.found);const o=ou(t,r.found.name),l=Hi(r.found.updateTime),d=new ds({mapValue:{fields:r.found.fields}});return Fr.newFoundDocument(o,l,d)}(n,e):"missing"in e?function(t,r){Mn(!!r.missing),Mn(!!r.readTime);const o=ou(t,r.missing),l=Hi(r.readTime);return Fr.newNoDocument(o,l)}(n,e):Wt()}(m.M,Se);K.set(Te.key.toString(),Te)});const ue=[];return d.forEach(Se=>{const Te=K.get(Se.toString());Mn(!!Te),ue.push(Te)}),ue}),function(l,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new pg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,h.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Mt.fromPath(o);e.mutations.push(new n_(l,e.precondition(l)))}),yield(r=(0,h.Z)(function*(o,l){const d=kt(o),m=Bc(d.M)+"/documents",b={writes:l.map(M=>Yl(d.M,M))};yield d.ro("Commit",m,b)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Wt();t=gn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new pt(qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fi.updateTime(t):fi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gn.min()))throw new pt(qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fi.updateTime(t)}return fi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class DT{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.va=5,this.So=new j_(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,h.Z)(function*(){const t=new IT(e.datastore),r=e.Da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Ca(l)}))}).catch(o=>{e.Ca(o)})}))}Da(e){try{const t=this.updateFunction(e);return!Oc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!_E(t)}return!1}}class cD{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ls.UNAUTHENTICATED,this.clientId=ig.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,h.Z)(function*(m){Et("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Et("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,h.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Rf(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function fh(n,e){return pv.apply(this,arguments)}function pv(){return pv=(0,h.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Et("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,h.Z)(function*(l){r.isEqual(l)||(yield R_(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),pv.apply(this,arguments)}function dm(n,e){return gv.apply(this,arguments)}function gv(){return gv=(0,h.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hm(n);Et("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>ww(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>ww(e.remoteStore,l)),n.onlineComponents=e}),gv.apply(this,arguments)}function hm(n){return mv.apply(this,arguments)}function mv(){return mv=(0,h.Z)(function*(n){return n.offlineComponents||(Et("FirestoreClient","Using default OfflineComponentProvider"),yield fh(n,new dv)),n.offlineComponents}),mv.apply(this,arguments)}function fm(n){return jf.apply(this,arguments)}function jf(){return jf=(0,h.Z)(function*(n){return n.onlineComponents||(Et("FirestoreClient","Using default OnlineComponentProvider"),yield dm(n,new cm)),n.onlineComponents}),jf.apply(this,arguments)}function yv(n){return hm(n).then(e=>e.persistence)}function pm(n){return hm(n).then(e=>e.localStore)}function Hf(n){return fm(n).then(e=>e.remoteStore)}function $f(n){return fm(n).then(e=>e.syncEngine)}function Gf(n){return gm.apply(this,arguments)}function gm(){return gm=(0,h.Z)(function*(n){const e=yield fm(n),t=e.eventManager;return t.onListen=Nf.bind(null,e.syncEngine),t.onUnlisten=Rw.bind(null,e.syncEngine),t}),gm.apply(this,arguments)}function _v(n,e,t={}){const r=new Xi;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(o,l,d,m,b){const M=new ts({next:K=>{l.enqueueAndForget(()=>J_(o,j));const ue=K.docs.has(d);!ue&&K.fromCache?b.reject(new pt(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):ue&&K.fromCache&&m&&"server"===m.source?b.reject(new pt(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(K)},error:K=>b.reject(K)}),j=new Pf(Qs(d.path),M,{includeMetadataChanges:!0,Du:!0});return Tw(o,j)}(yield Gf(n),n.asyncQueue,e,t,r)})),r.promise}function ym(n,e,t={}){const r=new Xi;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(o,l,d,m,b){const M=new ts({next:K=>{l.enqueueAndForget(()=>J_(o,j)),K.fromCache&&"server"===m.source?b.reject(new pt(qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(K)},error:K=>b.reject(K)}),j=new Pf(d,M,{includeMetadataChanges:!0,Du:!0});return Tw(o,j)}(yield Gf(n),n.asyncQueue,e,t,r)})),r.promise}const Ev=new Map;function _m(n,e,t){if(!t)throw new pt(qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $w(n,e,t,r){if(!0===e&&!0===r)throw new pt(qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wv(n){if(!Mt.isDocumentKey(n))throw new pt(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bv(n){if(Mt.isDocumentKey(n))throw new pt(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Wt()}function er(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pt(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vm(n);throw new pt(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Cv(n,e){if(e<=0)throw new pt(qe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Gw{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new pt(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pt(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$w("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gw({}),this._settingsFrozen=!1,e instanceof zu?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new pt(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(o.options.projectId)}(e))}get app(){if(!this._app)throw new pt(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new pt(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gw(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uC;switch(t.type){case"gapi":const r=t.client;return Mn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new cC(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new pt(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ev.get(e);t&&(Et("ComponentProvider","Removing Datastore"),Ev.delete(e),t.terminate())}(this),Promise.resolve()}}class Sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class ps{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class hu extends ps{constructor(e,t,r){super(e,t,Qs(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new Mt(e))}withConverter(e){return new hu(this.firestore,e,this._path)}}function Em(n,e,...t){if(n=(0,W.m9)(n),_m("collection","path",e),n instanceof ph){const r=ir.fromString(e,...t);return bv(r),new hu(n,null,r)}{if(!(n instanceof Sr||n instanceof hu))throw new pt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ir.fromString(e,...t));return bv(r),new hu(n.firestore,null,r)}}function qf(n,e,...t){if(n=(0,W.m9)(n),1===arguments.length&&(e=ig.R()),_m("doc","path",e),n instanceof ph){const r=ir.fromString(e,...t);return wv(r),new Sr(n,null,new Mt(r))}{if(!(n instanceof Sr||n instanceof hu))throw new pt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ir.fromString(e,...t));return wv(r),new Sr(n.firestore,n instanceof hu?n.converter:null,new Mt(r))}}function OT(n,e){return n=(0,W.m9)(n),e=(0,W.m9)(e),(n instanceof Sr||n instanceof hu)&&(e instanceof Sr||e instanceof hu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function RT(n,e){return n=(0,W.m9)(n),e=(0,W.m9)(e),n instanceof ps&&e instanceof ps&&n.firestore===e.firestore&&su(n._query,e._query)&&n.converter===e.converter}class fD{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new j_(this,"async_queue_retry"),this.Ua=()=>{const t=qg();t&&Et("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=qg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=qg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Xi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,h.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Ql(t))throw t;Et("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Ii("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const o=Q_.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(o),o}qa(){this.Fa&&Wt()}verifyOperationInProgress(){}ja(){var e=this;return(0,h.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function zw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class pD{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jr extends ph{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new fD,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Tv(this),this._firestoreClient.terminate()}}function qi(n){return n._firestoreClient||Tv(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Tv(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new By(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new cD(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Dv(n,e,t){const r=new Xi;return n.asyncQueue.enqueue((0,h.Z)(function*(){try{yield fh(n,t),yield dm(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===qe.FAILED_PRECONDITION||l.code===qe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function Qw(n){if(n._initialized||n._terminated)throw new pt(qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ba{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new pt(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(hi.fromBase64String(e))}catch(t){throw new pt(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tl(hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gh{constructor(e){this._methodName=e}}class Sv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pt(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pt(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qn(this._lat,e._lat)||qn(this._long,e._long)}}const NT=/^__.*__$/;class kT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new jd(e,this.data,this.fieldMask,t,this.fieldTransforms):new fg(e,this.data,t,this.fieldTransforms)}}class Jw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new jd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt()}}class bm{constructor(e,t,r,o,l,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.ec(e),o}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.Ja(),o}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return Im(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(FT(this.Ya)&&NT.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Mv{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||xf(e)}uc(e,t,r,o=!1){return new bm({Ya:e,methodName:t,oc:r,path:cs.emptyPath(),tc:!1,rc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function td(n){const e=n._freezeSettings(),t=xf(n._databaseId);return new Mv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function po(n,e,t,r,o,l={}){const d=n.uc(l.merge||l.mergeFields?2:0,e,t,o);Wf("Data must be an object, but it was:",d,r);const m=eb(r,d);let b,M;if(l.merge)b=new Vl(d.fieldMask),M=d.fieldTransforms;else if(l.mergeFields){const j=[];for(const K of l.mergeFields){const ue=Uo(e,K,t);if(!d.contains(ue))throw new pt(qe.INVALID_ARGUMENT,`Field '${ue}' is specified in your field mask but missing from your input data.`);kv(j,ue)||j.push(ue)}b=new Vl(j),M=d.fieldTransforms.filter(K=>b.covers(K.field))}else b=null,M=d.fieldTransforms;return new kT(new ds(m),b,M)}class zf extends gh{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function Cm(n,e,t){return new bm({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class xv extends gh{_toFieldTransform(e){return new hf(e.path,new Vc)}isEqual(e){return e instanceof xv}}class LT extends gh{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=Cm(this,e,!0),r=this.ac.map(l=>Xl(l,t)),o=new Zl(r);return new hf(e.path,o)}isEqual(e){return this===e}}class Ov extends gh{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=Cm(this,e,!0),r=this.ac.map(l=>Xl(l,t)),o=new Kl(r);return new hf(e.path,o)}isEqual(e){return this===e}}class Xw extends gh{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Uc(e.M,Yy(e.M,this.cc));return new hf(e.path,t)}isEqual(e){return this===e}}function Tm(n,e,t,r){const o=n.uc(1,e,t);Wf("Data must be an object, but it was:",o,r);const l=[],d=ds.empty();Fl(r,(b,M)=>{const j=Nv(e,b,t);M=(0,W.m9)(M);const K=o.nc(j);if(M instanceof zf)l.push(j);else{const ue=Xl(M,K);null!=ue&&(l.push(j),d.set(j,ue))}});const m=new Vl(l);return new Jw(d,m,o.fieldTransforms)}function Rv(n,e,t,r,o,l){const d=n.uc(1,e,t),m=[Uo(e,r,t)],b=[o];if(l.length%2!=0)throw new pt(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ue=0;ue<l.length;ue+=2)m.push(Uo(e,l[ue])),b.push(l[ue+1]);const M=[],j=ds.empty();for(let ue=m.length-1;ue>=0;--ue)if(!kv(M,m[ue])){const Se=m[ue];let Te=b[ue];Te=(0,W.m9)(Te);const Xe=d.nc(Se);if(Te instanceof zf)M.push(Se);else{const mt=Xl(Te,Xe);null!=mt&&(M.push(Se),j.set(Se,mt))}}const K=new Vl(M);return new Jw(j,K,d.fieldTransforms)}function Pv(n,e,t,r=!1){return Xl(t,n.uc(r?4:3,e))}function Xl(n,e){if(tb(n=(0,W.m9)(n)))return Wf("Unsupported field value:",e,n),eb(n,e);if(n instanceof gh)return function(t,r){if(!FT(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const d of t){let m=Xl(d,r.sc(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,W.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yy(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=oi.fromDate(t);return{timestampValue:Wd(r.M,o)}}if(t instanceof oi){const o=new oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wd(r.M,o)}}if(t instanceof Sv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tl)return{bytesValue:o_(r.M,t._byteString)};if(t instanceof Sr){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wg(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${vm(t)}`)}(n,e)}function eb(n,e){const t={};return ru(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fl(n,(r,o)=>{const l=Xl(o,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function tb(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof oi||n instanceof Sv||n instanceof tl||n instanceof Sr||n instanceof gh)}function Wf(n,e,t){if(!tb(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vm(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function Uo(n,e,t){if((e=(0,W.m9)(e))instanceof Ba)return e._internalPath;if("string"==typeof e)return Nv(n,e);throw Im("Field path arguments must be of type string or ",n,!1,void 0,t)}const VT=new RegExp("[~\\*/\\[\\]]");function Nv(n,e,t){if(e.search(VT)>=0)throw Im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ba(...e.split("."))._internalPath}catch(r){throw Im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Im(n,e,t,r,o){const l=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||d)&&(b+=" (found",l&&(b+=` in field ${r}`),d&&(b+=` in document ${o}`),b+=")"),new pt(qe.INVALID_ARGUMENT,m+n+b)}function kv(n,e){return n.some(t=>t.isEqual(e))}class Zf{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new UT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class UT extends Zf{data(){return super.data()}}function Kf(n,e){return"string"==typeof e?Nv(n,e):e instanceof Ba?e._internalPath:e._delegate._internalPath}class nd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ec extends Zf{constructor(e,t,r,o,l,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Kf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mh extends ec{data(e={}){return super.data(e)}}class nl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nd(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mh(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pt(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new mh(r._firestore,r._userDataWriter,d.doc.key,d.doc,new nd(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new mh(r._firestore,r._userDataWriter,d.doc.key,d.doc,new nd(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,M=-1;return 0!==d.type&&(b=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),M=l.indexOf(d.doc.key)),{type:BT(d.type),doc:m,oldIndex:b,newIndex:M}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BT(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt()}}function nb(n,e){return n instanceof ec&&e instanceof ec?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof nl&&e instanceof nl&&n._firestore===e._firestore&&RT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Fv(n){if(ji(n)&&0===n.explicitOrderBy.length)throw new pt(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rd{}function ja(n,...e){for(const t of e)n=t._apply(n);return n}class rb extends rd{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=td(e.firestore),r=function(o,l,d,m,b,M,j){let K;if(b.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new pt(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if("in"===M||"not-in"===M){WT(j,M);const Se=[];for(const Te of j)Se.push(zT(m,o,Te));K={arrayValue:{values:Se}}}else K=zT(m,o,j)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||WT(j,M),K=Pv(d,"where",j,"in"===M||"not-in"===M);const ue=Bi.create(b,M,K);return function(Se,Te){if(Te.S()){const mt=Ud(Se);if(null!==mt&&!mt.isEqual(Te.field))throw new pt(qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${mt.toString()}' and '${Te.field.toString()}'`);const Xt=Zu(Se);null!==Xt&&ZT(0,Te.field,Xt)}const Xe=function(mt,Xt){for(const Ut of mt.filters)if(Xt.indexOf(Ut.op)>=0)return Ut.op;return null}(Se,function(mt){switch(mt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Te.op));if(null!==Xe)throw new pt(qe.INVALID_ARGUMENT,Xe===Te.op?`Invalid query. You cannot use more than one '${Te.op.toString()}' filter.`:`Invalid query. You cannot use '${Te.op.toString()}' filters with '${Xe.toString()}' filters.`)}(o,ue),ue}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new ps(e.firestore,e.converter,function(o,l){const d=o.filters.concat([l]);return new Wu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class ib extends rd{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new pt(qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new pt(qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Oa(o,l);return function(m,b){if(null===Zu(m)){const M=Ud(m);null!==M&&ZT(0,M,b.field)}}(r,d),d}(e._query,this.hc,this.dc);return new ps(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Wu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function Lv(n,e="asc"){const t=e,r=Kf("orderBy",n);return new ib(r,t)}class sb extends rd{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new ps(e.firestore,e.converter,Nc(e._query,this._c,this.wc))}}function ob(n){return Cv("limit",n),new sb("limit",n,"F")}class HT extends rd{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=qT(e,this.type,this.mc,this.gc);return new ps(e.firestore,e.converter,(o=t,new Wu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class ub extends rd{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=qT(e,this.type,this.mc,this.gc);return new ps(e.firestore,e.converter,(o=t,new Wu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function qT(n,e,t,r){if(t[0]=(0,W.m9)(t[0]),t[0]instanceof Zf)return function(o,l,d,m,b){if(!m)throw new pt(qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const M=[];for(const j of ql(o))if(j.field.isKeyField())M.push(Pc(l,m.key));else{const K=m.data.field(j.field);if(sg(K))throw new pt(qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+j.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===K){const ue=j.field.canonicalString();throw new pt(qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ue}' (used as the orderBy) does not exist.`)}M.push(K)}return new xa(M,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=td(n.firestore);return function(l,d,m,b,M,j){const K=l.explicitOrderBy;if(M.length>K.length)throw new pt(qe.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ue=[];for(let Se=0;Se<M.length;Se++){const Te=M[Se];if(K[Se].field.isKeyField()){if("string"!=typeof Te)throw new pt(qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof Te}`);if(!fo(l)&&-1!==Te.indexOf("/"))throw new pt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${Te}' contains a slash.`);const Xe=l.path.child(ir.fromString(Te));if(!Mt.isDocumentKey(Xe))throw new pt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${Xe}' is not because it contains an odd number of segments.`);const mt=new Mt(Xe);ue.push(Pc(d,mt))}else{const Xe=Pv(m,b,Te);ue.push(Xe)}}return new xa(ue,j)}(n._query,n.firestore._databaseId,o,e,t,r)}}function zT(n,e,t){if("string"==typeof(t=(0,W.m9)(t))){if(""===t)throw new pt(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fo(e)&&-1!==t.indexOf("/"))throw new pt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ir.fromString(t));if(!Mt.isDocumentKey(r))throw new pt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pc(n,new Mt(r))}if(t instanceof Sr)return Pc(n,t._key);throw new pt(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(t)}.`)}function WT(n,e){if(!Array.isArray(n)||0===n.length)throw new pt(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new pt(qe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ZT(n,e,t){if(!t.isEqual(e))throw new pt(qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Vv{convertValue(e,t="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wt()}}convertObject(e,t){const r={};return Fl(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new Sv($r(e.latitude),$r(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Uy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const t=Ul(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ir.fromString(e);Mn(p_(r));const o=new zu(r.get(1),r.get(3)),l=new Mt(r.popFirst(5));return o.isEqual(t)||Ii(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function id(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class KT extends Vv{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}}class lb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=td(e)}set(e,t,r){this._verifyNotCommitted();const o=rl(e,this._firestore),l=id(o.converter,t,r),d=po(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,fi.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=rl(e,this._firestore);let d;return d="string"==typeof(t=(0,W.m9)(t))||t instanceof Ba?Rv(this._dataReader,"WriteBatch.update",l._key,t,r,o):Tm(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,fi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rl(e,this._firestore);return this._mutations=this._mutations.concat(new pg(t._key,fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pt(qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rl(n,e){if((n=(0,W.m9)(n)).firestore!==e)throw new pt(qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class tc extends Vv{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}}function Yf(n,e,t){n=er(n,Sr);const r=er(n.firestore,Jr),o=id(n.converter,e,t);return yh(r,[po(td(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,fi.none())])}function QT(n,e,t,...r){n=er(n,Sr);const o=er(n.firestore,Jr),l=td(o);let d;return d="string"==typeof(e=(0,W.m9)(e))||e instanceof Ba?Rv(l,"updateDoc",n._key,e,t,r):Tm(l,"updateDoc",n._key,e),yh(o,[d.toMutation(n._key,fi.exists(!0))])}function JT(n,e){const t=er(n.firestore,Jr),r=qf(n),o=id(n.converter,e);return yh(t,[po(td(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,fi.exists(!1))]).then(()=>r)}function cb(n,...e){var t,r,o;n=(0,W.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||zw(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(zw(e[d])){const K=e[d];e[d]=null===(t=K.next)||void 0===t?void 0:t.bind(K),e[d+1]=null===(r=K.error)||void 0===r?void 0:r.bind(K),e[d+2]=null===(o=K.complete)||void 0===o?void 0:o.bind(K)}let b,M,j;if(n instanceof Sr)M=er(n.firestore,Jr),j=Qs(n._key.path),b={next:K=>{e[d]&&e[d]($v(M,n,K))},error:e[d+1],complete:e[d+2]};else{const K=er(n,ps);M=er(K.firestore,Jr),j=K._query;const ue=new tc(M);b={next:Se=>{e[d]&&e[d](new nl(M,ue,K,Se))},error:e[d+1],complete:e[d+2]},Fv(n._query)}return function(K,ue,Se,Te){const Xe=new ts(Te),mt=new Pf(ue,Xe,Se);return K.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return Tw(yield Gf(K),mt)})),()=>{Xe.pa(),K.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return J_(yield Gf(K),mt)}))}}(qi(M),j,m,b)}function yh(n,e){return function(t,r){const o=new Xi;return t.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function _T(n,e,t){return X_.apply(this,arguments)}(yield $f(t),r,o)})),o.promise}(qi(n),e)}function $v(n,e,t){const r=t.docs.get(e._key),o=new tc(n);return new ec(n,o,e._key,r,new nd(t.hasPendingWrites,t.fromCache),e.converter)}class XT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=td(e)}get(e){const t=rl(e,this._firestore),r=new KT(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Wt();const l=o[0];if(l.isFoundDocument())return new Zf(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Zf(this._firestore,r,t._key,null,t.converter);throw Wt()})}set(e,t,r){const o=rl(e,this._firestore),l=id(o.converter,t,r),d=po(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const l=rl(e,this._firestore);let d;return d="string"==typeof(t=(0,W.m9)(t))||t instanceof Ba?Rv(this._dataReader,"Transaction.update",l._key,t,r,o):Tm(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=rl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=rl(e,this._firestore),r=new tc(this._firestore);return super.get(e).then(o=>new ec(this._firestore,r,t._key,o._document,new nd(!1,!1),t.converter))}}!function(n,e=!0){xc=g.SDK_VERSION,(0,g._registerComponent)(new T.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new Jr(o,new ng(t.getProvider("auth-internal")),new Fy(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,g.registerVersion)(Py,"3.4.7",n),(0,g.registerVersion)(Py,"3.4.7","esm2017")}();var Dm=k(5867),Am=k(424);class Gv{constructor(){this.email="",this.name="",this.lastName=""}}var qv=k(7579),od=k(9646),bD=k(6451),zv=k(5363),fu=k(3900),sI=k(6063);class CD extends qv.x{constructor(e=1/0,t=1/0,r=sI.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!o&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const d=t.now();let m=0;for(let b=1;b<r.length&&r[b]<=d;b+=2)m=b;m&&r.splice(0,m+1)}}}var TD=k(3099);function oI(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,TD.B)({connector:()=>new CD(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}var ID=k(590),DD=k(576);function mb(n,e){return(0,DD.m)(e)?(0,fu.w)(()=>n,e):(0,fu.w)(()=>n)}var yb=k(9468),_b=k(9300),Xr=k(5813),go=k(2011);const Gt=new Map,ht={activated:!1,tokenObservers:[]},sn={initialized:!1,enabled:!1};function cn(n){return Gt.get(n)||ht}function Vn(n,e){Gt.set(n,e)}function Ns(){return sn}class Qv{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,h.Z)(function*(){t.stop();try{t.pending=new W.BH,yield function Jv(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new W.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const gs=new W.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AD(n){if(!cn(n).activated)throw gs.create("use-before-activation",{appName:n.name})}function uI(n,e){return lI.apply(this,arguments)}function lI(){return lI=(0,h.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const K=yield o.getHeartbeatsHeader();K&&(r["X-Firebase-Client"]=K)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,l)}catch(K){throw gs.create("fetch-network-error",{originalErrorMessage:K.message})}if(200!==d.status)throw gs.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(K){throw gs.create("fetch-parse-error",{originalErrorMessage:K.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw gs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const M=1e3*Number(b[1]),j=Date.now();return{token:m.attestationToken,expireTimeMillis:j+M,issuedAtTimeMillis:j}}),lI.apply(this,arguments)}function cS(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const e0="firebase-app-check-store";let wb=null;function MD(){return wb||(wb=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(gs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(e0,{keyPath:"compositeKey"})}}catch(t){e(gs.create("storage-open",{originalErrorMessage:t.message}))}}),wb)}function cI(){return cI=(0,h.Z)(function*(n,e){const r=(yield MD()).transaction(e0,"readwrite"),l=r.objectStore(e0).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=b=>{d()},r.onerror=b=>{var M;m(gs.create("storage-set",{originalErrorMessage:null===(M=b.target.error)||void 0===M?void 0:M.message}))}})}),cI.apply(this,arguments)}const t0=new L.Yd("@firebase/app-check");function PD(n,e){return(0,W.hl)()?function pS(n,e){return function xD(n,e){return cI.apply(this,arguments)}(function RD(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{t0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ND(){return Ns().enabled}function kD(){return pI.apply(this,arguments)}function pI(){return pI=(0,h.Z)(function*(){const n=Ns();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pI.apply(this,arguments)}const ES={error:"UNKNOWN_ERROR"};function wS(n){return W.US.encodeString(JSON.stringify(n),!1)}function bb(n){return gI.apply(this,arguments)}function gI(){return gI=(0,h.Z)(function*(n,e=!1){const t=n.app;AD(t);const r=cn(t);let l,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&Cb(b)&&(o=b)}if(!e&&o&&Cb(o))return{token:o.token};let m,d=!1;if(ND()){r.exchangeTokenPromise||(r.exchangeTokenPromise=uI(cS(t,yield kD()),n.heartbeatServiceProvider).then(M=>(r.exchangeTokenPromise=void 0,M)),d=!0);const b=yield r.exchangeTokenPromise;return yield PD(t,b),Vn(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),d=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?t0.warn(b.message):t0.error(b),l=b}return o?(m={token:o.token},Vn(t,Object.assign(Object.assign({},r),{token:o})),yield PD(t,o)):m=CS(l),d&&LD(t,m),m}),gI.apply(this,arguments)}function yI(n,e){const t=cn(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Vn(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function FD(n){const{app:e}=n,t=cn(e);let r=t.tokenRefresher;r||(r=function bS(n){const{app:e}=n;return new Qv((0,h.Z)(function*(){let r;if(r=cn(e).token?yield bb(n,!0):yield bb(n),r.error)throw r.error}),()=>!0,()=>{const t=cn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Vn(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function LD(n,e){const t=cn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Cb(n){return n.expireTimeMillis-Date.now()>0}function CS(n){return{token:wS(ES),error:n}}class TS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=cn(this.app);for(const t of e)yI(this.app,t.next);return Promise.resolve()}}const qD="app-check-internal";!function VS(){(0,g._registerComponent)(new T.wA("app-check",n=>function IS(n,e){return new TS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qD).initialize()})),(0,g._registerComponent)(new T.wA(qD,n=>function DS(n){return{getToken:e=>bb(n,e),addTokenListener:e=>function mI(n,e,t,r){const{app:o}=n,l=cn(o),d={next:t,error:r,type:e};if(Vn(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&Cb(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),FD(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>FD(n))}(n,"INTERNAL",e),removeTokenListener:e=>yI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,g.registerVersion)("@firebase/app-check","0.5.5")}();class Ib{constructor(){return(0,Xr.vb)("app-check")}}"undefined"!=typeof window&&window;var bI=k(127);const WD=new p.OlP("angularfire2.auth.use-emulator"),ZD=new p.OlP("angularfire2.auth.settings"),KD=new p.OlP("angularfire2.auth.tenant-id"),YD=new p.OlP("angularfire2.auth.langugage-code"),QD=new p.OlP("angularfire2.auth.use-device-language"),JD=new p.OlP("angularfire.auth.persistence"),XD=(n,e,t,r,o,l,d,m)=>(0,go.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,l&&b.useDeviceLanguage(),d)for(const[M,j]of Object.entries(d))b.settings[M]=j;return m&&b.setPersistence(m),b},[t,r,o,l,d,m]);let Db=(()=>{class n{constructor(t,r,o,l,d,m,b,M,j,K,ue,Se){const Te=new qv.x,Xe=(0,od.of)(void 0).pipe((0,zv.Q)(d.outsideAngular),(0,fu.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,at.U)(()=>(0,go.on)(t,l,r)),(0,at.U)(mt=>XD(mt,l,m,M,j,K,b,ue)),oI({bufferSize:1,refCount:!1}));if((0,V.PM)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,od.of)(null);else{Xe.pipe((0,ID.P)()).subscribe();const Xt=Xe.pipe((0,fu.w)(Pt=>Pt.getRedirectResult().then(Cn=>Cn,()=>null)),Xr.iC,oI({bufferSize:1,refCount:!1})),Ut=Xe.pipe((0,fu.w)(Pt=>new de.y(Cn=>({unsubscribe:l.runOutsideAngular(()=>Pt.onAuthStateChanged(on=>Cn.next(on),on=>Cn.error(on),()=>Cn.complete()))})))),dn=Xe.pipe((0,fu.w)(Pt=>new de.y(Cn=>({unsubscribe:l.runOutsideAngular(()=>Pt.onIdTokenChanged(on=>Cn.next(on),on=>Cn.error(on),()=>Cn.complete()))}))));this.authState=Xt.pipe(mb(Ut),(0,yb.R)(d.outsideAngular),(0,zv.Q)(d.insideAngular)),this.user=Xt.pipe(mb(dn),(0,yb.R)(d.outsideAngular),(0,zv.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,fu.w)(Pt=>Pt?(0,le.D)(Pt.getIdToken()):(0,od.of)(null))),this.idTokenResult=this.user.pipe((0,fu.w)(Pt=>Pt?(0,le.D)(Pt.getIdTokenResult()):(0,od.of)(null))),this.credential=(0,bD.T)(Xt,Te,this.authState.pipe((0,_b.h)(Pt=>!Pt))).pipe((0,at.U)(Pt=>(null==Pt?void 0:Pt.user)?Pt:null),(0,yb.R)(d.outsideAngular),(0,zv.Q)(d.insideAngular))}return(0,go.pX)(this,Xe,l,{spy:{apply:(mt,Xt,Ut)=>{(mt.startsWith("signIn")||mt.startsWith("createUser"))&&Ut.then(dn=>Te.next(dn))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(go.Dh),p.LFG(go.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Xr.HU),p.LFG(WD,8),p.LFG(ZD,8),p.LFG(KD,8),p.LFG(YD,8),p.LFG(QD,8),p.LFG(JD,8),p.LFG(Ib,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GS=(()=>{class n{constructor(){bI.Z.registerVersion("angularfire",Xr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[Db]}),n})(),Ab=(()=>{class n{constructor(){}setData(t,r){const o=JSON.stringify(r);localStorage.setItem(t,o)}getData(t){return localStorage.getItem(t)}removeData(t){localStorage.removeItem(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sb=(()=>{class n{constructor(t,r){this.afAuth=t,this.localStorageService=r,this.userLogged=new Gv,this.logged=!1,this.loggedChange=new qv.x,this.loggedChange.subscribe(o=>{this.logged=o})}signIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r)}signUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r)}signOut(){return this.afAuth.signOut()}setLogged(t){this.loggedChange.next(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Db),p.LFG(Ab))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qS(n,e){if(1&n&&(p.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"span",14),p._uU(4),p.qZA(),p.TgZ(5,"p"),p._uU(6),p.qZA(),p.TgZ(7,"span",15),p._uU(8),p.qZA()()()()),2&n){const t=p.oxw().$implicit;p.xp6(4),p.Oqu(t.owner),p.xp6(2),p.Oqu(t.message),p.xp6(2),p.Oqu(t.date)}}function zS(n,e){if(1&n&&(p.TgZ(0,"div")(1,"div",16),p._UZ(2,"img",17),p.qZA(),p.TgZ(3,"div",18)(4,"div",19)(5,"span",14),p._uU(6),p.qZA(),p.TgZ(7,"p"),p._uU(8),p.qZA(),p.TgZ(9,"span",15),p._uU(10),p.qZA()()()()),2&n){const t=p.oxw().$implicit;p.xp6(6),p.Oqu(t.owner),p.xp6(2),p.Oqu(t.message),p.xp6(2),p.Oqu(t.date)}}function WS(n,e){if(1&n&&(p.TgZ(0,"div"),p.YNc(1,qS,9,3,"div",11),p.YNc(2,zS,11,3,"div",11),p.qZA()),2&n){const t=e.$implicit,r=p.oxw();p.xp6(1),p.Q6J("ngIf",t.uid==r.uid),p.xp6(1),p.Q6J("ngIf",t.uid!=r.uid)}}(0,Dm.ZF)(st_firebaseConfig);const eA=function wm(n=(0,g.getApp)()){return(0,g._getProvider)(n,"firestore").getImmediate()}(),ZS=(0,Am.n)();let KS=(()=>{class n{constructor(t,r){this.router=t,this.userService=r,this.messages=[],this.message="",this.uid="",this.chat()}ngOnInit(){}chat(){var t=this;return(0,h.Z)(function*(){(0,Am.t)(ZS,r=>{r?(cb(ja(Em(eA,"messages"),Lv("order","desc"),ob(8)),d=>{t.messages=[],d.forEach(m=>{t.messages.push(m.data())}),t.messages.reverse()}),t.uid=r.uid):console.log("NOT LOGGED IN")})})()}view(){console.log(this.messages)}writeMessage(){var t=this;return(0,h.Z)(function*(){if(""!=t.message){var r=new Date,o=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate(),l=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds();try{const d=yield JT(Em(eA,"messages"),{owner:t.userService.userLogged.name+" "+t.userService.userLogged.lastName,message:t.message,date:o+" "+l,uid:t.uid,order:Date.now()});console.log("Document written with ID: ",d.id)}catch(d){console.error("Error adding document: ",d)}t.message=""}})()}navigateHome(){this.router.navigateByUrl("home")}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(da.F0),p.Y36(Sb))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-chat"]],decls:13,vars:4,consts:[[1,"button_home",3,"click"],[1,"bg-funky"],[1,"container"],[1,"messaging"],[1,"inbox_msg"],[1,"mesgs"],[1,"msg_history"],[4,"ngFor","ngForOf"],[1,"msg-container"],["type","text",1,"msg",3,"disabled","ngModel","ngModelChange"],[1,"button-send",3,"disabled","click"],[4,"ngIf"],[1,"outgoing_msg"],[1,"sent_msg"],[1,"owner_msg"],[1,"time_date"],[1,"incoming_msg_img"],["src","https://ptetutorials.com/images/user-profile.png","alt","sunil"],[1,"received_msg"],[1,"received_withd_msg"]],template:function(t,r){1&t&&(p.TgZ(0,"button",0),p.NdJ("click",function(){return r.navigateHome()}),p._uU(1,"X"),p.qZA(),p.TgZ(2,"body",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),p.YNc(8,WS,3,2,"div",7),p.qZA()()()(),p.TgZ(9,"div",8)(10,"input",9),p.NdJ("ngModelChange",function(l){return r.message=l}),p.qZA(),p.TgZ(11,"button",10),p.NdJ("click",function(){return r.writeMessage()}),p._uU(12,"SEND"),p.qZA()()()()),2&t&&(p.xp6(8),p.Q6J("ngForOf",r.messages),p.xp6(2),p.Q6J("disabled",!r.uid)("ngModel",r.message),p.xp6(1),p.Q6J("disabled",!r.uid))},directives:[V.sg,V.O5,ge,he,li],styles:['body[_ngcontent-%COMP%]{font-family:sans-serif!important}.bg-funky[_ngcontent-%COMP%]{background:#1eb7bd}.container[_ngcontent-%COMP%]{padding:1rem;height:100vh}.heading[_ngcontent-%COMP%]{color:#fff;margin:30px;font-weight:600}img[_ngcontent-%COMP%]{max-width:100%}.inbox_msg[_ngcontent-%COMP%]{border:1px solid #c4c4c4;clear:both;overflow:hidden;height:100%}.top_spac[_ngcontent-%COMP%]{margin:20px 0 0}.recent_heading[_ngcontent-%COMP%]{float:left;width:40%}.headind_srch[_ngcontent-%COMP%]{padding:10px 29px 10px 20px;overflow:hidden;border-bottom:1px solid #c4c4c4}.recent_heading[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#05728f;font-size:21px;margin:auto}.chat_ib[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px;color:#464646;margin:0 0 8px}.chat_ib[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;float:right}.chat_ib[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#989898;margin:auto}.chat_img[_ngcontent-%COMP%]{float:left;width:11%}.chat_ib[_ngcontent-%COMP%]{float:left;padding:0 0 0 15px;width:88%}.chat_people[_ngcontent-%COMP%]{overflow:hidden;clear:both}.chat_list[_ngcontent-%COMP%]{border-bottom:1px solid #c4c4c4;margin:0;padding:18px 16px 10px}.inbox_chat[_ngcontent-%COMP%]{height:550px;overflow-y:scroll}.active_chat[_ngcontent-%COMP%]{background:#ebebeb}.incoming_msg_img[_ngcontent-%COMP%]{display:inline-block;width:6%}.received_msg[_ngcontent-%COMP%]{display:inline-block;padding:0 0 0 10px;vertical-align:top;width:92%}.received_withd_msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#e4e8fb none repeat scroll 0 0;border-radius:3px;color:#646464;font-size:14px;margin:0;padding:5px 10px 5px 12px;width:100%}.time_date[_ngcontent-%COMP%]{color:#747474;display:block;font-size:10px;margin:3px 0 0}.received_withd_msg[_ngcontent-%COMP%]{width:70%}.mesgs[_ngcontent-%COMP%]{float:none;padding:40px}.sent_msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#3F51B5 none repeat scroll 0 0;border-radius:3px;font-size:14px;margin:0;color:#fff;padding:5px 10px 5px 12px;width:100%}.outgoing_msg[_ngcontent-%COMP%]{overflow:hidden;margin:26px 0}.sent_msg[_ngcontent-%COMP%]{float:right;width:70%;text-align:right}.input_msg_write[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,0) none repeat scroll 0 0;border:medium none;color:#4c4c4c;font-size:15px;min-height:48px;width:100%}.type_msg[_ngcontent-%COMP%]{border-top:1px solid #c4c4c4;position:relative}.msg_send_btn[_ngcontent-%COMP%]{background:#05728f none repeat scroll 0 0;border:medium none;border-radius:50%;color:#fff;cursor:pointer;font-size:17px;height:33px;position:absolute;right:0;top:11px;width:33px}.messaging[_ngcontent-%COMP%]{background:#fff;height:90%}.msg_history[_ngcontent-%COMP%]{max-height:516px;overflow-y:auto}.credit[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px}.credit[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:300;letter-spacing:2px;border-bottom:dotted 1px}.msg-container[_ngcontent-%COMP%]{display:flex;padding:.2rem 0rem}.msg[_ngcontent-%COMP%]{width:100%;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-weight:300;font-size:larger}.button-send[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgb(209,213,219);border-radius:.5rem;box-sizing:border-box;color:#111827;font-family:Inter var,ui-sans-serif,system-ui,-apple-system,system-ui,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-size:.875rem;font-weight:600;line-height:1.25rem;padding:.75rem 1rem;text-align:center;-webkit-text-decoration:none #D1D5DB solid;text-decoration:none #D1D5DB solid;text-decoration-thickness:auto;box-shadow:0 1px 2px #0000000d;cursor:pointer;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-send[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.button-send[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}.button-send[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.button_home[_ngcontent-%COMP%]{position:fixed;right:0%;top:0%}']}),n})(),YS=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}navigateUrl(t){this.router.navigateByUrl(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(da.F0))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-error"]],decls:26,vars:0,consts:[["id","svgWrap_2","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 700 250"],["id","id3_2","d","M195.7 232.67h-37.1V149.7H27.76c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98H158.6V29.62h37.1v203.05z"],["id","id2_2","d","M470.69 147.71c0 8.31-1.06 16.17-3.19 23.58-2.12 7.41-5.12 14.28-8.99 20.6-3.87 6.33-8.45 11.99-13.74 16.99-5.29 5-11.07 9.28-17.35 12.81a85.146 85.146 0 0 1-20.04 8.14 83.637 83.637 0 0 1-21.67 2.83H319.3c-7.46 0-14.73-.94-21.81-2.83-7.08-1.89-13.76-4.6-20.04-8.14a88.292 88.292 0 0 1-17.35-12.81c-5.29-5-9.84-10.67-13.66-16.99-3.82-6.32-6.8-13.19-8.92-20.6-2.12-7.41-3.19-15.27-3.19-23.58v-33.13c0-12.46 2.34-23.88 7.01-34.27 4.67-10.38 10.92-19.33 18.76-26.83 7.83-7.5 16.87-13.36 27.12-17.56 10.24-4.2 20.93-6.3 32.07-6.3h66.41c7.36 0 14.58.94 21.67 2.83 7.08 1.89 13.76 4.6 20.04 8.14a88.292 88.292 0 0 1 17.35 12.81c5.29 5 9.86 10.67 13.74 16.99 3.87 6.33 6.87 13.19 8.99 20.6 2.13 7.41 3.19 15.27 3.19 23.58v33.14zm-37.1-33.13c0-7.27-1.32-13.88-3.96-19.82-2.64-5.95-6.16-11.04-10.55-15.29-4.39-4.25-9.46-7.5-15.22-9.77-5.76-2.27-11.8-3.35-18.13-3.26h-66.41c-6.14-.09-12.11.97-17.91 3.19-5.81 2.22-10.95 5.43-15.44 9.63-4.48 4.2-8.07 9.3-10.76 15.29-2.69 6-4.04 12.67-4.04 20.04v33.13c0 7.36 1.32 14.02 3.96 19.97 2.64 5.95 6.18 11.02 10.62 15.22 4.44 4.2 9.56 7.43 15.36 9.7 5.8 2.27 11.87 3.35 18.2 3.26h66.41c7.27 0 13.85-1.2 19.75-3.61s10.93-5.73 15.08-9.98 7.36-9.32 9.63-15.22c2.27-5.9 3.4-12.34 3.4-19.33v-33.15zm-16-26.91a17.89 17.89 0 0 1 2.83 6.73c.47 2.41.47 4.77 0 7.08-.47 2.31-1.39 4.48-2.76 6.51-1.37 2.03-3.14 3.75-5.31 5.17l-99.4 66.41c-1.61 1.23-3.26 2.08-4.96 2.55-1.7.47-3.45.71-5.24.71-3.02 0-5.9-.71-8.64-2.12-2.74-1.42-4.96-3.44-6.66-6.09a17.89 17.89 0 0 1-2.83-6.73c-.47-2.41-.5-4.77-.07-7.08.43-2.31 1.3-4.48 2.62-6.51 1.32-2.03 3.07-3.75 5.24-5.17l99.69-66.41a17.89 17.89 0 0 1 6.73-2.83c2.41-.47 4.77-.47 7.08 0 2.31.47 4.48 1.37 6.51 2.69 2.03 1.32 3.75 3.02 5.17 5.09z"],["id","id1_2","d","M688.33 232.67h-37.1V149.7H520.39c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98h112.57V29.62h37.1v203.05z"],["id","svgWrap_1","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 700 250"],["id","id3_1","d","M195.7 232.67h-37.1V149.7H27.76c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98H158.6V29.62h37.1v203.05z"],["id","id2_1","d","M470.69 147.71c0 8.31-1.06 16.17-3.19 23.58-2.12 7.41-5.12 14.28-8.99 20.6-3.87 6.33-8.45 11.99-13.74 16.99-5.29 5-11.07 9.28-17.35 12.81a85.146 85.146 0 0 1-20.04 8.14 83.637 83.637 0 0 1-21.67 2.83H319.3c-7.46 0-14.73-.94-21.81-2.83-7.08-1.89-13.76-4.6-20.04-8.14a88.292 88.292 0 0 1-17.35-12.81c-5.29-5-9.84-10.67-13.66-16.99-3.82-6.32-6.8-13.19-8.92-20.6-2.12-7.41-3.19-15.27-3.19-23.58v-33.13c0-12.46 2.34-23.88 7.01-34.27 4.67-10.38 10.92-19.33 18.76-26.83 7.83-7.5 16.87-13.36 27.12-17.56 10.24-4.2 20.93-6.3 32.07-6.3h66.41c7.36 0 14.58.94 21.67 2.83 7.08 1.89 13.76 4.6 20.04 8.14a88.292 88.292 0 0 1 17.35 12.81c5.29 5 9.86 10.67 13.74 16.99 3.87 6.33 6.87 13.19 8.99 20.6 2.13 7.41 3.19 15.27 3.19 23.58v33.14zm-37.1-33.13c0-7.27-1.32-13.88-3.96-19.82-2.64-5.95-6.16-11.04-10.55-15.29-4.39-4.25-9.46-7.5-15.22-9.77-5.76-2.27-11.8-3.35-18.13-3.26h-66.41c-6.14-.09-12.11.97-17.91 3.19-5.81 2.22-10.95 5.43-15.44 9.63-4.48 4.2-8.07 9.3-10.76 15.29-2.69 6-4.04 12.67-4.04 20.04v33.13c0 7.36 1.32 14.02 3.96 19.97 2.64 5.95 6.18 11.02 10.62 15.22 4.44 4.2 9.56 7.43 15.36 9.7 5.8 2.27 11.87 3.35 18.2 3.26h66.41c7.27 0 13.85-1.2 19.75-3.61s10.93-5.73 15.08-9.98 7.36-9.32 9.63-15.22c2.27-5.9 3.4-12.34 3.4-19.33v-33.15zm-16-26.91a17.89 17.89 0 0 1 2.83 6.73c.47 2.41.47 4.77 0 7.08-.47 2.31-1.39 4.48-2.76 6.51-1.37 2.03-3.14 3.75-5.31 5.17l-99.4 66.41c-1.61 1.23-3.26 2.08-4.96 2.55-1.7.47-3.45.71-5.24.71-3.02 0-5.9-.71-8.64-2.12-2.74-1.42-4.96-3.44-6.66-6.09a17.89 17.89 0 0 1-2.83-6.73c-.47-2.41-.5-4.77-.07-7.08.43-2.31 1.3-4.48 2.62-6.51 1.32-2.03 3.07-3.75 5.24-5.17l99.69-66.41a17.89 17.89 0 0 1 6.73-2.83c2.41-.47 4.77-.47 7.08 0 2.31.47 4.48 1.37 6.51 2.69 2.03 1.32 3.75 3.02 5.17 5.09z"],["id","id1_1","d","M688.33 232.67h-37.1V149.7H520.39c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98h112.57V29.62h37.1v203.05z"],["id","glow"],["result","coloredBlur","stddeviation","4",1,"blur"],["in","coloredBlur"],["in","SourceGraphic"],[1,"buttonHome",3,"click"],[1,"shadow"],[1,"edge"],[1,"front","text"]],template:function(t,r){1&t&&(p.TgZ(0,"body"),p._UZ(1,"div"),p.O4$(),p.TgZ(2,"svg",0)(3,"g"),p._UZ(4,"path",1)(5,"path",2)(6,"path",3),p.qZA()(),p.TgZ(7,"svg",4)(8,"g"),p._UZ(9,"path",5)(10,"path",6)(11,"path",7),p.qZA()(),p.TgZ(12,"svg")(13,"defs")(14,"filter",8),p._UZ(15,"fegaussianblur",9),p.TgZ(16,"femerge"),p._UZ(17,"femergenode",10)(18,"femergenode",11),p.qZA()()()(),p.kcU(),p.TgZ(19,"h2"),p._uU(20,"Page Not Found"),p.qZA(),p.TgZ(21,"button",12),p.NdJ("click",function(){return r.navigateUrl("home")}),p._UZ(22,"span",13)(23,"span",14),p.TgZ(24,"span",15),p._uU(25," Home "),p.qZA()()())},styles:['@import"https://fonts.googleapis.com/css?family=Audiowide&display=swap";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;overflow:hidden}div[_ngcontent-%COMP%]{position:absolute;top:0%;left:0%;height:100%;width:100%;margin:0;background:radial-gradient(circle,#240015 0%,#12000b 100%);overflow:hidden}.wrap[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:150px;font-size:32px;text-transform:uppercase;transform:translate(-50%,-50%);display:block;color:#12000a;font-weight:300;font-family:Audiowide;text-shadow:0px 0px 4px #12000a;animation:fadeInText 3s ease-in 3.5s forwards,flicker4 5s linear 7.5s infinite,hueRotate 6s ease-in-out 3s infinite}h3[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:190px;font-size:34px;text-transform:uppercase;transform:translate(-50%,-50%);display:block;color:#d60176;font-weight:300;font-family:Audiowide;text-shadow:0px 0px 4px #12000a}button[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:210px;font-size:34px;text-transform:uppercase;transform:translate(-50%,-50%);border:none;background:transparent;padding:0;cursor:pointer;outline-offset:4px;transition:filter .25s;-webkit-user-select:none;user-select:none;touch-action:manipulation}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:12px;background:hsl(0deg 0% 0% / .25);will-change:transform;transform:translateY(2px);transition:transform .6s cubic-bezier(.3,.7,.4,1)}.edge[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:12px;background:linear-gradient(to left,hsl(340deg 100% 16%) 0%,hsl(340deg 100% 32%) 8%,hsl(340deg 100% 32%) 92%,hsl(340deg 100% 16%) 100%)}.front[_ngcontent-%COMP%]{display:block;position:relative;padding:12px 27px;border-radius:12px;font-size:1.1rem;color:#fff;background:hsl(345deg 100% 47%);will-change:transform;transform:translateY(-4px);transition:transform .6s cubic-bezier(.3,.7,.4,1)}button[_ngcontent-%COMP%]:hover{filter:brightness(110%)}button[_ngcontent-%COMP%]:hover   .front[_ngcontent-%COMP%]{transform:translateY(-6px);transition:transform .25s cubic-bezier(.3,.7,.4,1.5)}button[_ngcontent-%COMP%]:active   .front[_ngcontent-%COMP%]{transform:translateY(-2px);transition:transform 34ms}button[_ngcontent-%COMP%]:hover   .shadow[_ngcontent-%COMP%]{transform:translateY(4px);transition:transform .25s cubic-bezier(.3,.7,.4,1.5)}button[_ngcontent-%COMP%]:active   .shadow[_ngcontent-%COMP%]{transform:translateY(1px);transition:transform 34ms}button[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}#svgWrap_1[_ngcontent-%COMP%], #svgWrap_2[_ngcontent-%COMP%]{position:absolute;height:auto;width:600px;max-width:100%;top:50%;left:50%;transform:translate(-50%,-50%)}#svgWrap_1[_ngcontent-%COMP%], #svgWrap_2[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{animation:hueRotate 6s ease-in-out 3s infinite}#id1_1[_ngcontent-%COMP%], #id2_1[_ngcontent-%COMP%], #id3_1[_ngcontent-%COMP%]{stroke:#ff005d;stroke-width:3px;fill:transparent}#id1_2[_ngcontent-%COMP%], #id2_2[_ngcontent-%COMP%], #id3_2[_ngcontent-%COMP%]{stroke:#12000a;stroke-width:3px;fill:transparent;filter:url(#glow)}#id3_1[_ngcontent-%COMP%]{stroke-dasharray:940px;stroke-dashoffset:-940px;animation:drawLine3 2.5s ease-in-out 0s forwards,flicker3 4s linear 4s infinite}#id2_1[_ngcontent-%COMP%]{stroke-dasharray:735px;stroke-dashoffset:-735px;animation:drawLine2 2.5s ease-in-out .5s forwards,flicker2 4s linear 4.5s infinite}#id1_1[_ngcontent-%COMP%]{stroke-dasharray:940px;stroke-dashoffset:-940px;animation:drawLine1 2.5s ease-in-out 1s forwards,flicker1 4s linear 5s infinite}@keyframes drawLine1{0%{stroke-dashoffset:-940px}to{stroke-dashoffset:0px}}@keyframes drawLine2{0%{stroke-dashoffset:-735px}to{stroke-dashoffset:0px}}@keyframes drawLine3{0%{stroke-dashoffset:-940px}to{stroke-dashoffset:0px}}@keyframes flicker1{0%{stroke:#ff005d}1%{stroke:transparent}3%{stroke:transparent}4%{stroke:#ff005d}6%{stroke:#ff005d}7%{stroke:transparent}13%{stroke:transparent}14%{stroke:#ff005d}to{stroke:#ff005d}}@keyframes flicker2{0%{stroke:#ff005d}50%{stroke:#ff005d}51%{stroke:transparent}61%{stroke:transparent}62%{stroke:#ff005d}to{stroke:#ff005d}}@keyframes flicker3{0%{stroke:#ff005d}1%{stroke:transparent}10%{stroke:transparent}11%{stroke:#ff005d}40%{stroke:#ff005d}41%{stroke:transparent}45%{stroke:transparent}46%{stroke:#ff005d}to{stroke:#ff005d}}@keyframes flicker4{0%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}30%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}31%{color:#12000a;text-shadow:0px 0px 4px #12000a}32%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}36%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}37%{color:#12000a;text-shadow:0px 0px 4px #12000a}41%{color:#12000a;text-shadow:0px 0px 4px #12000a}42%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}85%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}86%{color:#12000a;text-shadow:0px 0px 4px #12000a}95%{color:#12000a;text-shadow:0px 0px 4px #12000a}96%{color:#ff005d;text-shadow:0px 0px 4px #ff005d}to{color:#ff005d;text-shadow:0px 0px 4px #ff005d}}@keyframes fadeInText{1%{color:#12000a;text-shadow:0px 0px 4px #12000a}70%{color:#ff005d;text-shadow:0px 0px 14px #ff005d}to{color:#ff005d;text-shadow:0px 0px 4px #ff005d}}@keyframes hueRotate{0%{filter:hue-rotate(0deg)}50%{filter:hue-rotate(-120deg)}to{filter:hue-rotate(0deg)}}']}),n})();var QS=k(8263),tA=k(4986),CI=k(8675),TI=k(4482);function II(){return(0,TI.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ae.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}var DI=k(5026),JS=k(4671);function e1(n,e){return n===e}k(5881);var nA=k(3942);function AI(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new pt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function rA(){if("undefined"==typeof Uint8Array)throw new pt("unimplemented","Uint8Arrays are not available in this environment.")}function iA(){if(!function X0(){return"undefined"!=typeof atob}())throw new pt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class n0{constructor(e){this._delegate=e}static fromBase64String(e){return iA(),new n0(tl.fromBase64String(e))}static fromUint8Array(e){return rA(),new n0(tl.fromUint8Array(e))}toBase64(){return iA(),this._delegate.toBase64()}toUint8Array(){return rA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SI(n){return function r1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class i1{enableIndexedDbPersistence(e,t){return function Iv(n,e){Qw(n=er(n,Jr));const t=qi(n),r=n._freezeSettings(),o=new cm;return Dv(t,o,new hv(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ww(n){Qw(n=er(n,Jr));const e=qi(n),t=n._freezeSettings(),r=new cm;return Dv(e,r,new TT(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mD(n){if(n._initialized&&!n._terminated)throw new pt(qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{yield(t=(0,h.Z)(function*(r){if(!ga.vt())return Promise.resolve();const o=r+"main";yield ga.delete(o)}),function(r){return t.apply(this,arguments)})(Kc(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class sA{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof zu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ho("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function qw(n,e,t,r={}){var o;const l=(n=er(n,ph))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&ho("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=ls.MOCK_USER;else{d=(0,W.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new pt(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ls(b)}n._authCredentials=new lC(new tg(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function Zw(n){return function AT(n){return n.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield yv(n),t=yield Hf(n);return e.setNetworkEnabled(!0),function(r){const o=kt(r);return o.lu.delete(0),rh(o)}(t)}))}(qi(n=er(n,Jr)))}(this._delegate)}disableNetwork(){return function Kw(n){return function Hw(n){return n.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield yv(n),t=yield Hf(n);return e.setNetworkEnabled(!1),(r=(0,h.Z)(function*(o){const l=kt(o);l.lu.add(0),yield ih(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(qi(n=er(n,Jr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$w("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Av(n){return function(e){const t=new Xi;return e.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function ET(n,e){return Ff.apply(this,arguments)}(yield $f(e),t)})),t.promise}(qi(n=er(n,Jr)))}(this._delegate)}onSnapshotsInSync(e){return function db(n,e){return function vv(n,e){const t=new ts(e);return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return r=yield Gf(n),o=t,kt(r).Tu.add(o),void o.next();var r,o})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return r=yield Gf(n),o=t,void kt(r).Tu.delete(o);var r,o}))}}(qi(n=er(n,Jr)),zw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new pt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Mm(this,Em(this._delegate,e))}catch(t){throw Bo(t,"collection()","Firestore.collection()")}}doc(e){try{return new pu(this,qf(this._delegate,e))}catch(t){throw Bo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new jo(this,function hD(n,e){if(n=er(n,ph),_m("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new pt(qe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ps(n,null,(t=e,new Wu(ir.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function eI(n,e){return function dD(n,e){const t=new Xi;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){const r=yield(o=n,fm(o).then(l=>l.datastore));var o;new DT(n.asyncQueue,r,e,t).run()})),t.promise}(qi(n=er(n,Jr)),t=>e(new XT(n,t)))}(this._delegate,t=>e(new oA(this,t)))}batch(){return qi(this._delegate),new aA(new lb(this._delegate,e=>yh(this._delegate,e)))}loadBundle(e){return function yD(n,e){const t=qi(n=er(n,Jr)),r=new pD;return function MT(n,e,t,r){const o=function(l,d){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,M){if(b instanceof Uint8Array)return fv(b,M);if(b instanceof ArrayBuffer)return fv(new Uint8Array(b),M);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new hh(b,d);var b}(t,xf(e));n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){!function CT(n,e,t){const r=kt(n);var o;(o=(0,h.Z)(function*(l,d,m){try{const b=yield d.getMetadata();if(yield function(ue,Se){const Te=kt(ue),Xe=Hi(Se.createTime);return Te.persistence.runTransaction("hasNewerBundle","readonly",mt=>Te.ds.getBundleMetadata(mt,Se.id)).then(mt=>!!mt&&mt.createTime.compareTo(Xe)>=0)}(l.localStore,b))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(ue=b).totalDocuments,bytesLoaded:ue.totalBytes,totalDocuments:ue.totalDocuments,totalBytes:ue.totalBytes}),Promise.resolve(new Set);m._updateProgress(Sw(b));const M=new pT(b,l.localStore,d.M);let j=yield d.fa();for(;j;){const ue=yield M.Nu(j);ue&&m._updateProgress(ue),j=yield d.fa()}const K=yield M.complete();return yield el(l,K.Ou,void 0),yield function(ue,Se){const Te=kt(ue);return Te.persistence.runTransaction("Save bundle","readwrite",Xe=>Te.ds.saveBundleMetadata(Xe,Se))}(l.localStore,b),m._completeWith(K.progress),Promise.resolve(K.Mu)}catch(b){return ho("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b),Promise.resolve(new Set)}var ue}),function(l,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield $f(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Yw(n,e){return function xT(n,e){return n.asyncQueue.enqueue((0,h.Z)(function*(){return function(t,r){const o=kt(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.ds.getNamedQuery(l,r))}(yield pm(n),e)}))}(qi(n=er(n,Jr)),e).then(t=>t?new ps(n,null,t.query):null)}(this._delegate,e).then(t=>t?new jo(this,t):null)}}class Mb extends Vv{constructor(e){super(),this.firestore=e}convertBytes(e){return new n0(new tl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pu.forKey(t,this.firestore,null)}}class oA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Mb(e)}get(e){const t=Jf(e);return this._delegate.get(t).then(r=>new r0(this._firestore,new ec(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Jf(e);return r?(AI("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Jf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Jf(e);return this._delegate.delete(t),this}}class aA{constructor(e){this._delegate=e}set(e,t,r){const o=Jf(e);return r?(AI("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Jf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Jf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new mh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new s0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Qf.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Qf(e,new Mb(e),t),o.set(t,l)),l}}Qf.INSTANCES=new WeakMap;class pu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new pt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pu(t,new Sr(t._delegate,r,new Mt(e)))}static forKey(e,t,r){return new pu(t,new Sr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Mm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Mm(this.firestore,Em(this._delegate,e))}catch(t){throw Bo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,W.m9)(e))instanceof Sr&&OT(this._delegate,e)}set(e,t){t=AI("DocumentReference.set",t);try{return t?Yf(this._delegate,e,t):Yf(this._delegate,e)}catch(r){throw Bo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?QT(this._delegate,e):QT(this._delegate,e,t,...r)}catch(o){throw Bo(o,"updateDoc()","DocumentReference.update()")}}delete(){return function wD(n){return yh(er(n.firestore,Jr),[new pg(n._key,fi.none())])}(this._delegate)}onSnapshot(...e){const t=uA(e),r=lA(e,o=>new r0(this.firestore,new ec(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return cb(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Uv(n){n=er(n,Sr);const e=er(n.firestore,Jr),t=qi(e),r=new tc(e);return function mm(n,e){const t=new Xi;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(r=(0,h.Z)(function*(o,l,d){try{const m=yield function(b,M){const j=kt(b);return j.persistence.runTransaction("read document","readonly",K=>j.ai.Bs(K,M))}(o,l);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new pt(qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Rf(m,`Failed to get document '${l} from cache`);d.reject(b)}}),function(o,l,d){return r.apply(this,arguments)})(yield pm(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ec(e,r,n._key,o,new nd(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Bv(n){n=er(n,Sr);const e=er(n.firestore,Jr);return _v(qi(e),n._key,{source:"server"}).then(t=>$v(e,n,t))}(this._delegate):function sd(n){n=er(n,Sr);const e=er(n.firestore,Jr);return _v(qi(e),n._key).then(t=>$v(e,n,t))}(this._delegate),t.then(r=>new r0(this.firestore,new ec(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pu(this.firestore,this._delegate.withConverter(e?Qf.getInstance(this.firestore,e):null))}}function Bo(n,e,t){return n.message=n.message.replace(e,t),n}function uA(n){for(const e of n)if("object"==typeof e&&!SI(e))return e;return{}}function lA(n,e){var t,r;let o;return o=SI(n[0])?n[0]:SI(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class r0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nb(this._delegate,e._delegate)}}class s0 extends r0{data(e){const t=this._delegate.data(e);return function JI(n,e){n||Wt()}(void 0!==t),t}}class jo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Mb(e)}where(e,t,r){try{return new jo(this.firestore,ja(this._delegate,function jT(n,e,t){const r=e,o=Kf("where",n);return new rb(o,r,t)}(e,t,r)))}catch(o){throw Bo(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new jo(this.firestore,ja(this._delegate,Lv(e,t)))}catch(r){throw Bo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new jo(this.firestore,ja(this._delegate,ob(e)))}catch(t){throw Bo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new jo(this.firestore,ja(this._delegate,function vD(n){return Cv("limitToLast",n),new sb("limitToLast",n,"L")}(e)))}catch(t){throw Bo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new jo(this.firestore,ja(this._delegate,function ab(...n){return new HT("startAt",n,!0)}(...e)))}catch(t){throw Bo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new jo(this.firestore,ja(this._delegate,function $T(...n){return new HT("startAfter",n,!1)}(...e)))}catch(t){throw Bo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new jo(this.firestore,ja(this._delegate,function GT(...n){return new ub("endBefore",n,!1)}(...e)))}catch(t){throw Bo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new jo(this.firestore,ja(this._delegate,function ED(...n){return new ub("endAt",n,!0)}(...e)))}catch(t){throw Bo(t,"endAt()","Query.endAt()")}}isEqual(e){return RT(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function jv(n){n=er(n,ps);const e=er(n.firestore,Jr),t=qi(e),r=new tc(e);return function ST(n,e){const t=new Xi;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(r=(0,h.Z)(function*(o,l,d){try{const m=yield Df(o,l,!0),b=new Ow(l,m.hi),M=b.Gu(m.documents),j=b.applyChanges(M,!1);d.resolve(j.snapshot)}catch(m){const b=Rf(m,`Failed to execute query '${l} against cache`);d.reject(b)}}),function(o,l,d){return r.apply(this,arguments)})(yield pm(n),e,t);var r})),t.promise}(t,n._query).then(o=>new nl(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function Hv(n){n=er(n,ps);const e=er(n.firestore,Jr),t=qi(e),r=new tc(e);return ym(t,n._query,{source:"server"}).then(o=>new nl(e,r,n,o))}(this._delegate):function YT(n){n=er(n,ps);const e=er(n.firestore,Jr),t=qi(e),r=new tc(e);return Fv(n._query),ym(t,n._query).then(o=>new nl(e,r,n,o))}(this._delegate),t.then(r=>new MI(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uA(e),r=lA(e,o=>new MI(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return cb(this._delegate,t,r)}withConverter(e){return new jo(this.firestore,this._delegate.withConverter(e?Qf.getInstance(this.firestore,e):null))}}class o1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new s0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class MI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new jo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new s0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new o1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new s0(this._firestore,r))})}isEqual(e){return nb(this._delegate,e._delegate)}}class Mm extends jo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pu(this.firestore,e):null}doc(e){try{return new pu(this.firestore,void 0===e?qf(this._delegate):qf(this._delegate,e))}catch(t){throw Bo(t,"doc()","CollectionReference.doc()")}}add(e){return JT(this._delegate,e).then(t=>new pu(this.firestore,t))}isEqual(e){return OT(this._delegate,e._delegate)}withConverter(e){return new Mm(this.firestore,this._delegate.withConverter(e?Qf.getInstance(this.firestore,e):null))}}function Jf(n){return er(n,Sr)}class xI{constructor(...e){this._delegate=new Ba(...e)}static documentId(){return new xI(cs.keyField().canonicalString())}isEqual(e){return(e=(0,W.m9)(e))instanceof Ba&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fb(){return new xv("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xf(e)}static delete(){const e=function hb(){return new zf("deleteField")}();return e._methodName="FieldValue.delete",new Xf(e)}static arrayUnion(...e){const t=function pb(...n){return new LT("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xf(t)}static arrayRemove(...e){const t=function tI(...n){return new Ov("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xf(t)}static increment(e){const t=function nI(n){return new Xw("increment",n)}(e);return t._methodName="FieldValue.increment",new Xf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const a1={Firestore:sA,GeoPoint:Sv,Timestamp:oi,Blob:n0,Transaction:oA,WriteBatch:aA,DocumentReference:pu,DocumentSnapshot:r0,Query:jo,QueryDocumentSnapshot:s0,QuerySnapshot:MI,CollectionReference:Mm,FieldPath:xI,FieldValue:Xf,setLogLevel:function s1(n){!function J0(n){kl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function cA(n,e){return function c1(n,e=tA.z){return new de.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function OI(n,e){return cA(n,e).pipe((0,at.U)(t=>({payload:t,type:"query"})))}function xb(n,e){return OI(n,e).pipe((0,CI.O)(void 0),II(),(0,at.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const b=o.find(j=>j.doc.ref.isEqual(d.ref)),M=null==t?void 0:t.payload.docs.find(j=>j.ref.isEqual(d.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(d.metadata)||!b&&M&&JSON.stringify(M.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),l}))}function dA(n,e,t){return xb(n,t).pipe((0,DI.R)((r,o)=>function h1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function f1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return RI(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return RI(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return RI(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function XS(n,e=JS.y){return n=null!=n?n:e1,(0,TI.e)((t,r)=>{let o,l=!0;t.subscribe((0,Ae.x)(r,d=>{const m=e(d);(l||!n(o,m))&&(l=!1,o=m,r.next(d))}))})}(),(0,at.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function RI(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function hA(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function l1(n){(function u1(n,e){n.INTERNAL.registerComponent(new T.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},a1)))})(n,(e,t)=>new sA(e,t,new i1)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(nA.Z);class fA{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=xb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,at.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe((0,CI.O)(void 0),II(),(0,_b.h)(([r,o])=>o.length>0||!r),(0,at.U)(([r,o])=>o),Xr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,DI.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=hA(e);return dA(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(e={}){return OI(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Xr.iC)}get(e){return(0,le.D)(this.query.get(e)).pipe(Xr.iC)}add(e){return this.ref.add(e)}doc(e){return new pA(this.ref.doc(e),this.afs)}}class pA{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=yA(r,t);return new fA(o,l,this.afs)}snapshotChanges(){return function d1(n,e){return cA(n,e).pipe((0,CI.O)(void 0),II(),(0,at.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,at.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,le.D)(this.ref.get(e)).pipe(Xr.iC)}}class p1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?xb(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,_b.h)(t=>t.length>0),Xr.iC):xb(this.query,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,DI.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=hA(e);return dA(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(e={}){return OI(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Xr.iC)}get(e){return(0,le.D)(this.query.get(e)).pipe(Xr.iC)}}const gA=new p.OlP("angularfire2.enableFirestorePersistence"),mA=new p.OlP("angularfire2.firestore.persistenceSettings"),g1=new p.OlP("angularfire2.firestore.settings"),m1=new p.OlP("angularfire2.firestore.use-emulator");function yA(n,e=(t=>t)){return{query:e(n),ref:n}}let _A=(()=>{class n{constructor(t,r,o,l,d,m,b,M,j,K,ue,Se,Te,Xe,mt,Xt,Ut){this.schedulers=b;const dn=(0,go.on)(t,m,r),Pt=j;K&&XD(dn,m,ue,Te,Xe,mt,Se,Xt),[this.firestore,this.persistenceEnabled$]=(0,go.cc)(`${dn.name}.firestore`,"AngularFirestore",dn.name,()=>{const Cn=m.runOutsideAngular(()=>dn.firestore());if(l&&Cn.settings(l),Pt&&Cn.useEmulator(...Pt),o&&!(0,V.PM)(d)){const on=()=>{try{return(0,le.D)(Cn.enablePersistence(M||void 0).then(()=>!0,()=>!1))}catch(_r){return"undefined"!=typeof console&&console.warn(_r),(0,od.of)(!1)}};return[Cn,m.runOutsideAngular(on)]}return[Cn,(0,od.of)(!1)]},[l,Pt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=yA(o,r),m=this.schedulers.ngZone.run(()=>l);return new fA(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),l=this.firestore.collectionGroup(t);return new p1(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new pA(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(go.Dh),p.LFG(go.xv,8),p.LFG(gA,8),p.LFG(g1,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Xr.HU),p.LFG(mA,8),p.LFG(m1,8),p.LFG(Db,8),p.LFG(WD,8),p.LFG(ZD,8),p.LFG(KD,8),p.LFG(YD,8),p.LFG(QD,8),p.LFG(JD,8),p.LFG(Ib,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),y1=(()=>{class n{constructor(){bI.Z.registerVersion("angularfire",Xr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:gA,useValue:!0},{provide:mA,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[_A]}),n})(),vA=(()=>{class n{constructor(t){this.db=t,this.ingresosRef=this.db.collection("ingresos"),this.usuariosRef=this.db.collection("usuarios"),this.puntajesRef=this.db.collection("puntajes")}crearIngreso(t){var r=new Date;return this.ingresosRef.add({email:t.email,fecha:r})}crearPuntaje(t,r){var o=new Date;return this.puntajesRef.add({email:t.email,fecha:o,puntaje:r})}crearUsuario(t){return this.usuariosRef.add(Object.assign({},t))}obtenerIngreso(){return this.ingresosRef.valueChanges()}update(t,r){return this.ingresosRef.doc(t).update(r)}delete(t){return this.ingresosRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(_A))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _1=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(t,r,o,l,d){this.toastr=t,this.router=r,this.userFire=o,this.userAuthService=l,this.localStorageService=d,this.user=new Gv,this.password=""}ngOnInit(){}fastLogIn(){this.user.email="ingresorapido@test.com",this.password="123456"}showSuccess(){this.toastr.success("Ingreso correcto!")}showError(t){this.toastr.error("Error: "+t)}logIn(){this.userAuthService.signIn(this.user.email,this.password).then(t=>{this.userFire.crearIngreso(this.user).then(r=>{this.userAuthService.userLogged=this.user,this.userAuthService.setLogged(!0),this.localStorageService.setData("userEmail",this.user.email),this.showSuccess(),setTimeout(()=>{this.router.navigateByUrl("home")},1e3)})}).catch(t=>{this.showError(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(ro._W),p.Y36(da.F0),p.Y36(vA),p.Y36(Sb),p.Y36(Ab))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:2,consts:[[1,"text-center"],[1,"form-signin"],["src","../../../favicon.ico","alt","","width","72","height","72",1,"mb-4"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"w-100","mb-2","btn","btn-lg","btn-primary",3,"click"],[1,"w-100","mb-4","btn","btn-lg","btn-primary",3,"click"],["routerLink","/register"],[1,"mt-5","mb-3","text-muted"]],template:function(t,r){1&t&&(p.TgZ(0,"body",0)(1,"main",1),p._UZ(2,"img",2),p.TgZ(3,"h1",3),p._uU(4,"Sala de Juegos"),p.qZA(),p.TgZ(5,"div",4)(6,"input",5),p.NdJ("ngModelChange",function(l){return r.user.email=l}),p.qZA(),p.TgZ(7,"label",6),p._uU(8,"Email"),p.qZA()(),p.TgZ(9,"div",4)(10,"input",7),p.NdJ("ngModelChange",function(l){return r.password=l}),p.qZA(),p.TgZ(11,"label",8),p._uU(12,"Contrase\xf1a"),p.qZA()(),p.TgZ(13,"button",9),p.NdJ("click",function(){return r.logIn()}),p._uU(14,"Ingreso"),p.qZA(),p.TgZ(15,"button",10),p.NdJ("click",function(){return r.fastLogIn()}),p._uU(16,"Ingreso Rapido"),p.qZA(),p.TgZ(17,"a",11),p._uU(18,"Registrarse"),p.qZA(),p.TgZ(19,"p",12),p._uU(20,"\xa9 Ezequiel Archilla 2022"),p.qZA()()()),2&t&&(p.xp6(6),p.Q6J("ngModel",r.user.email),p.xp6(4),p.Q6J("ngModel",r.password))},directives:[ge,he,li,da.yS],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),n})()},{path:"register",component:(()=>{class n{constructor(t,r,o,l,d){this.toastr=t,this.router=r,this.userAuthService=o,this.userFire=l,this.localStorageService=d,this.user=new Gv,this.password=""}ngOnInit(){}showSuccess(){this.toastr.success("Registrado correcto!")}showError(t){this.toastr.error("Error: "+t)}signUp(){this.userAuthService.signUp(this.user.email,this.password).then(t=>{this.userFire.crearUsuario(this.user),this.userAuthService.userLogged=this.user,this.userAuthService.setLogged(!0),this.localStorageService.setData("userEmail",this.user.email),this.showSuccess(),setTimeout(()=>{this.router.navigateByUrl("/home")},1e3)}).catch(t=>{this.showError(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(ro._W),p.Y36(da.F0),p.Y36(Sb),p.Y36(vA),p.Y36(Ab))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-register"]],decls:26,vars:4,consts:[[1,"text-center"],[1,"form-signin"],["src","../../../favicon.ico","alt","","width","72","height","72",1,"mb-4"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],[2,"display","flex"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"w-100","btn","btn-lg","btn-primary",3,"click"],[1,"mt-5","mb-3","text-muted"]],template:function(t,r){1&t&&(p.TgZ(0,"body",0)(1,"main",1),p._UZ(2,"img",2),p.TgZ(3,"h1",3),p._uU(4,"Sala de Juegos"),p.qZA(),p.TgZ(5,"div",4)(6,"input",5),p.NdJ("ngModelChange",function(l){return r.user.email=l}),p.qZA(),p.TgZ(7,"label",6),p._uU(8,"Email"),p.qZA()(),p.TgZ(9,"div",7)(10,"div",4)(11,"input",8),p.NdJ("ngModelChange",function(l){return r.user.name=l}),p.qZA(),p.TgZ(12,"label",6),p._uU(13,"Nombre"),p.qZA()(),p.TgZ(14,"div",4)(15,"input",8),p.NdJ("ngModelChange",function(l){return r.user.lastName=l}),p.qZA(),p.TgZ(16,"label",6),p._uU(17,"Apellido"),p.qZA()()(),p.TgZ(18,"div",4)(19,"input",9),p.NdJ("ngModelChange",function(l){return r.password=l}),p.qZA(),p.TgZ(20,"label",10),p._uU(21,"Contrase\xf1a"),p.qZA()(),p.TgZ(22,"button",11),p.NdJ("click",function(){return r.signUp()}),p._uU(23," Registrar "),p.qZA(),p.TgZ(24,"p",12),p._uU(25,"\xa9 Ezequiel Archilla 2022"),p.qZA()()()),2&t&&(p.xp6(6),p.Q6J("ngModel",r.user.email),p.xp6(5),p.Q6J("ngModel",r.user.name),p.xp6(4),p.Q6J("ngModel",r.user.lastName),p.xp6(4),p.Q6J("ngModel",r.password))},directives:[ge,he,li],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.form-floating[_ngcontent-%COMP%]{margin-top:3px}"]}),n})()},{path:"home",component:QS.O},{path:"about",component:w},{path:"chat",component:KS},{path:"games",loadChildren:()=>k.e(782).then(k.bind(k,3782)).then(n=>n.GamesModule)},{path:"**",component:YS}];let v1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[da.Bz.forRoot(_1)],da.Bz]}),n})();function E1(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"button",6),p.NdJ("click",function(){return p.CHM(t),p.oxw().navigateToLogin()}),p._uU(1," Ingresar "),p.qZA()}}function w1(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"div",7)(1,"span",8),p._uU(2),p.qZA(),p.TgZ(3,"button",9),p.NdJ("click",function(){return p.CHM(t),p.oxw().signOut()}),p._uU(4,"Salir"),p.qZA()()}if(2&n){const t=p.oxw();p.xp6(2),p.hij("",t.email," ")}}let b1=(()=>{class n{constructor(t,r,o){this.localStorageService=t,this.router=r,this.userAuthService=o,this.logged=!1,this.email=""}ngOnInit(){this.userAuthService.loggedChange.subscribe(t=>{this.logged=t,this.email=this.userAuthService.userLogged.email,console.log(this.email),console.log(this.userAuthService.userLogged.email)})}navigateToLogin(){this.router.navigateByUrl("login")}signOut(){this.userAuthService.signOut(),this.userAuthService.setLogged(!1),this.localStorageService.removeData("userEmail")}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ab),p.Y36(da.F0),p.Y36(Sb))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-nav-bar"]],decls:9,vars:2,consts:[[1,"navbar","navbar-dark","bg-dark","shadow-sm"],[1,"container"],["routerLink","home",1,"navbar-brand","d-flex","align-items-center"],["src","../../../favicon.ico","alt","navIcon","height","50px"],["class","button-nav-green",3,"click",4,"ngIf"],["class","d-flex flex-row align-items-center",4,"ngIf"],[1,"button-nav-green",3,"click"],[1,"d-flex","flex-row","align-items-center"],[1,"text-white"],[1,"button-nav-red",3,"click"]],template:function(t,r){1&t&&(p.TgZ(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),p._UZ(4,"img",3),p.TgZ(5,"strong"),p._uU(6,"Sala de Juegos UTN"),p.qZA()(),p.YNc(7,E1,2,0,"button",4),p.YNc(8,w1,5,1,"div",5),p.qZA()()()),2&t&&(p.xp6(7),p.Q6J("ngIf",!r.logged),p.xp6(1),p.Q6J("ngIf",r.logged))},directives:[da.yS,V.O5],styles:['.button-nav-green[_ngcontent-%COMP%]{--green: #1BFD9C;font-size:15px;padding:.7em 2.7em;letter-spacing:.06em;position:relative;font-family:inherit;border-radius:.6em;overflow:hidden;transition:all .3s;line-height:1.4em;border:2px solid var(--green);background:linear-gradient(to right,rgba(27,253,156,.1) 1%,transparent 40%,transparent 60%,rgba(27,253,156,.1) 100%);color:var(--green);box-shadow:inset 0 0 10px #1bfd9c66,0 0 9px 3px #1bfd9c1a}.button-nav-green[_ngcontent-%COMP%]:hover{color:#82ffc9;box-shadow:inset 0 0 10px #1bfd9c99,0 0 9px 3px #1bfd9c33}.button-nav-green[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-4em;width:4em;height:100%;top:0;transition:transform .4s ease-in-out;background:linear-gradient(to right,transparent 1%,rgba(27,253,156,.1) 40%,rgba(27,253,156,.1) 60%,transparent 100%)}.button-nav-green[_ngcontent-%COMP%]:hover:before{transform:translate(15em)}.button-nav-red[_ngcontent-%COMP%]{--green: #fd1b1b;font-size:15px;padding:.7em;letter-spacing:.06em;position:relative;font-family:inherit;border-radius:.6em;overflow:hidden;margin-left:.3em;transition:all .3s;line-height:1.4em;border:2px solid var(--green);background:linear-gradient(to right,rgba(253,27,27,.1) 1%,transparent 40%,transparent 60%,rgba(253,27,27,.1) 100%);color:var(--green);box-shadow:inset 0 0 10px #fd1b2e66,0 0 9px 3px #fd1b411a}.button-nav-red[_ngcontent-%COMP%]:hover{color:#f7c1c1;box-shadow:inset 0 0 10px #fd1b2699,0 0 9px 3px #fd1b2e33}.button-nav-red[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-4em;width:4em;height:100%;top:0;transition:transform .4s ease-in-out;background:linear-gradient(to right,transparent 1%,rgba(253,27,27,.1) 40%,rgba(253,27,27,.1) 60%,transparent 100%)}.button-nav-red[_ngcontent-%COMP%]:hover:before{transform:translate(15em)}.align-vertical[_ngcontent-%COMP%]{margin:3%}']}),n})(),C1=(()=>{class n{constructor(){this.title="SalaDeJuegos2022"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"bg-arcade"],["name","test"]],template:function(t,r){1&t&&p._UZ(0,"div",0)(1,"app-nav-bar")(2,"router-outlet")(3,"router-outlet",1)},directives:[b1,da.lC],styles:[".bg-arcade[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;background-image:url(wallpaper-arcade.e1c5e90060bab72a.gif);filter:blur(4px);-webkit-filter:blur(4px);z-index:-9999}"]}),n})();const EA="firebasestorage.googleapis.com",wA="storageBucket";class Ai extends W.ZR{constructor(e,t){super(PI(e),`Firebase Storage: ${t} (${PI(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ai.prototype)}_codeEquals(e){return PI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function PI(n){return"storage/"+n}function NI(){return new Ai("unknown","An unknown error occurred, please check the error payload for server response.")}function bA(){return new Ai("canceled","User canceled the upload/download.")}function CA(){return new Ai("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function xm(n){return new Ai("invalid-argument",n)}function TA(){return new Ai("app-deleted","The Firebase app was deleted.")}function IA(n){return new Ai("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function o0(n,e){return new Ai("invalid-format","String does not match format '"+n+"': "+e)}function a0(n){throw new Ai("internal-error","Internal error: "+n)}class mo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=mo.makeFromUrl(e,t)}catch(o){return new mo(e,"")}if(""===r.path)return r;throw function N1(n){return new Ai("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+o+"(/(.*))?$","i");function M(Pt){Pt.path_=decodeURIComponent(Pt.path)}const K=t.replace(/[.]/g,"\\."),dn=[{regex:m,indices:{bucket:1,path:3},postModify:function l(Pt){"/"===Pt.path.charAt(Pt.path.length-1)&&(Pt.path_=Pt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${K}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:M},{regex:new RegExp(`^https?://${t===EA?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:M}];for(let Pt=0;Pt<dn.length;Pt++){const Cn=dn[Pt],on=Cn.regex.exec(e);if(on){let vr=on[Cn.indices.path];vr||(vr=""),r=new mo(on[Cn.indices.bucket],vr),Cn.postModify(r);break}}if(null==r)throw function P1(n){return new Ai("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class V1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Ob(n){return"string"==typeof n||n instanceof String}function DA(n){return kI()&&n instanceof Blob}function kI(){return"undefined"!=typeof Blob}function FI(n,e,t,r){if(r<e)throw xm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw xm(`Invalid value for '${n}'. Expected ${t} or less.`)}function ad(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function AA(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var _h=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(_h||(_h={})),_h))();class G1{constructor(e,t,r,o,l,d,m,b,M,j,K){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=b,this.timeout_=M,this.progressCallback_=j,this.connectionFactory_=K,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ue,Se)=>{this.resolve_=ue,this.reject_=Se,this.start_()})}start_(){const t=(r,o)=>{const l=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const b=this.callback_(m,m.getResponse());!function j1(n){return void 0!==n}(b)?l():l(b)}catch(b){d(b)}else if(null!==m){const b=NI();b.serverResponse=m.getErrorText(),d(this.errorCallback_?this.errorCallback_(m,b):b)}else d(o.canceled?this.appDelete_?TA():bA():function R1(){return new Ai("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Rb(!1,null,!0)):this.backoffId_=function U1(n,e,t){let r=1,o=null,l=null,d=!1,m=0;function b(){return 2===m}let M=!1;function j(...mt){M||(M=!0,e.apply(null,mt))}function K(mt){o=setTimeout(()=>{o=null,n(Se,b())},mt)}function ue(){l&&clearTimeout(l)}function Se(mt,...Xt){if(M)return void ue();if(mt)return ue(),void j.call(null,mt,...Xt);if(b()||d)return ue(),void j.call(null,mt,...Xt);let dn;r<64&&(r*=2),1===m?(m=2,dn=0):dn=1e3*(r+Math.random()),K(dn)}let Te=!1;function Xe(mt){Te||(Te=!0,ue(),!M&&(null!==o?(mt||(m=2),clearTimeout(o),K(0)):mt||(m=1)))}return K(0),l=setTimeout(()=>{d=!0,Xe(!0)},t),Xe}((r,o)=>{if(o)return void r(!1,new Rb(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const d=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(d),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(d),this.pendingConnection_=null;const m=l.getErrorCode()===_h.NO_ERROR,b=l.getStatus();if(!m||this.isRetryStatusCode_(b)){const j=l.getErrorCode()===_h.ABORT;return void r(!1,new Rb(!1,null,j))}const M=-1!==this.successCodes_.indexOf(b);r(!0,new Rb(M,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function B1(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),l=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||l}}class Rb{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Q1(...n){const e=function Y1(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(kI())return new Blob(n);throw new Ai("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ha={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class LI{constructor(e,t){this.data=e,this.contentType=t||null}}function VI(n,e){switch(n){case Ha.RAW:return new LI(SA(e));case Ha.BASE64:case Ha.BASE64URL:return new LI(MA(n,e));case Ha.DATA_URL:return new LI(function tM(n){const e=new xA(n);return e.base64?MA(Ha.BASE64,e.rest):function eM(n){let e;try{e=decodeURIComponent(n)}catch(t){throw o0(Ha.DATA_URL,"Malformed data URL.")}return SA(e)}(e.rest)}(e),function nM(n){return new xA(n).contentType}(e))}throw NI()}function SA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function MA(n,e){switch(n){case Ha.BASE64:{const o=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(o||l)throw o0(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ha.BASE64URL:{const o=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(o||l)throw o0(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function X1(n){return atob(n)}(e)}catch(o){throw o0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class xA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw o0(Ha.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function rM(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class nc{constructor(e,t){let r=0,o="";DA(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(DA(this.data_)){const o=function J1(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new nc(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new nc(r,!0)}}static getBlob(...e){if(kI()){const t=e.map(r=>r instanceof nc?r.data_:r);return new nc(Q1.apply(null,t))}{const t=e.map(d=>Ob(d)?VI(Ha.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let l=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)o[l++]=d[m]}),new nc(o,!0)}}uploadData(){return this.data_}}function UI(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function $1(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function OA(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function oM(n,e){return e}class Ho{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||oM}}let Pb=null;function u0(){if(Pb)return Pb;const n=[];n.push(new Ho("bucket")),n.push(new Ho("generation")),n.push(new Ho("metageneration")),n.push(new Ho("name","fullPath",!0));const t=new Ho("name");t.xform=function e(l,d){return function aM(n){return!Ob(n)||n.length<2?n:OA(n)}(d)},n.push(t);const o=new Ho("size");return o.xform=function r(l,d){return void 0!==d?Number(d):d},n.push(o),n.push(new Ho("timeCreated")),n.push(new Ho("updated")),n.push(new Ho("md5Hash",null,!0)),n.push(new Ho("cacheControl",null,!0)),n.push(new Ho("contentDisposition",null,!0)),n.push(new Ho("contentEncoding",null,!0)),n.push(new Ho("contentLanguage",null,!0)),n.push(new Ho("contentType",null,!0)),n.push(new Ho("metadata","customMetadata",!0)),Pb=n,Pb}function RA(n,e,t){const r=UI(e);return null===r?null:function lM(n,e,t){const r={type:"file"},o=t.length;for(let l=0;l<o;l++){const d=t[l];r[d.local]=d.xform(r,e[d.server])}return function uM(n,e){Object.defineProperty(n,"ref",{get:function t(){const l=new mo(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(r,n),r}(n,r,t)}function BI(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}const PA="prefixes";class rc{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ic(n){if(!n)throw NI()}function Nb(n,e){return function t(r,o){const l=RA(n,o,e);return ic(null!==l),l}}function Om(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function x1(){return new Ai("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function M1(){return new Ai("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function S1(n){return new Ai("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function O1(n){return new Ai("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function l0(n){const e=Om(n);return function t(r,o){let l=e(r,o);return 404===r.getStatus()&&(l=function A1(n){return new Ai("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=o.serverResponse,l}}function kA(n,e,t){const o=ad(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new rc(o,"GET",Nb(n,t),d);return m.errorHandler=l0(e),m}function gM(n,e,t,r,o){const l={};l.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(l.delimiter=t),r&&(l.pageToken=r),o&&(l.maxResults=o);const m=ad(e.bucketOnlyServerUrl(),n.host,n._protocol),M=n.maxOperationRetryTime,j=new rc(m,"GET",function fM(n,e){return function t(r,o){const l=function hM(n,e,t){const r=UI(t);return null===r?null:function dM(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[PA])for(const o of t[PA]){const l=o.replace(/\/$/,""),d=n._makeStorageReference(new mo(e,l));r.prefixes.push(d)}if(t.items)for(const o of t.items){const l=n._makeStorageReference(new mo(e,o.name));r.items.push(l)}return r}(n,e,r)}(n,e,o);return ic(null!==l),l}}(n,e.bucket),M);return j.urlParams=l,j.errorHandler=Om(e),j}function LA(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function vM(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class kb{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function jI(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){ic(!1)}return ic(!!t&&-1!==(e||["active"]).indexOf(t)),t}const CM={STATE_CHANGED:"state_changed"},$o={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function HI(n){switch(n){case"running":case"pausing":case"canceling":return $o.RUNNING;case"paused":return $o.PAUSED;case"success":return $o.SUCCESS;case"canceled":return $o.CANCELED;default:return $o.ERROR}}class TM{constructor(e,t,r){if(function H1(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function Rm(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class DM extends class IM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_h.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_h.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_h.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw a0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw a0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw a0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw a0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw a0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function sl(){return new DM}class jA{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=u0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function EM(n,e,t,r,o){const l=e.bucketOnlyServerUrl(),d=LA(e,r,o),m={name:d.fullPath},b=ad(l,n.host,n._protocol),j={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},K=BI(d,t),Te=new rc(b,"POST",function Se(Xe){let mt;jI(Xe);try{mt=Xe.getResponseHeader("X-Goog-Upload-URL")}catch(Xt){ic(!1)}return ic(Ob(mt)),mt},n.maxUploadRetryTime);return Te.urlParams=m,Te.headers=j,Te.body=K,Te.errorHandler=Om(e),Te}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,sl,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function wM(n,e,t,r){const b=new rc(t,"POST",function l(M){const j=jI(M,["active","final"]);let K=null;try{K=M.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Se){ic(!1)}K||ic(!1);const ue=Number(K);return ic(!isNaN(ue)),new kb(ue,r.size(),"final"===j)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=Om(e),b}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(o,sl,t,r);this._request=l,l.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new kb(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,l)=>{let d;try{d=function bM(n,e,t,r,o,l,d,m){const b=new kb(0,0);if(d?(b.current=d.current,b.total=d.total):(b.current=0,b.total=r.size()),r.size()!==b.total)throw function F1(){return new Ai("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const M=b.total-b.current;let j=M;o>0&&(j=Math.min(j,o));const K=b.current,Te={"X-Goog-Upload-Command":j===M?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},Xe=r.slice(K,K+j);if(null===Xe)throw CA();const dn=new rc(t,"POST",function mt(Pt,Cn){const on=jI(Pt,["active","final"]),_r=b.current+j,vr=r.size();let zi;return zi="final"===on?Nb(e,l)(Pt,Cn):null,new kb(_r,vr,"final"===on,zi)},e.maxUploadRetryTime);return dn.headers=Te,dn.body=Xe.uploadData(),dn.progressCallback=m||null,dn.errorHandler=Om(n),dn}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const m=this._ref.storage._makeRequest(d,sl,o,l);this._request=m,m.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=kA(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,sl,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function VA(n,e,t,r,o){const l=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},b=function m(){let dn="";for(let Pt=0;Pt<2;Pt++)dn+=Math.random().toString().slice(2);return dn}();d["Content-Type"]="multipart/related; boundary="+b;const M=LA(e,r,o),j=BI(M,t),Se=nc.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+j+"\r\n--"+b+"\r\nContent-Type: "+M.contentType+"\r\n\r\n",r,"\r\n--"+b+"--");if(null===Se)throw CA();const Te={name:M.fullPath},Xe=ad(l,n.host,n._protocol),Xt=n.maxUploadRetryTime,Ut=new rc(Xe,"POST",Nb(n,t),Xt);return Ut.urlParams=Te,Ut.headers=d,Ut.body=Se.uploadData(),Ut.errorHandler=Om(e),Ut}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,sl,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=bA(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=HI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const l=new TM(t||void 0,r||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(HI(this._state)){case $o.SUCCESS:Rm(this._resolve.bind(null,this.snapshot))();break;case $o.CANCELED:case $o.ERROR:Rm(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(HI(this._state)){case $o.RUNNING:case $o.PAUSED:e.next&&Rm(e.next.bind(e,this.snapshot))();break;case $o.SUCCESS:e.complete&&Rm(e.complete.bind(e))();break;default:e.error&&Rm(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ep{constructor(e,t){this._service=e,this._location=t instanceof mo?t:mo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ep(e,t)}get root(){const e=new mo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OA(this._location.path)}get storage(){return this._service}get parent(){const e=function iM(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new mo(this._location.bucket,e);return new ep(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw IA(e)}}function $A(n,e,t){return $I.apply(this,arguments)}function $I(){return $I=(0,h.Z)(function*(n,e,t){const o=yield GA(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield $A(n,e,o.nextPageToken))}),$I.apply(this,arguments)}function GA(n,e){null!=e&&"number"==typeof e.maxResults&&FI("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=gM(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,sl)}function VM(n){n._throwIfRoot("getDownloadURL");const e=function mM(n,e,t){const o=ad(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new rc(o,"GET",function pM(n,e){return function t(r,o){const l=RA(n,o,e);return ic(null!==l),function cM(n,e,t,r){const o=UI(e);if(null===o||!Ob(o.downloadTokens))return null;const l=o.downloadTokens;if(0===l.length)return null;const d=encodeURIComponent;return l.split(",").map(M=>{const K=n.fullPath;return ad("/b/"+d(n.bucket)+"/o/"+d(K),t,r)+AA({alt:"media",token:M})})[0]}(l,o,n.host,n._protocol)}}(n,t),d);return m.errorHandler=l0(e),m}(n.storage,n._location,u0());return n.storage.makeRequestWithTokens(e,sl).then(t=>{if(null===t)throw function L1(){return new Ai("no-download-url","The given file does not have any download URLs.")}();return t})}function qA(n,e){const t=function sM(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new mo(n._location.bucket,t);return new ep(n.storage,r)}function zA(n,e){if(n instanceof GI){const t=n;if(null==t._bucket)throw function k1(){return new Ai("no-default-bucket","No default bucket found. Did you set the '"+wA+"' property when initializing the app?")}();const r=new ep(t,t._bucket);return null!=e?zA(r,e):r}return void 0!==e?qA(n,e):n}function HM(n,e){if(e&&function BM(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof GI)return function jM(n,e){return new ep(n,e)}(n,e);throw xm("To use ref(service, url), the first argument must be a Storage instance.")}return zA(n,e)}function WA(n,e){const t=null==e?void 0:e[wA];return null==t?null:mo.makeFromBucketSpec(t,n)}class GI{constructor(e,t,r,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=EA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?mo.makeFromBucketSpec(o,this._host):WA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?mo.makeFromBucketSpec(this._url,e):WA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,h.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,h.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ep(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new V1(TA());{const l=function K1(n,e,t,r,o,l){const d=AA(n.urlParams),m=n.url+d,b=Object.assign({},n.headers);return function W1(n,e){e&&(n["X-Firebase-GMPID"]=e)}(b,e),function q1(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(b,t),function z1(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(b,l),function Z1(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(b,r),new G1(m,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,h.Z)(function*(){const[o,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,l).getPromise()})()}}const ZA="@firebase/storage";function QA(n,e){return HM(n=(0,W.m9)(n),e)}function XM(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new GI(t,r,o,e,g.SDK_VERSION)}!function ex(){(0,g._registerComponent)(new T.wA("storage",XM,"PUBLIC").setMultipleInstances(!0)),(0,g.registerVersion)(ZA,"0.9.4",""),(0,g.registerVersion)(ZA,"0.9.4","esm2017")}();class Fb{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class JA{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Fb(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Fb(r,this,this._ref))},t)}on(e,t,r,o){let l;return t&&(l="function"==typeof t?d=>t(new Fb(d,this,this._ref)):{next:t.next?d=>t.next(new Fb(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,l,r||void 0,o||void 0)}}class XA{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ud(e,this._service))}get items(){return this._delegate.items.map(e=>new ud(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ud{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function QM(n,e){return qA(n,e)}(this._delegate,e);return new ud(t,this.storage)}get root(){return new ud(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ud(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new JA(function GM(n,e,t){return function PM(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new jA(n,new nc(e),t)}(n=(0,W.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ha.RAW,r){this._throwIfRoot("putString");const o=VI(t,e),l=Object.assign({},r);return null==l.contentType&&null!=o.contentType&&(l.contentType=o.contentType),new JA(new jA(this._delegate,new nc(o.data,!0),l),this)}listAll(){return function ZM(n){return function kM(n){const e={prefixes:[],items:[]};return $A(n,e).then(()=>e)}(n=(0,W.m9)(n))}(this._delegate).then(e=>new XA(e,this.storage))}list(e){return function WM(n,e){return GA(n=(0,W.m9)(n),e)}(this._delegate,e||void 0).then(t=>new XA(t,this.storage))}getMetadata(){return function qM(n){return function FM(n){n._throwIfRoot("getMetadata");const e=kA(n.storage,n._location,u0());return n.storage.makeRequestWithTokens(e,sl)}(n=(0,W.m9)(n))}(this._delegate)}updateMetadata(e){return function zM(n,e){return function LM(n,e){n._throwIfRoot("updateMetadata");const t=function yM(n,e,t,r){const l=ad(e.fullServerUrl(),n.host,n._protocol),m=BI(t,r),M=n.maxOperationRetryTime,j=new rc(l,"PATCH",Nb(n,r),M);return j.headers={"Content-Type":"application/json; charset=utf-8"},j.body=m,j.errorHandler=l0(e),j}(n.storage,n._location,e,u0());return n.storage.makeRequestWithTokens(t,sl)}(n=(0,W.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function KM(n){return VM(n=(0,W.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function YM(n){return function UM(n){n._throwIfRoot("deleteObject");const e=function _M(n,e){const r=ad(e.fullServerUrl(),n.host,n._protocol),m=new rc(r,"DELETE",function d(b,M){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=l0(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,sl)}(n=(0,W.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw IA(e)}}class eS{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(tS(e))throw xm("ref() expected a child path but got a URL, use refFromURL instead.");return new ud(QA(this._delegate,e),this)}refFromURL(e){if(!tS(e))throw xm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{mo.makeFromUrl(e,this._delegate.host)}catch(t){throw xm("refFromUrl() expected a valid full URL but got an invalid one.")}return new ud(QA(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function JM(n,e,t,r={}){!function $M(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,W.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function tS(n){return/^[A-Za-z]+:\/\//.test(n)}function ix(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new eS(t,r)}function nS(n){const e=function ox(n){return new de.y(e=>{const t=d=>e.next(d);t(n.snapshot);const l=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){l()}}).pipe(function T1(n,e=tA.z){return(0,TI.e)((t,r)=>{let o=null,l=null,d=null;const m=()=>{if(o){o.unsubscribe(),o=null;const M=l;l=null,r.next(M)}};function b(){const M=d+n,j=e.now();if(j<M)return o=this.schedule(void 0,M-j),void r.add(o);m()}t.subscribe((0,Ae.x)(r,M=>{l=M,d=e.now(),o||(o=e.schedule(b,n),r.add(o))},()=>{m(),r.complete()},void 0,()=>{l=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,at.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Lb(n){return{getDownloadURL:()=>(0,od.of)(void 0).pipe(Xr.fc,(0,fu.w)(()=>n.getDownloadURL()),Xr.iC),getMetadata:()=>(0,od.of)(void 0).pipe(Xr.fc,(0,fu.w)(()=>n.getMetadata()),Xr.iC),delete:()=>(0,le.D)(n.delete()),child:e=>Lb(n.child(e)),updateMetadata:e=>(0,le.D)(n.updateMetadata(e)),put:(e,t)=>nS(n.put(e,t)),putString:(e,t,r)=>nS(n.putString(e,t,r)),list:e=>(0,le.D)(n.list(e)),listAll:()=>(0,le.D)(n.listAll())}}!function sx(n){const e={TaskState:$o,TaskEvent:CM,StringFormat:Ha,Storage:eS,Reference:ud};n.INTERNAL.registerComponent(new T.wA("storage-compat",ix,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.12")}(nA.Z);const ax=new p.OlP("angularfire2.storageBucket"),ux=new p.OlP("angularfire2.storage.maxUploadRetryTime"),lx=new p.OlP("angularfire2.storage.maxOperationRetryTime"),cx=new p.OlP("angularfire2.storage.use-emulator");let dx=(()=>{class n{constructor(t,r,o,l,d,m,b,M,j,K){const ue=(0,go.on)(t,d,r);this.storage=(0,go.cc)(`${ue.name}.storage.${o}`,"AngularFireStorage",ue.name,()=>{const Se=d.runOutsideAngular(()=>ue.storage(o||void 0)),Te=j;return Te&&Se.useEmulator(...Te),b&&Se.setMaxUploadRetryTime(b),M&&Se.setMaxOperationRetryTime(M),Se},[b,M])}ref(t){return Lb(this.storage.ref(t))}refFromURL(t){return Lb(this.storage.refFromURL(t))}upload(t,r,o){return Lb(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(go.Dh),p.LFG(go.xv,8),p.LFG(ax,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Xr.HU),p.LFG(ux,8),p.LFG(lx,8),p.LFG(cx,8),p.LFG(Ib,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})(),fx=(()=>{class n{constructor(){bI.Z.registerVersion("angularfire",Xr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[dx],imports:[hx]}),n})(),px=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n,bootstrap:[C1]}),n.\u0275inj=p.cJS({providers:[],imports:[[V.ez,pp,ro.Rh.forRoot({timeOut:2e3,positionClass:"toast-top-center"}),y.b2,v1,ws,go.hO.initializeApp(st_firebaseConfig),y1,fx,GS,oc.JF]]}),n})();(0,p.G48)(),y.q6().bootstrapModule(px).catch(n=>console.error(n))},5867:(xt,Ue,k)=>{k.d(Ue,{C6:()=>y.getApps,Mq:()=>y.getApp,ZF:()=>y.initializeApp});var y=k(9681);(0,y.registerVersion)("firebase","9.6.10","app")},127:(xt,Ue,k)=>{k.d(Ue,{Z:()=>y.Z});var y=k(3942);y.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(xt,Ue,k)=>{k.r(Ue);var y=k(5861),p=k(3942),V=k(424),le=k(2090),Ee=(k(9681),k(1877),k(4859));function ve(){return window}function ne(){return(ne=(0,y.Z)(function*(Z,Q,F){var q;const{BuildInfo:H}=ve();(0,V.ap)(Q.sessionId,"AuthEvent did not contain a session ID");const te=yield ze(Q.sessionId),ke={};return(0,V.aq)()?ke.ibi=H.packageName:(0,V.ar)()?ke.apn=H.packageName:(0,V.as)(Z,"operation-not-supported-in-this-environment"),H.displayName&&(ke.appDisplayName=H.displayName),ke.sessionId=te,(0,V.at)(Z,F,Q.type,void 0,null!==(q=Q.eventId)&&void 0!==q?q:void 0,ke)})).apply(this,arguments)}function at(){return(at=(0,y.Z)(function*(Z){const{BuildInfo:Q}=ve(),F={};(0,V.aq)()?F.iosBundleId=Q.packageName:(0,V.ar)()?F.androidPackageName=Q.packageName:(0,V.as)(Z,"operation-not-supported-in-this-environment"),yield(0,V.au)(Z,F)})).apply(this,arguments)}function nt(){return(nt=(0,y.Z)(function*(Z,Q,F){const{cordova:q}=ve();let H=()=>{};try{yield new Promise((te,ke)=>{let Qe=null;function St(){var wn;te();const br=null===(wn=q.plugins.browsertab)||void 0===wn?void 0:wn.close;"function"==typeof br&&br(),"function"==typeof(null==F?void 0:F.close)&&F.close()}function En(){Qe||(Qe=window.setTimeout(()=>{ke((0,V.av)(Z,"redirect-cancelled-by-user"))},2e3))}function jn(){"visible"===(null==document?void 0:document.visibilityState)&&En()}Q.addPassiveListener(St),document.addEventListener("resume",En,!1),(0,V.ar)()&&document.addEventListener("visibilitychange",jn,!1),H=()=>{Q.removePassiveListener(St),document.removeEventListener("resume",En,!1),document.removeEventListener("visibilitychange",jn,!1),Qe&&window.clearTimeout(Qe)}})}finally{H()}})).apply(this,arguments)}function ze(Z){return It.apply(this,arguments)}function It(){return(It=(0,y.Z)(function*(Z){const Q=yt(Z),F=yield crypto.subtle.digest("SHA-256",Q);return Array.from(new Uint8Array(F)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yt(Z){if((0,V.ap)(/[0-9a-zA-Z]+/.test(Z),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Z);const Q=new ArrayBuffer(Z.length),F=new Uint8Array(Q);for(let q=0;q<Z.length;q++)F[q]=Z.charCodeAt(q);return F}class ge extends V.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Q=>{this.resolveInialized=Q})}addPassiveListener(Q){this.passiveListeners.add(Q)}removePassiveListener(Q){this.passiveListeners.delete(Q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Q){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(Q)),super.onEvent(Q)}initialized(){var Q=this;return(0,y.Z)(function*(){yield Q.initPromise})()}}function ye(Z){return ot.apply(this,arguments)}function ot(){return(ot=(0,y.Z)(function*(Z){const Q=yield Re()._get(Be(Z));return Q&&(yield Re()._remove(Be(Z))),Q})).apply(this,arguments)}function Pe(){const Z=[],Q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<20;F++){const q=Math.floor(Math.random()*Q.length);Z.push(Q.charAt(q))}return Z.join("")}function Re(){return(0,V.ax)(V.b)}function Be(Z){return(0,V.ay)("authEvent",Z.config.apiKey,Z.name)}function zt(Z){if(!(null==Z?void 0:Z.includes("?")))return{};const[Q,...F]=Z.split("?");return(0,le.zd)(F.join("?"))}function Ft(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.av)("no-auth-event")}}function fe(){var Z;return(null===(Z=null==self?void 0:self.location)||void 0===Z?void 0:Z.protocol)||null}function _t(Z=(0,le.z$)()){return!("file:"!==fe()&&"ionic:"!==fe()||!Z.toLowerCase().match(/iphone|ipad|ipod|android/))}function cr(){try{const Z=self.localStorage,Q=V.aG();if(Z)return Z.setItem(Q,"1"),Z.removeItem(Q),!function tr(Z=(0,le.z$)()){return function Tn(){return(0,le.w1)()&&11===(null==document?void 0:document.documentMode)}()||function kn(Z=(0,le.z$)()){return/Edge\/\d+/.test(Z)}(Z)}()||(0,le.hl)()}catch(Z){return zn()&&(0,le.hl)()}return!1}function zn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return(function be(){return"http:"===fe()||"https:"===fe()}()||(0,le.ru)()||_t())&&!function Lt(){return(0,le.b$)()||(0,le.UG)()}()&&cr()&&!zn()}function Mr(){return _t()&&"undefined"!=typeof document}function fr(){return(fr=(0,y.Z)(function*(){return!!Mr()&&new Promise(Z=>{const Q=setTimeout(()=>{Z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Q),Z(!0)})})})).apply(this,arguments)}const yn={LOCAL:"local",NONE:"none",SESSION:"session"},xn=V.aw,Vr="persistence";function oe(Z){return he.apply(this,arguments)}function he(){return(he=(0,y.Z)(function*(Z){yield Z._initializationPromise;const Q=Ce(),F=V.ay(Vr,Z.config.apiKey,Z.name);Q&&Q.setItem(F,Z._getPersistence())})).apply(this,arguments)}function Ce(){var Z;try{return(null===(Z=function $n(){return"undefined"!=typeof window?window:null}())||void 0===Z?void 0:Z.sessionStorage)||null}catch(Q){return null}}const lt=V.aw;class ft{constructor(){this.browserResolver=V.ax(V.k),this.cordovaResolver=V.ax(class Qt{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aA}_initialize(Q){var F=this;return(0,y.Z)(function*(){const q=Q._key();let H=F.eventManagers.get(q);return H||(H=new ge(Q),F.eventManagers.set(q,H),F.attachCallbackListeners(Q,H)),H})()}_openPopup(Q){(0,V.as)(Q,"operation-not-supported-in-this-environment")}_openRedirect(Q,F,q,H){var te=this;return(0,y.Z)(function*(){!function Fe(Z){var Q,F,q,H,te,ke,Qe,St,En,jn;const wn=ve();(0,V.aw)("function"==typeof(null===(Q=null==wn?void 0:wn.universalLinks)||void 0===Q?void 0:Q.subscribe),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aw)(void 0!==(null===(F=null==wn?void 0:wn.BuildInfo)||void 0===F?void 0:F.packageName),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aw)("function"==typeof(null===(te=null===(H=null===(q=null==wn?void 0:wn.cordova)||void 0===q?void 0:q.plugins)||void 0===H?void 0:H.browsertab)||void 0===te?void 0:te.openUrl),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aw)("function"==typeof(null===(St=null===(Qe=null===(ke=null==wn?void 0:wn.cordova)||void 0===ke?void 0:ke.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===St?void 0:St.isAvailable),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aw)("function"==typeof(null===(jn=null===(En=null==wn?void 0:wn.cordova)||void 0===En?void 0:En.InAppBrowser)||void 0===jn?void 0:jn.open),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Q);const ke=yield te._initialize(Q);yield ke.initialized(),ke.resetRedirect(),(0,V.aB)(),yield te._originValidation(Q);const Qe=function xe(Z,Q,F=null){return{type:Q,eventId:F,urlResponse:null,sessionId:Pe(),postBody:null,tenantId:Z.tenantId,error:(0,V.av)(Z,"no-auth-event")}}(Q,q,H);yield function Ge(Z,Q){return Re()._set(Be(Z),Q)}(Q,Qe);const St=yield function re(Z,Q,F){return ne.apply(this,arguments)}(Q,Qe,F),En=yield function Ye(Z){const{cordova:Q}=ve();return new Promise(F=>{Q.plugins.browsertab.isAvailable(q=>{let H=null;q?Q.plugins.browsertab.openUrl(Z):H=Q.InAppBrowser.open(Z,(0,V.ao)()?"_blank":"_system","location=yes"),F(H)})})}(St);return function et(Z,Q,F){return nt.apply(this,arguments)}(Q,ke,En)})()}_isIframeWebStorageSupported(Q,F){throw new Error("Method not implemented.")}_originValidation(Q){const F=Q._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function we(Z){return at.apply(this,arguments)}(Q)),this.originValidationPromises[F]}attachCallbackListeners(Q,F){const{universalLinks:q,handleOpenURL:H,BuildInfo:te}=ve(),ke=setTimeout((0,y.Z)(function*(){yield ye(Q),F.onEvent(Ft())}),500),Qe=function(){var jn=(0,y.Z)(function*(wn){clearTimeout(ke);const br=yield ye(Q);let Ur=null;br&&(null==wn?void 0:wn.url)&&(Ur=function me(Z,Q){var F,q;const H=function Oe(Z){const Q=zt(Z),F=Q.link?decodeURIComponent(Q.link):void 0,q=zt(F).link,H=Q.deep_link_id?decodeURIComponent(Q.deep_link_id):void 0;return zt(H).link||H||q||F||Z}(Q);if(H.includes("/__/auth/callback")){const te=zt(H),ke=te.firebaseError?function ct(Z){try{return JSON.parse(Z)}catch(Q){return null}}(decodeURIComponent(te.firebaseError)):null,Qe=null===(q=null===(F=null==ke?void 0:ke.code)||void 0===F?void 0:F.split("auth/"))||void 0===q?void 0:q[1],St=Qe?(0,V.av)(Qe):null;return St?{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,error:St,urlResponse:null,sessionId:null,postBody:null}:{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,sessionId:Z.sessionId,urlResponse:H,postBody:null}}return null}(br,wn.url)),F.onEvent(Ur||Ft())});return function(br){return jn.apply(this,arguments)}}();void 0!==q&&"function"==typeof q.subscribe&&q.subscribe(null,Qe);const St=H,En=`${te.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var jn=(0,y.Z)(function*(wn){if(wn.toLowerCase().startsWith(En)&&Qe({url:wn}),"function"==typeof St)try{St(wn)}catch(br){console.error(br)}});return function(wn){return jn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aA}_initialize(Q){var F=this;return(0,y.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(Q)})()}_openPopup(Q,F,q,H){var te=this;return(0,y.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openPopup(Q,F,q,H)})()}_openRedirect(Q,F,q,H){var te=this;return(0,y.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openRedirect(Q,F,q,H)})()}_isIframeWebStorageSupported(Q,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Q,F)}_originValidation(Q){return this.assertedUnderlyingResolver._originValidation(Q)}get _shouldInitProactively(){return Mr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Q=this;return(0,y.Z)(function*(){if(Q.underlyingResolver)return;const F=yield function Vt(){return fr.apply(this,arguments)}();Q.underlyingResolver=F?Q.cordovaResolver:Q.browserResolver})()}}function In(Z){return Z.unwrap()}function Zt(Z){return Zn(Z)}function Zn(Z){const{_tokenResponse:Q}=Z instanceof le.ZR?Z.customData:Z;if(!Q)return null;if(!(Z instanceof le.ZR)&&"temporaryProof"in Q&&"phoneNumber"in Q)return V.P.credentialFromResult(Z);const F=Q.providerId;if(!F||F===V.o.PASSWORD)return null;let q;switch(F){case V.o.GOOGLE:q=V.N;break;case V.o.FACEBOOK:q=V.M;break;case V.o.GITHUB:q=V.Q;break;case V.o.TWITTER:q=V.V;break;default:const{oauthIdToken:H,oauthAccessToken:te,oauthTokenSecret:ke,pendingToken:Qe,nonce:St}=Q;return te||ke||H||Qe?Qe?F.startsWith("saml.")?V.aJ._create(F,Qe):V.I._fromParams({providerId:F,signInMethod:F,pendingToken:Qe,idToken:H,accessToken:te}):new V.T(F).credential({idToken:H,accessToken:te,rawNonce:St}):null}return Z instanceof le.ZR?q.credentialFromError(Z):q.credentialFromResult(Z)}function en(Z,Q){return Q.catch(F=>{throw F instanceof le.ZR&&function wr(Z,Q){var F;const q=null===(F=Q.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===Q.code)Q.resolver=new un(Z,V.am(Z,Q));else if(q){const H=Zn(Q),te=Q;H&&(te.credential=H,te.tenantId=q.tenantId||void 0,te.email=q.email||void 0,te.phoneNumber=q.phoneNumber||void 0)}}(Z,F),F}).then(F=>{const H=F.user;return{operationType:F.operationType,credential:Zt(F),additionalUserInfo:V.ak(F),user:Ct.getOrCreate(H)}})}function vt(Z,Q){return pn.apply(this,arguments)}function pn(){return(pn=(0,y.Z)(function*(Z,Q){const F=yield Q;return{verificationId:F.verificationId,confirm:q=>en(Z,F.confirm(q))}})).apply(this,arguments)}class un{constructor(Q,F){this.resolver=F,this.auth=function an(Z){return Z.wrapped()}(Q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Q){return en(In(this.auth),this.resolver.resolveSignIn(Q))}}class Ct{constructor(Q){this._delegate=Q,this.multiFactor=V.an(Q)}static getOrCreate(Q){return Ct.USER_MAP.has(Q)||Ct.USER_MAP.set(Q,new Ct(Q)),Ct.USER_MAP.get(Q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Q){return this._delegate.getIdTokenResult(Q)}getIdToken(Q){return this._delegate.getIdToken(Q)}linkAndRetrieveDataWithCredential(Q){return this.linkWithCredential(Q)}linkWithCredential(Q){var F=this;return(0,y.Z)(function*(){return en(F.auth,V.Y(F._delegate,Q))})()}linkWithPhoneNumber(Q,F){var q=this;return(0,y.Z)(function*(){return vt(q.auth,V.l(q._delegate,Q,F))})()}linkWithPopup(Q){var F=this;return(0,y.Z)(function*(){return en(F.auth,V.d(F._delegate,Q,ft))})()}linkWithRedirect(Q){var F=this;return(0,y.Z)(function*(){return yield oe(V.aC(F.auth)),V.g(F._delegate,Q,ft)})()}reauthenticateAndRetrieveDataWithCredential(Q){return this.reauthenticateWithCredential(Q)}reauthenticateWithCredential(Q){var F=this;return(0,y.Z)(function*(){return en(F.auth,V.Z(F._delegate,Q))})()}reauthenticateWithPhoneNumber(Q,F){return vt(this.auth,V.r(this._delegate,Q,F))}reauthenticateWithPopup(Q){return en(this.auth,V.e(this._delegate,Q,ft))}reauthenticateWithRedirect(Q){var F=this;return(0,y.Z)(function*(){return yield oe(V.aC(F.auth)),V.h(F._delegate,Q,ft)})()}sendEmailVerification(Q){return V.aa(this._delegate,Q)}unlink(Q){var F=this;return(0,y.Z)(function*(){return yield V.aj(F._delegate,Q),F})()}updateEmail(Q){return V.af(this._delegate,Q)}updatePassword(Q){return V.ag(this._delegate,Q)}updatePhoneNumber(Q){return V.u(this._delegate,Q)}updateProfile(Q){return V.ae(this._delegate,Q)}verifyBeforeUpdateEmail(Q,F){return V.ab(this._delegate,Q,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ct.USER_MAP=new WeakMap;const Le=V.aw;let wt=(()=>{class Z{constructor(F,q){if(this.app=F,q.isInitialized())return this._delegate=q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=F.options;Le(H,"invalid-api-key",{appName:F.name}),Le(H,"invalid-api-key",{appName:F.name});const te="undefined"!=typeof window?ft:void 0;this._delegate=q.initialize({options:{persistence:nn(H,F.name),popupRedirectResolver:te}}),this._delegate._updateErrorMap(V.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ct.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,q){V.E(this._delegate,F,q)}applyActionCode(F){return V.a1(this._delegate,F)}checkActionCode(F){return V.a2(this._delegate,F)}confirmPasswordReset(F,q){return V.a0(this._delegate,F,q)}createUserWithEmailAndPassword(F,q){var H=this;return(0,y.Z)(function*(){return en(H._delegate,V.a4(H._delegate,F,q))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return V.a9(this._delegate,F)}isSignInWithEmailLink(F){return V.a7(this._delegate,F)}getRedirectResult(){var F=this;return(0,y.Z)(function*(){Le(Wn(),F._delegate,"operation-not-supported-in-this-environment");const q=yield V.j(F._delegate,ft);return q?en(F._delegate,Promise.resolve(q)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Ln(Z,Q){(0,V.aC)(Z)._logFramework(Q)}(this._delegate,F)}onAuthStateChanged(F,q,H){const{next:te,error:ke,complete:Qe}=Ht(F,q,H);return this._delegate.onAuthStateChanged(te,ke,Qe)}onIdTokenChanged(F,q,H){const{next:te,error:ke,complete:Qe}=Ht(F,q,H);return this._delegate.onIdTokenChanged(te,ke,Qe)}sendSignInLinkToEmail(F,q){return V.a6(this._delegate,F,q)}sendPasswordResetEmail(F,q){return V.$(this._delegate,F,q||void 0)}setPersistence(F){var q=this;return(0,y.Z)(function*(){let H;switch(function Ze(Z,Q){xn(Object.values(yn).includes(Q),Z,"invalid-persistence-type"),(0,le.b$)()?xn(Q!==yn.SESSION,Z,"unsupported-persistence-type"):(0,le.UG)()?xn(Q===yn.NONE,Z,"unsupported-persistence-type"):zn()?xn(Q===yn.NONE||Q===yn.LOCAL&&(0,le.hl)(),Z,"unsupported-persistence-type"):xn(Q===yn.NONE||cr(),Z,"unsupported-persistence-type")}(q._delegate,F),F){case yn.SESSION:H=V.a;break;case yn.LOCAL:H=(yield V.ax(V.i)._isAvailable())?V.i:V.b;break;case yn.NONE:H=V.K;break;default:return V.as("argument-error",{appName:q._delegate.name})}return q._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return en(this._delegate,V.W(this._delegate))}signInWithCredential(F){return en(this._delegate,V.X(this._delegate,F))}signInWithCustomToken(F){return en(this._delegate,V._(this._delegate,F))}signInWithEmailAndPassword(F,q){return en(this._delegate,V.a5(this._delegate,F,q))}signInWithEmailLink(F,q){return en(this._delegate,V.a8(this._delegate,F,q))}signInWithPhoneNumber(F,q){return vt(this._delegate,V.s(this._delegate,F,q))}signInWithPopup(F){var q=this;return(0,y.Z)(function*(){return Le(Wn(),q._delegate,"operation-not-supported-in-this-environment"),en(q._delegate,V.c(q._delegate,F,ft))})()}signInWithRedirect(F){var q=this;return(0,y.Z)(function*(){return Le(Wn(),q._delegate,"operation-not-supported-in-this-environment"),yield oe(q._delegate),V.f(q._delegate,F,ft)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return V.a3(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Z.Persistence=yn,Z})();function Ht(Z,Q,F){let q=Z;"function"!=typeof Z&&({next:q,error:Q,complete:F}=Z);const H=q;return{next:ke=>H(ke&&Ct.getOrCreate(ke)),error:Q,complete:F}}function nn(Z,Q){const F=function dt(Z,Q){const F=Ce();if(!F)return[];const q=V.ay(Vr,Z,Q);switch(F.getItem(q)){case yn.NONE:return[V.K];case yn.LOCAL:return[V.i,V.a];case yn.SESSION:return[V.a];default:return[]}}(Z,Q);if("undefined"!=typeof self&&!F.includes(V.i)&&F.push(V.i),"undefined"!=typeof window)for(const q of[V.b,V.a])F.includes(q)||F.push(q);return F.includes(V.K)||F.push(V.K),F}class rn{constructor(){this.providerId="phone",this._delegate=new V.P(In(p.Z.auth()))}static credential(Q,F){return V.P.credential(Q,F)}verifyPhoneNumber(Q,F){return this._delegate.verifyPhoneNumber(Q,F)}unwrap(){return this._delegate}}rn.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,rn.PROVIDER_ID=V.P.PROVIDER_ID;const ae=V.aw;class X{constructor(Q,F,q=p.Z.app()){var H;ae(null===(H=q.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:q.name}),this._delegate=new V.R(Q,F,q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function He(Z){Z.INTERNAL.registerComponent(new Ee.wA("auth-compat",Q=>{const F=Q.getProvider("app-compat").getImmediate(),q=Q.getProvider("auth");return new wt(F,q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.L,FacebookAuthProvider:V.M,GithubAuthProvider:V.Q,GoogleAuthProvider:V.N,OAuthProvider:V.T,SAMLAuthProvider:V.U,PhoneAuthProvider:rn,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:X,TwitterAuthProvider:V.V,Auth:wt,AuthCredential:V.G,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Z.registerVersion("@firebase/auth-compat","0.2.11")}(p.Z)},8306:(xt,Ue,k)=>{k.d(Ue,{y:()=>re});var y=k(2961),p=k(727),V=k(8822),le=k(4671);var Ee=k(2416),ve=k(576),Ae=k(2806);let re=(()=>{class Ye{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const Fe=new Ye;return Fe.source=this,Fe.operator=nt,Fe}subscribe(nt,Fe,ze){const It=function at(Ye){return Ye&&Ye instanceof y.Lv||function we(Ye){return Ye&&(0,ve.m)(Ye.next)&&(0,ve.m)(Ye.error)&&(0,ve.m)(Ye.complete)}(Ye)&&(0,p.Nn)(Ye)}(nt)?nt:new y.Hp(nt,Fe,ze);return(0,Ae.x)(()=>{const{operator:yt,source:Ne}=this;It.add(yt?yt.call(It,Ne):Ne?this._subscribe(It):this._trySubscribe(It))}),It}_trySubscribe(nt){try{return this._subscribe(nt)}catch(Fe){nt.error(Fe)}}forEach(nt,Fe){return new(Fe=ne(Fe))((ze,It)=>{const yt=new y.Hp({next:Ne=>{try{nt(Ne)}catch(ge){It(ge),yt.unsubscribe()}},error:It,complete:ze});this.subscribe(yt)})}_subscribe(nt){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(nt)}[V.L](){return this}pipe(...nt){return function _e(Ye){return 0===Ye.length?le.y:1===Ye.length?Ye[0]:function(nt){return Ye.reduce((Fe,ze)=>ze(Fe),nt)}}(nt)(this)}toPromise(nt){return new(nt=ne(nt))((Fe,ze)=>{let It;this.subscribe(yt=>It=yt,yt=>ze(yt),()=>Fe(It))})}}return Ye.create=et=>new Ye(et),Ye})();function ne(Ye){var et;return null!==(et=null!=Ye?Ye:Ee.v.Promise)&&void 0!==et?et:Promise}},7579:(xt,Ue,k)=>{k.d(Ue,{x:()=>Ee});var y=k(8306),p=k(727);const le=(0,k(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=k(8737),_e=k(2806);let Ee=(()=>{class Ae extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const we=new ve(this,this);return we.operator=ne,we}_throwIfClosed(){if(this.closed)throw new le}next(ne){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(ne)}})}error(ne){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:we}=this;for(;we.length;)we.shift().error(ne)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:we,isStopped:at,observers:Ye}=this;return we||at?p.Lc:(this.currentObservers=null,Ye.push(ne),new p.w0(()=>{this.currentObservers=null,(0,de.P)(Ye,ne)}))}_checkFinalizedStatuses(ne){const{hasError:we,thrownError:at,isStopped:Ye}=this;we?ne.error(at):Ye&&ne.complete()}asObservable(){const ne=new y.y;return ne.source=this,ne}}return Ae.create=(re,ne)=>new ve(re,ne),Ae})();class ve extends Ee{constructor(re,ne){super(),this.destination=re,this.source=ne}next(re){var ne,we;null===(we=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===we||we.call(ne,re)}error(re){var ne,we;null===(we=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===we||we.call(ne,re)}complete(){var re,ne;null===(ne=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ne||ne.call(re)}_subscribe(re){var ne,we;return null!==(we=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(re))&&void 0!==we?we:p.Lc}}},2961:(xt,Ue,k)=>{k.d(Ue,{Hp:()=>nt,Lv:()=>we});var y=k(576),p=k(727),V=k(2416),le=k(7849);function de(){}const _e=Ae("C",void 0,void 0);function Ae(Ne,ge,xe){return{kind:Ne,value:ge,error:xe}}var re=k(3410),ne=k(2806);class we extends p.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,p.Nn)(ge)&&ge.add(this)):this.destination=yt}static create(ge,xe,Ge){return new nt(ge,xe,Ge)}next(ge){this.isStopped?It(function ve(Ne){return Ae("N",Ne,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?It(function Ee(Ne){return Ae("E",void 0,Ne)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?It(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function Ye(Ne,ge){return at.call(Ne,ge)}class et{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:xe}=this;if(xe.next)try{xe.next(ge)}catch(Ge){Fe(Ge)}}error(ge){const{partialObserver:xe}=this;if(xe.error)try{xe.error(ge)}catch(Ge){Fe(Ge)}else Fe(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(xe){Fe(xe)}}}class nt extends we{constructor(ge,xe,Ge){let ye;if(super(),(0,y.m)(ge)||!ge)ye={next:null!=ge?ge:void 0,error:null!=xe?xe:void 0,complete:null!=Ge?Ge:void 0};else{let ot;this&&V.v.useDeprecatedNextContext?(ot=Object.create(ge),ot.unsubscribe=()=>this.unsubscribe(),ye={next:ge.next&&Ye(ge.next,ot),error:ge.error&&Ye(ge.error,ot),complete:ge.complete&&Ye(ge.complete,ot)}):ye=ge}this.destination=new et(ye)}}function Fe(Ne){V.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Ne):(0,le.h)(Ne)}function It(Ne,ge){const{onStoppedNotification:xe}=V.v;xe&&re.z.setTimeout(()=>xe(Ne,ge))}const yt={closed:!0,next:de,error:function ze(Ne){throw Ne},complete:de}},727:(xt,Ue,k)=>{k.d(Ue,{Lc:()=>_e,w0:()=>de,Nn:()=>Ee});var y=k(576);const V=(0,k(3888).d)(Ae=>function(ne){Ae(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((we,at)=>`${at+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var le=k(8737);class de{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ye of ne)Ye.remove(this);else ne.remove(this);const{initialTeardown:we}=this;if((0,y.m)(we))try{we()}catch(Ye){re=Ye instanceof V?Ye.errors:[Ye]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const Ye of at)try{ve(Ye)}catch(et){re=null!=re?re:[],et instanceof V?re=[...re,...et.errors]:re.push(et)}}if(re)throw new V(re)}}add(re){var ne;if(re&&re!==this)if(this.closed)ve(re);else{if(re instanceof de){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(re)}}_hasParent(re){const{_parentage:ne}=this;return ne===re||Array.isArray(ne)&&ne.includes(re)}_addParent(re){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(re),ne):ne?[ne,re]:re}_removeParent(re){const{_parentage:ne}=this;ne===re?this._parentage=null:Array.isArray(ne)&&(0,le.P)(ne,re)}remove(re){const{_finalizers:ne}=this;ne&&(0,le.P)(ne,re),re instanceof de&&re._removeParent(this)}}de.EMPTY=(()=>{const Ae=new de;return Ae.closed=!0,Ae})();const _e=de.EMPTY;function Ee(Ae){return Ae instanceof de||Ae&&"closed"in Ae&&(0,y.m)(Ae.remove)&&(0,y.m)(Ae.add)&&(0,y.m)(Ae.unsubscribe)}function ve(Ae){(0,y.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(xt,Ue,k)=>{k.d(Ue,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(xt,Ue,k)=>{k.d(Ue,{z:()=>de});var y=k(8189),V=k(7669),le=k(8996);function de(..._e){return function p(){return(0,y.J)(1)}()((0,le.D)(_e,(0,V.yG)(_e)))}},515:(xt,Ue,k)=>{k.d(Ue,{E:()=>p});const p=new(k(8306).y)(de=>de.complete())},8996:(xt,Ue,k)=>{k.d(Ue,{D:()=>ge});var y=k(8421),p=k(5363),V=k(9468),_e=k(8306),ve=k(2202),Ae=k(576),re=k(9672);function we(xe,Ge){if(!xe)throw new Error("Iterable cannot be null");return new _e.y(ye=>{(0,re.f)(ye,Ge,()=>{const ot=xe[Symbol.asyncIterator]();(0,re.f)(ye,Ge,()=>{ot.next().then(me=>{me.done?ye.complete():ye.next(me.value)})},0,!0)})})}var at=k(3670),Ye=k(8239),et=k(1144),nt=k(6495),Fe=k(2206),ze=k(4532),It=k(3260);function ge(xe,Ge){return Ge?function Ne(xe,Ge){if(null!=xe){if((0,at.c)(xe))return function le(xe,Ge){return(0,y.Xf)(xe).pipe((0,V.R)(Ge),(0,p.Q)(Ge))}(xe,Ge);if((0,et.z)(xe))return function Ee(xe,Ge){return new _e.y(ye=>{let ot=0;return Ge.schedule(function(){ot===xe.length?ye.complete():(ye.next(xe[ot++]),ye.closed||this.schedule())})})}(xe,Ge);if((0,Ye.t)(xe))return function de(xe,Ge){return(0,y.Xf)(xe).pipe((0,V.R)(Ge),(0,p.Q)(Ge))}(xe,Ge);if((0,Fe.D)(xe))return we(xe,Ge);if((0,nt.T)(xe))return function ne(xe,Ge){return new _e.y(ye=>{let ot;return(0,re.f)(ye,Ge,()=>{ot=xe[ve.h](),(0,re.f)(ye,Ge,()=>{let me,Pe;try{({value:me,done:Pe}=ot.next())}catch(Re){return void ye.error(Re)}Pe?ye.complete():ye.next(me)},0,!0)}),()=>(0,Ae.m)(null==ot?void 0:ot.return)&&ot.return()})}(xe,Ge);if((0,It.L)(xe))return function yt(xe,Ge){return we((0,It.Q)(xe),Ge)}(xe,Ge)}throw(0,ze.z)(xe)}(xe,Ge):(0,y.Xf)(xe)}},8421:(xt,Ue,k)=>{k.d(Ue,{Xf:()=>at});var y=k(655),p=k(1144),V=k(8239),le=k(8306),de=k(3670),_e=k(2206),Ee=k(4532),ve=k(6495),Ae=k(3260),re=k(576),ne=k(7849),we=k(8822);function at(Ne){if(Ne instanceof le.y)return Ne;if(null!=Ne){if((0,de.c)(Ne))return function Ye(Ne){return new le.y(ge=>{const xe=Ne[we.L]();if((0,re.m)(xe.subscribe))return xe.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,p.z)(Ne))return function et(Ne){return new le.y(ge=>{for(let xe=0;xe<Ne.length&&!ge.closed;xe++)ge.next(Ne[xe]);ge.complete()})}(Ne);if((0,V.t)(Ne))return function nt(Ne){return new le.y(ge=>{Ne.then(xe=>{ge.closed||(ge.next(xe),ge.complete())},xe=>ge.error(xe)).then(null,ne.h)})}(Ne);if((0,_e.D)(Ne))return ze(Ne);if((0,ve.T)(Ne))return function Fe(Ne){return new le.y(ge=>{for(const xe of Ne)if(ge.next(xe),ge.closed)return;ge.complete()})}(Ne);if((0,Ae.L)(Ne))return function It(Ne){return ze((0,Ae.Q)(Ne))}(Ne)}throw(0,Ee.z)(Ne)}function ze(Ne){return new le.y(ge=>{(function yt(Ne,ge){var xe,Ge,ye,ot;return(0,y.mG)(this,void 0,void 0,function*(){try{for(xe=(0,y.KL)(Ne);!(Ge=yield xe.next()).done;)if(ge.next(Ge.value),ge.closed)return}catch(me){ye={error:me}}finally{try{Ge&&!Ge.done&&(ot=xe.return)&&(yield ot.call(xe))}finally{if(ye)throw ye.error}}ge.complete()})})(Ne,ge).catch(xe=>ge.error(xe))})}},6451:(xt,Ue,k)=>{k.d(Ue,{T:()=>_e});var y=k(8189),p=k(8421),V=k(515),le=k(7669),de=k(8996);function _e(...Ee){const ve=(0,le.yG)(Ee),Ae=(0,le._6)(Ee,1/0),re=Ee;return re.length?1===re.length?(0,p.Xf)(re[0]):(0,y.J)(Ae)((0,de.D)(re,ve)):V.E}},9646:(xt,Ue,k)=>{k.d(Ue,{of:()=>V});var y=k(7669),p=k(8996);function V(...le){const de=(0,y.yG)(le);return(0,p.D)(le,de)}},5403:(xt,Ue,k)=>{k.d(Ue,{x:()=>p});var y=k(2961);function p(le,de,_e,Ee,ve){return new V(le,de,_e,Ee,ve)}class V extends y.Lv{constructor(de,_e,Ee,ve,Ae,re){super(de),this.onFinalize=Ae,this.shouldUnsubscribe=re,this._next=_e?function(ne){try{_e(ne)}catch(we){de.error(we)}}:super._next,this._error=ve?function(ne){try{ve(ne)}catch(we){de.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(ne){de.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4351:(xt,Ue,k)=>{k.d(Ue,{b:()=>V});var y=k(5577),p=k(576);function V(le,de){return(0,p.m)(de)?(0,y.z)(le,de,1):(0,y.z)(le,1)}},6590:(xt,Ue,k)=>{k.d(Ue,{d:()=>V});var y=k(4482),p=k(5403);function V(le){return(0,y.e)((de,_e)=>{let Ee=!1;de.subscribe((0,p.x)(_e,ve=>{Ee=!0,_e.next(ve)},()=>{Ee||_e.next(le),_e.complete()}))})}},9300:(xt,Ue,k)=>{k.d(Ue,{h:()=>V});var y=k(4482),p=k(5403);function V(le,de){return(0,y.e)((_e,Ee)=>{let ve=0;_e.subscribe((0,p.x)(Ee,Ae=>le.call(de,Ae,ve++)&&Ee.next(Ae)))})}},590:(xt,Ue,k)=>{k.d(Ue,{P:()=>Ee});var y=k(6805),p=k(9300),V=k(5698),le=k(6590),de=k(8068),_e=k(4671);function Ee(ve,Ae){const re=arguments.length>=2;return ne=>ne.pipe(ve?(0,p.h)((we,at)=>ve(we,at,ne)):_e.y,(0,V.q)(1),re?(0,le.d)(Ae):(0,de.T)(()=>new y.K))}},4004:(xt,Ue,k)=>{k.d(Ue,{U:()=>V});var y=k(4482),p=k(5403);function V(le,de){return(0,y.e)((_e,Ee)=>{let ve=0;_e.subscribe((0,p.x)(Ee,Ae=>{Ee.next(le.call(de,Ae,ve++))}))})}},8189:(xt,Ue,k)=>{k.d(Ue,{J:()=>V});var y=k(5577),p=k(4671);function V(le=1/0){return(0,y.z)(p.y,le)}},5577:(xt,Ue,k)=>{k.d(Ue,{z:()=>ve});var y=k(4004),p=k(8421),V=k(4482),le=k(9672),de=k(5403),Ee=k(576);function ve(Ae,re,ne=1/0){return(0,Ee.m)(re)?ve((we,at)=>(0,y.U)((Ye,et)=>re(we,Ye,at,et))((0,p.Xf)(Ae(we,at))),ne):("number"==typeof re&&(ne=re),(0,V.e)((we,at)=>function _e(Ae,re,ne,we,at,Ye,et,nt){const Fe=[];let ze=0,It=0,yt=!1;const Ne=()=>{yt&&!Fe.length&&!ze&&re.complete()},ge=Ge=>ze<we?xe(Ge):Fe.push(Ge),xe=Ge=>{Ye&&re.next(Ge),ze++;let ye=!1;(0,p.Xf)(ne(Ge,It++)).subscribe((0,de.x)(re,ot=>{null==at||at(ot),Ye?ge(ot):re.next(ot)},()=>{ye=!0},void 0,()=>{if(ye)try{for(ze--;Fe.length&&ze<we;){const ot=Fe.shift();et?(0,le.f)(re,et,()=>xe(ot)):xe(ot)}Ne()}catch(ot){re.error(ot)}}))};return Ae.subscribe((0,de.x)(re,ge,()=>{yt=!0,Ne()})),()=>{null==nt||nt()}}(we,at,Ae,ne)))}},5363:(xt,Ue,k)=>{k.d(Ue,{Q:()=>le});var y=k(9672),p=k(4482),V=k(5403);function le(de,_e=0){return(0,p.e)((Ee,ve)=>{Ee.subscribe((0,V.x)(ve,Ae=>(0,y.f)(ve,de,()=>ve.next(Ae),_e),()=>(0,y.f)(ve,de,()=>ve.complete(),_e),Ae=>(0,y.f)(ve,de,()=>ve.error(Ae),_e)))})}},5026:(xt,Ue,k)=>{k.d(Ue,{R:()=>le});var y=k(4482),p=k(5403);function V(de,_e,Ee,ve,Ae){return(re,ne)=>{let we=Ee,at=_e,Ye=0;re.subscribe((0,p.x)(ne,et=>{const nt=Ye++;at=we?de(at,et,nt):(we=!0,et),ve&&ne.next(at)},Ae&&(()=>{we&&ne.next(at),ne.complete()})))}}function le(de,_e){return(0,y.e)(V(de,_e,arguments.length>=2,!0))}},3099:(xt,Ue,k)=>{k.d(Ue,{B:()=>_e});var y=k(8996),p=k(5698),V=k(7579),le=k(2961),de=k(4482);function _e(ve={}){const{connector:Ae=(()=>new V.x),resetOnError:re=!0,resetOnComplete:ne=!0,resetOnRefCountZero:we=!0}=ve;return at=>{let Ye=null,et=null,nt=null,Fe=0,ze=!1,It=!1;const yt=()=>{null==et||et.unsubscribe(),et=null},Ne=()=>{yt(),Ye=nt=null,ze=It=!1},ge=()=>{const xe=Ye;Ne(),null==xe||xe.unsubscribe()};return(0,de.e)((xe,Ge)=>{Fe++,!It&&!ze&&yt();const ye=nt=null!=nt?nt:Ae();Ge.add(()=>{Fe--,0===Fe&&!It&&!ze&&(et=Ee(ge,we))}),ye.subscribe(Ge),Ye||(Ye=new le.Hp({next:ot=>ye.next(ot),error:ot=>{It=!0,yt(),et=Ee(Ne,re,ot),ye.error(ot)},complete:()=>{ze=!0,yt(),et=Ee(Ne,ne),ye.complete()}}),(0,y.D)(xe).subscribe(Ye))})(at)}}function Ee(ve,Ae,...re){return!0===Ae?(ve(),null):!1===Ae?null:Ae(...re).pipe((0,p.q)(1)).subscribe(()=>ve())}},8675:(xt,Ue,k)=>{k.d(Ue,{O:()=>le});var y=k(7272),p=k(7669),V=k(4482);function le(...de){const _e=(0,p.yG)(de);return(0,V.e)((Ee,ve)=>{(_e?(0,y.z)(de,Ee,_e):(0,y.z)(de,Ee)).subscribe(ve)})}},9468:(xt,Ue,k)=>{k.d(Ue,{R:()=>p});var y=k(4482);function p(V,le=0){return(0,y.e)((de,_e)=>{_e.add(V.schedule(()=>de.subscribe(_e),le))})}},3900:(xt,Ue,k)=>{k.d(Ue,{w:()=>le});var y=k(8421),p=k(4482),V=k(5403);function le(de,_e){return(0,p.e)((Ee,ve)=>{let Ae=null,re=0,ne=!1;const we=()=>ne&&!Ae&&ve.complete();Ee.subscribe((0,V.x)(ve,at=>{null==Ae||Ae.unsubscribe();let Ye=0;const et=re++;(0,y.Xf)(de(at,et)).subscribe(Ae=(0,V.x)(ve,nt=>ve.next(_e?_e(at,nt,et,Ye++):nt),()=>{Ae=null,we()}))},()=>{ne=!0,we()}))})}},5698:(xt,Ue,k)=>{k.d(Ue,{q:()=>le});var y=k(515),p=k(4482),V=k(5403);function le(de){return de<=0?()=>y.E:(0,p.e)((_e,Ee)=>{let ve=0;_e.subscribe((0,V.x)(Ee,Ae=>{++ve<=de&&(Ee.next(Ae),de<=ve&&Ee.complete())}))})}},8505:(xt,Ue,k)=>{k.d(Ue,{b:()=>de});var y=k(576),p=k(4482),V=k(5403),le=k(4671);function de(_e,Ee,ve){const Ae=(0,y.m)(_e)||Ee||ve?{next:_e,error:Ee,complete:ve}:_e;return Ae?(0,p.e)((re,ne)=>{var we;null===(we=Ae.subscribe)||void 0===we||we.call(Ae);let at=!0;re.subscribe((0,V.x)(ne,Ye=>{var et;null===(et=Ae.next)||void 0===et||et.call(Ae,Ye),ne.next(Ye)},()=>{var Ye;at=!1,null===(Ye=Ae.complete)||void 0===Ye||Ye.call(Ae),ne.complete()},Ye=>{var et;at=!1,null===(et=Ae.error)||void 0===et||et.call(Ae,Ye),ne.error(Ye)},()=>{var Ye,et;at&&(null===(Ye=Ae.unsubscribe)||void 0===Ye||Ye.call(Ae)),null===(et=Ae.finalize)||void 0===et||et.call(Ae)}))}):le.y}},8068:(xt,Ue,k)=>{k.d(Ue,{T:()=>le});var y=k(6805),p=k(4482),V=k(5403);function le(_e=de){return(0,p.e)((Ee,ve)=>{let Ae=!1;Ee.subscribe((0,V.x)(ve,re=>{Ae=!0,ve.next(re)},()=>Ae?ve.complete():ve.error(_e())))})}function de(){return new y.K}},4408:(xt,Ue,k)=>{k.d(Ue,{o:()=>de});var y=k(727);class p extends y.w0{constructor(Ee,ve){super()}schedule(Ee,ve=0){return this}}const V={setInterval(_e,Ee,...ve){const{delegate:Ae}=V;return(null==Ae?void 0:Ae.setInterval)?Ae.setInterval(_e,Ee,...ve):setInterval(_e,Ee,...ve)},clearInterval(_e){const{delegate:Ee}=V;return((null==Ee?void 0:Ee.clearInterval)||clearInterval)(_e)},delegate:void 0};var le=k(8737);class de extends p{constructor(Ee,ve){super(Ee,ve),this.scheduler=Ee,this.work=ve,this.pending=!1}schedule(Ee,ve=0){if(this.closed)return this;this.state=Ee;const Ae=this.id,re=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(re,Ae,ve)),this.pending=!0,this.delay=ve,this.id=this.id||this.requestAsyncId(re,this.id,ve),this}requestAsyncId(Ee,ve,Ae=0){return V.setInterval(Ee.flush.bind(Ee,this),Ae)}recycleAsyncId(Ee,ve,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return ve;V.clearInterval(ve)}execute(Ee,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Ee,ve);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,ve){let re,Ae=!1;try{this.work(Ee)}catch(ne){Ae=!0,re=ne||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:ve}=this,{actions:Ae}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(Ae,this),null!=Ee&&(this.id=this.recycleAsyncId(ve,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Ue,k)=>{k.d(Ue,{v:()=>V});var y=k(6063);class p{constructor(de,_e=p.now){this.schedulerActionCtor=de,this.now=_e}schedule(de,_e=0,Ee){return new this.schedulerActionCtor(this,de).schedule(Ee,_e)}}p.now=y.l.now;class V extends p{constructor(de,_e=p.now){super(de,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(de){const{actions:_e}=this;if(this._active)return void _e.push(de);let Ee;this._active=!0;do{if(Ee=de.execute(de.state,de.delay))break}while(de=_e.shift());if(this._active=!1,Ee){for(;de=_e.shift();)de.unsubscribe();throw Ee}}}},4986:(xt,Ue,k)=>{k.d(Ue,{z:()=>V});var y=k(4408);const V=new(k(7565).v)(y.o)},6063:(xt,Ue,k)=>{k.d(Ue,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(xt,Ue,k)=>{k.d(Ue,{z:()=>y});const y={setTimeout(p,V,...le){const{delegate:de}=y;return(null==de?void 0:de.setTimeout)?de.setTimeout(p,V,...le):setTimeout(p,V,...le)},clearTimeout(p){const{delegate:V}=y;return((null==V?void 0:V.clearTimeout)||clearTimeout)(p)},delegate:void 0}},2202:(xt,Ue,k)=>{k.d(Ue,{h:()=>p});const p=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Ue,k)=>{k.d(Ue,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(xt,Ue,k)=>{k.d(Ue,{K:()=>p});const p=(0,k(3888).d)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(xt,Ue,k)=>{k.d(Ue,{_6:()=>_e,jO:()=>le,yG:()=>de});var y=k(576);function V(Ee){return Ee[Ee.length-1]}function le(Ee){return(0,y.m)(V(Ee))?Ee.pop():void 0}function de(Ee){return function p(Ee){return Ee&&(0,y.m)(Ee.schedule)}(V(Ee))?Ee.pop():void 0}function _e(Ee,ve){return"number"==typeof V(Ee)?Ee.pop():ve}},4742:(xt,Ue,k)=>{k.d(Ue,{D:()=>de});const{isArray:y}=Array,{getPrototypeOf:p,prototype:V,keys:le}=Object;function de(Ee){if(1===Ee.length){const ve=Ee[0];if(y(ve))return{args:ve,keys:null};if(function _e(Ee){return Ee&&"object"==typeof Ee&&p(Ee)===V}(ve)){const Ae=le(ve);return{args:Ae.map(re=>ve[re]),keys:Ae}}}return{args:Ee,keys:null}}},8737:(xt,Ue,k)=>{function y(p,V){if(p){const le=p.indexOf(V);0<=le&&p.splice(le,1)}}k.d(Ue,{P:()=>y})},3888:(xt,Ue,k)=>{function y(p){const le=p(de=>{Error.call(de),de.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}k.d(Ue,{d:()=>y})},1810:(xt,Ue,k)=>{function y(p,V){return p.reduce((le,de,_e)=>(le[de]=V[_e],le),{})}k.d(Ue,{n:()=>y})},2806:(xt,Ue,k)=>{k.d(Ue,{O:()=>le,x:()=>V});var y=k(2416);let p=null;function V(de){if(y.v.useDeprecatedSynchronousErrorHandling){const _e=!p;if(_e&&(p={errorThrown:!1,error:null}),de(),_e){const{errorThrown:Ee,error:ve}=p;if(p=null,Ee)throw ve}}else de()}function le(de){y.v.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=de)}},9672:(xt,Ue,k)=>{function y(p,V,le,de=0,_e=!1){const Ee=V.schedule(function(){le(),_e?p.add(this.schedule(null,de)):this.unsubscribe()},de);if(p.add(Ee),!_e)return Ee}k.d(Ue,{f:()=>y})},4671:(xt,Ue,k)=>{function y(p){return p}k.d(Ue,{y:()=>y})},1144:(xt,Ue,k)=>{k.d(Ue,{z:()=>y});const y=p=>p&&"number"==typeof p.length&&"function"!=typeof p},2206:(xt,Ue,k)=>{k.d(Ue,{D:()=>p});var y=k(576);function p(V){return Symbol.asyncIterator&&(0,y.m)(null==V?void 0:V[Symbol.asyncIterator])}},576:(xt,Ue,k)=>{function y(p){return"function"==typeof p}k.d(Ue,{m:()=>y})},3670:(xt,Ue,k)=>{k.d(Ue,{c:()=>V});var y=k(8822),p=k(576);function V(le){return(0,p.m)(le[y.L])}},6495:(xt,Ue,k)=>{k.d(Ue,{T:()=>V});var y=k(2202),p=k(576);function V(le){return(0,p.m)(null==le?void 0:le[y.h])}},8239:(xt,Ue,k)=>{k.d(Ue,{t:()=>p});var y=k(576);function p(V){return(0,y.m)(null==V?void 0:V.then)}},3260:(xt,Ue,k)=>{k.d(Ue,{L:()=>le,Q:()=>V});var y=k(655),p=k(576);function V(de){return(0,y.FC)(this,arguments,function*(){const Ee=de.getReader();try{for(;;){const{value:ve,done:Ae}=yield(0,y.qq)(Ee.read());if(Ae)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(ve)}}finally{Ee.releaseLock()}})}function le(de){return(0,p.m)(null==de?void 0:de.getReader)}},4482:(xt,Ue,k)=>{k.d(Ue,{A:()=>p,e:()=>V});var y=k(576);function p(le){return(0,y.m)(null==le?void 0:le.lift)}function V(le){return de=>{if(p(de))return de.lift(function(_e){try{return le(_e,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(xt,Ue,k)=>{k.d(Ue,{Z:()=>le});var y=k(4004);const{isArray:p}=Array;function le(de){return(0,y.U)(_e=>function V(de,_e){return p(_e)?de(..._e):de(_e)}(de,_e))}},7849:(xt,Ue,k)=>{k.d(Ue,{h:()=>V});var y=k(2416),p=k(3410);function V(le){p.z.setTimeout(()=>{const{onUnhandledError:de}=y.v;if(!de)throw le;de(le)})}},4532:(xt,Ue,k)=>{function y(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ue,{z:()=>y})},655:(xt,Ue,k)=>{function le(me,Pe){var Re={};for(var Be in me)Object.prototype.hasOwnProperty.call(me,Be)&&Pe.indexOf(Be)<0&&(Re[Be]=me[Be]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(Be=Object.getOwnPropertySymbols(me);ct<Be.length;ct++)Pe.indexOf(Be[ct])<0&&Object.prototype.propertyIsEnumerable.call(me,Be[ct])&&(Re[Be[ct]]=me[Be[ct]])}return Re}function ve(me,Pe,Re,Be){return new(Re||(Re=Promise))(function(Oe,zt){function vn(Ft){try{Nt(Be.next(Ft))}catch(Ln){zt(Ln)}}function Qt(Ft){try{Nt(Be.throw(Ft))}catch(Ln){zt(Ln)}}function Nt(Ft){Ft.done?Oe(Ft.value):function ct(Oe){return Oe instanceof Re?Oe:new Re(function(zt){zt(Oe)})}(Ft.value).then(vn,Qt)}Nt((Be=Be.apply(me,Pe||[])).next())})}function Fe(me){return this instanceof Fe?(this.v=me,this):new Fe(me)}function ze(me,Pe,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Be=Re.apply(me,Pe||[]),Oe=[];return ct={},zt("next"),zt("throw"),zt("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function zt(Nn){Be[Nn]&&(ct[Nn]=function(ut){return new Promise(function(tt,fe){Oe.push([Nn,ut,tt,fe])>1||vn(Nn,ut)})})}function vn(Nn,ut){try{!function Qt(Nn){Nn.value instanceof Fe?Promise.resolve(Nn.value.v).then(Nt,Ft):Ln(Oe[0][2],Nn)}(Be[Nn](ut))}catch(tt){Ln(Oe[0][3],tt)}}function Nt(Nn){vn("next",Nn)}function Ft(Nn){vn("throw",Nn)}function Ln(Nn,ut){Nn(ut),Oe.shift(),Oe.length&&vn(Oe[0][0],Oe[0][1])}}function yt(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Pe=me[Symbol.asyncIterator];return Pe?Pe.call(me):(me=function we(me){var Pe="function"==typeof Symbol&&Symbol.iterator,Re=Pe&&me[Pe],Be=0;if(Re)return Re.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&Be>=me.length&&(me=void 0),{value:me&&me[Be++],done:!me}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),Re={},Be("next"),Be("throw"),Be("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function Be(Oe){Re[Oe]=me[Oe]&&function(zt){return new Promise(function(vn,Qt){!function ct(Oe,zt,vn,Qt){Promise.resolve(Qt).then(function(Nt){Oe({value:Nt,done:vn})},zt)}(vn,Qt,(zt=me[Oe](zt)).done,zt.value)})}}}k.d(Ue,{FC:()=>ze,KL:()=>yt,_T:()=>le,mG:()=>ve,qq:()=>Fe})},1777:(xt,Ue,k)=>{k.d(Ue,{LC:()=>p,SB:()=>Ae,X$:()=>le,ZE:()=>It,ZN:()=>ze,_j:()=>y,eR:()=>ne,jt:()=>de,k1:()=>yt,l3:()=>V,oB:()=>ve,vP:()=>Ee});class y{}class p{}const V="*";function le(Ne,ge){return{type:7,name:Ne,definitions:ge,options:{}}}function de(Ne,ge=null){return{type:4,styles:ge,timings:Ne}}function Ee(Ne,ge=null){return{type:2,steps:Ne,options:ge}}function ve(Ne){return{type:6,styles:Ne,offset:null}}function Ae(Ne,ge,xe){return{type:0,name:Ne,styles:ge,options:xe}}function ne(Ne,ge,xe=null){return{type:1,expr:Ne,animation:ge,options:xe}}function Fe(Ne){Promise.resolve(null).then(Ne)}class ze{constructor(ge=0,xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ge+xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}onStart(ge){this._onStartFns.push(ge)}onDone(ge){this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ge=>ge()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ge){this._position=this.totalTime?ge*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ge){const xe="start"==ge?this._onStartFns:this._onDoneFns;xe.forEach(Ge=>Ge()),xe.length=0}}class It{constructor(ge){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ge;let xe=0,Ge=0,ye=0;const ot=this.players.length;0==ot?Fe(()=>this._onFinish()):this.players.forEach(me=>{me.onDone(()=>{++xe==ot&&this._onFinish()}),me.onDestroy(()=>{++Ge==ot&&this._onDestroy()}),me.onStart(()=>{++ye==ot&&this._onStart()})}),this.totalTime=this.players.reduce((me,Pe)=>Math.max(me,Pe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}init(){this.players.forEach(ge=>ge.init())}onStart(ge){this._onStartFns.push(ge)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ge=>ge()),this._onStartFns=[])}onDone(ge){this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ge=>ge.play())}pause(){this.players.forEach(ge=>ge.pause())}restart(){this.players.forEach(ge=>ge.restart())}finish(){this._onFinish(),this.players.forEach(ge=>ge.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ge=>ge.destroy()),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this.players.forEach(ge=>ge.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ge){const xe=ge*this.totalTime;this.players.forEach(Ge=>{const ye=Ge.totalTime?Math.min(1,xe/Ge.totalTime):1;Ge.setPosition(ye)})}getPosition(){const ge=this.players.reduce((xe,Ge)=>null===xe||Ge.totalTime>xe.totalTime?Ge:xe,null);return null!=ge?ge.getPosition():0}beforeDestroy(){this.players.forEach(ge=>{ge.beforeDestroy&&ge.beforeDestroy()})}triggerCallback(ge){const xe="start"==ge?this._onStartFns:this._onDoneFns;xe.forEach(Ge=>Ge()),xe.length=0}}const yt="!"},9808:(xt,Ue,k)=>{k.d(Ue,{Do:()=>Ne,EM:()=>wo,HT:()=>de,JF:()=>rr,K0:()=>Ee,Mx:()=>yo,O5:()=>Br,PM:()=>ss,S$:()=>Fe,V_:()=>re,Ye:()=>ge,b0:()=>yt,bD:()=>Pr,ez:()=>za,lw:()=>ve,mr:()=>It,q:()=>V,sg:()=>gr,w_:()=>_e});var y=k(5e3);let p=null;function V(){return p}function de(O){p||(p=O)}class _e{}const Ee=new y.OlP("DocumentToken");let ve=(()=>{class O{historyGo(x){throw new Error("Not implemented")}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:function(){return function Ae(){return(0,y.LFG)(ne)}()},providedIn:"platform"}),O})();const re=new y.OlP("Location Initialized");let ne=(()=>{class O extends ve{constructor(x){super(),this._doc=x,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(x){const z=V().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",x,!1),()=>z.removeEventListener("popstate",x)}onHashChange(x){const z=V().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",x,!1),()=>z.removeEventListener("hashchange",x)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(x){this.location.pathname=x}pushState(x,z,ie){we()?this._history.pushState(x,z,ie):this.location.hash=ie}replaceState(x,z,ie){we()?this._history.replaceState(x,z,ie):this.location.hash=ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return O.\u0275fac=function(x){return new(x||O)(y.LFG(Ee))},O.\u0275prov=y.Yz7({token:O,factory:function(){return function at(){return new ne((0,y.LFG)(Ee))}()},providedIn:"platform"}),O})();function we(){return!!window.history.pushState}function Ye(O,B){if(0==O.length)return B;if(0==B.length)return O;let x=0;return O.endsWith("/")&&x++,B.startsWith("/")&&x++,2==x?O+B.substring(1):1==x?O+B:O+"/"+B}function et(O){const B=O.match(/#|\?|$/),x=B&&B.index||O.length;return O.slice(0,x-("/"===O[x-1]?1:0))+O.slice(x)}function nt(O){return O&&"?"!==O[0]?"?"+O:O}let Fe=(()=>{class O{historyGo(x){throw new Error("Not implemented")}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:function(){return function ze(O){const B=(0,y.LFG)(Ee).location;return new yt((0,y.LFG)(ve),B&&B.origin||"")}()},providedIn:"root"}),O})();const It=new y.OlP("appBaseHref");let yt=(()=>{class O extends Fe{constructor(x,z){if(super(),this._platformLocation=x,this._removeListenerFns=[],null==z&&(z=this._platformLocation.getBaseHrefFromDOM()),null==z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return Ye(this._baseHref,x)}path(x=!1){const z=this._platformLocation.pathname+nt(this._platformLocation.search),ie=this._platformLocation.hash;return ie&&x?`${z}${ie}`:z}pushState(x,z,ie,je){const rt=this.prepareExternalUrl(ie+nt(je));this._platformLocation.pushState(x,z,rt)}replaceState(x,z,ie,je){const rt=this.prepareExternalUrl(ie+nt(je));this._platformLocation.replaceState(x,z,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var z,ie;null===(ie=(z=this._platformLocation).historyGo)||void 0===ie||ie.call(z,x)}}return O.\u0275fac=function(x){return new(x||O)(y.LFG(ve),y.LFG(It,8))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac}),O})(),Ne=(()=>{class O extends Fe{constructor(x,z){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(x){const z=Ye(this._baseHref,x);return z.length>0?"#"+z:z}pushState(x,z,ie,je){let rt=this.prepareExternalUrl(ie+nt(je));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.pushState(x,z,rt)}replaceState(x,z,ie,je){let rt=this.prepareExternalUrl(ie+nt(je));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.replaceState(x,z,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var z,ie;null===(ie=(z=this._platformLocation).historyGo)||void 0===ie||ie.call(z,x)}}return O.\u0275fac=function(x){return new(x||O)(y.LFG(ve),y.LFG(It,8))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac}),O})(),ge=(()=>{class O{constructor(x,z){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=x;const ie=this._platformStrategy.getBaseHref();this._platformLocation=z,this._baseHref=et(ye(ie)),this._platformStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}path(x=!1){return this.normalize(this._platformStrategy.path(x))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(x,z=""){return this.path()==this.normalize(x+nt(z))}normalize(x){return O.stripTrailingSlash(function Ge(O,B){return O&&B.startsWith(O)?B.substring(O.length):B}(this._baseHref,ye(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._platformStrategy.prepareExternalUrl(x)}go(x,z="",ie=null){this._platformStrategy.pushState(ie,"",x,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+nt(z)),ie)}replaceState(x,z="",ie=null){this._platformStrategy.replaceState(ie,"",x,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+nt(z)),ie)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(x=0){var z,ie;null===(ie=(z=this._platformStrategy).historyGo)||void 0===ie||ie.call(z,x)}onUrlChange(x){this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)}))}_notifyUrlChangeListeners(x="",z){this._urlChangeListeners.forEach(ie=>ie(x,z))}subscribe(x,z,ie){return this._subject.subscribe({next:x,error:z,complete:ie})}}return O.normalizeQueryParams=nt,O.joinWithSlash=Ye,O.stripTrailingSlash=et,O.\u0275fac=function(x){return new(x||O)(y.LFG(Fe),y.LFG(ve))},O.\u0275prov=y.Yz7({token:O,factory:function(){return function xe(){return new ge((0,y.LFG)(Fe),(0,y.LFG)(ve))}()},providedIn:"root"}),O})();function ye(O){return O.replace(/\/index.html$/,"")}function yo(O,B){B=encodeURIComponent(B);for(const x of O.split(";")){const z=x.indexOf("="),[ie,je]=-1==z?[x,""]:[x.slice(0,z),x.slice(z+1)];if(ie.trim()===B)return decodeURIComponent(je)}return null}class ui{constructor(B,x,z,ie){this.$implicit=B,this.ngForOf=x,this.index=z,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gr=(()=>{class O{constructor(x,z,ie){this._viewContainer=x,this._template=z,this._differs=ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const z=this._viewContainer;x.forEachOperation((ie,je,rt)=>{if(null==ie.previousIndex)z.createEmbeddedView(this._template,new ui(ie.item,this._ngForOf,-1,-1),null===rt?void 0:rt);else if(null==rt)z.remove(null===je?void 0:je);else if(null!==je){const At=z.get(je);z.move(At,rt),Or(At,ie)}});for(let ie=0,je=z.length;ie<je;ie++){const At=z.get(ie).context;At.index=ie,At.count=je,At.ngForOf=this._ngForOf}x.forEachIdentityChange(ie=>{Or(z.get(ie.currentIndex),ie)})}static ngTemplateContextGuard(x,z){return!0}}return O.\u0275fac=function(x){return new(x||O)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},O.\u0275dir=y.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),O})();function Or(O,B){O.context.$implicit=B.item}let Br=(()=>{class O{constructor(x,z){this._viewContainer=x,this._context=new Gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Js("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Js("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,z){return!0}}return O.\u0275fac=function(x){return new(x||O)(y.Y36(y.s_b),y.Y36(y.Rgc))},O.\u0275dir=y.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),O})();class Gn{constructor(){this.$implicit=null,this.ngIf=null}}function Js(O,B){if(B&&!B.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,y.AaK)(B)}'.`)}let za=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275mod=y.oAB({type:O}),O.\u0275inj=y.cJS({}),O})();const Pr="browser";function ss(O){return"server"===O}let wo=(()=>{class O{}return O.\u0275prov=(0,y.Yz7)({token:O,providedIn:"root",factory:()=>new Qo((0,y.LFG)(Ee),window)}),O})();class Qo{constructor(B,x){this.document=B,this.window=x,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const x=function ti(O,B){const x=O.getElementById(B)||O.getElementsByName(B)[0];if(x)return x;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const z=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let ie=z.currentNode;for(;ie;){const je=ie.shadowRoot;if(je){const rt=je.getElementById(B)||je.querySelector(`[name="${B}"]`);if(rt)return rt}ie=z.nextNode()}}return null}(this.document,B);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=B)}}scrollToElement(B){const x=B.getBoundingClientRect(),z=x.left+this.window.pageXOffset,ie=x.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(z-je[0],ie-je[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=Wi(this.window.history)||Wi(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch(B){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(B){return!1}}}function Wi(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class rr{}},520:(xt,Ue,k)=>{k.d(Ue,{JF:()=>yn,eN:()=>Oe});var y=k(9808),p=k(5e3),V=k(9646),le=k(8306),de=k(4351),_e=k(9300),Ee=k(4004);class ve{}class Ae{}class re{constructor(oe){this.normalizedNames=new Map,this.lazyUpdate=null,oe?this.lazyInit="string"==typeof oe?()=>{this.headers=new Map,oe.split("\n").forEach(he=>{const dt=he.indexOf(":");if(dt>0){const Ce=he.slice(0,dt),lt=Ce.toLowerCase(),ft=he.slice(dt+1).trim();this.maybeSetNormalizedName(Ce,lt),this.headers.has(lt)?this.headers.get(lt).push(ft):this.headers.set(lt,[ft])}})}:()=>{this.headers=new Map,Object.keys(oe).forEach(he=>{let dt=oe[he];const Ce=he.toLowerCase();"string"==typeof dt&&(dt=[dt]),dt.length>0&&(this.headers.set(Ce,dt),this.maybeSetNormalizedName(he,Ce))})}:this.headers=new Map}has(oe){return this.init(),this.headers.has(oe.toLowerCase())}get(oe){this.init();const he=this.headers.get(oe.toLowerCase());return he&&he.length>0?he[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(oe){return this.init(),this.headers.get(oe.toLowerCase())||null}append(oe,he){return this.clone({name:oe,value:he,op:"a"})}set(oe,he){return this.clone({name:oe,value:he,op:"s"})}delete(oe,he){return this.clone({name:oe,value:he,op:"d"})}maybeSetNormalizedName(oe,he){this.normalizedNames.has(he)||this.normalizedNames.set(he,oe)}init(){this.lazyInit&&(this.lazyInit instanceof re?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(oe=>this.applyUpdate(oe)),this.lazyUpdate=null))}copyFrom(oe){oe.init(),Array.from(oe.headers.keys()).forEach(he=>{this.headers.set(he,oe.headers.get(he)),this.normalizedNames.set(he,oe.normalizedNames.get(he))})}clone(oe){const he=new re;return he.lazyInit=this.lazyInit&&this.lazyInit instanceof re?this.lazyInit:this,he.lazyUpdate=(this.lazyUpdate||[]).concat([oe]),he}applyUpdate(oe){const he=oe.name.toLowerCase();switch(oe.op){case"a":case"s":let dt=oe.value;if("string"==typeof dt&&(dt=[dt]),0===dt.length)return;this.maybeSetNormalizedName(oe.name,he);const Ce=("a"===oe.op?this.headers.get(he):void 0)||[];Ce.push(...dt),this.headers.set(he,Ce);break;case"d":const lt=oe.value;if(lt){let ft=this.headers.get(he);if(!ft)return;ft=ft.filter(In=>-1===lt.indexOf(In)),0===ft.length?(this.headers.delete(he),this.normalizedNames.delete(he)):this.headers.set(he,ft)}else this.headers.delete(he),this.normalizedNames.delete(he)}}forEach(oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(he=>oe(this.normalizedNames.get(he),this.headers.get(he)))}}class ne{encodeKey(oe){return et(oe)}encodeValue(oe){return et(oe)}decodeKey(oe){return decodeURIComponent(oe)}decodeValue(oe){return decodeURIComponent(oe)}}const at=/%(\d[a-f0-9])/gi,Ye={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function et(Ze){return encodeURIComponent(Ze).replace(at,(oe,he)=>{var dt;return null!==(dt=Ye[he])&&void 0!==dt?dt:oe})}function nt(Ze){return`${Ze}`}class Fe{constructor(oe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=oe.encoder||new ne,oe.fromString){if(oe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function we(Ze,oe){const he=new Map;return Ze.length>0&&Ze.replace(/^\?/,"").split("&").forEach(Ce=>{const lt=Ce.indexOf("="),[ft,In]=-1==lt?[oe.decodeKey(Ce),""]:[oe.decodeKey(Ce.slice(0,lt)),oe.decodeValue(Ce.slice(lt+1))],an=he.get(ft)||[];an.push(In),he.set(ft,an)}),he}(oe.fromString,this.encoder)}else oe.fromObject?(this.map=new Map,Object.keys(oe.fromObject).forEach(he=>{const dt=oe.fromObject[he];this.map.set(he,Array.isArray(dt)?dt:[dt])})):this.map=null}has(oe){return this.init(),this.map.has(oe)}get(oe){this.init();const he=this.map.get(oe);return he?he[0]:null}getAll(oe){return this.init(),this.map.get(oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(oe,he){return this.clone({param:oe,value:he,op:"a"})}appendAll(oe){const he=[];return Object.keys(oe).forEach(dt=>{const Ce=oe[dt];Array.isArray(Ce)?Ce.forEach(lt=>{he.push({param:dt,value:lt,op:"a"})}):he.push({param:dt,value:Ce,op:"a"})}),this.clone(he)}set(oe,he){return this.clone({param:oe,value:he,op:"s"})}delete(oe,he){return this.clone({param:oe,value:he,op:"d"})}toString(){return this.init(),this.keys().map(oe=>{const he=this.encoder.encodeKey(oe);return this.map.get(oe).map(dt=>he+"="+this.encoder.encodeValue(dt)).join("&")}).filter(oe=>""!==oe).join("&")}clone(oe){const he=new Fe({encoder:this.encoder});return he.cloneFrom=this.cloneFrom||this,he.updates=(this.updates||[]).concat(oe),he}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(oe=>this.map.set(oe,this.cloneFrom.map.get(oe))),this.updates.forEach(oe=>{switch(oe.op){case"a":case"s":const he=("a"===oe.op?this.map.get(oe.param):void 0)||[];he.push(nt(oe.value)),this.map.set(oe.param,he);break;case"d":if(void 0===oe.value){this.map.delete(oe.param);break}{let dt=this.map.get(oe.param)||[];const Ce=dt.indexOf(nt(oe.value));-1!==Ce&&dt.splice(Ce,1),dt.length>0?this.map.set(oe.param,dt):this.map.delete(oe.param)}}}),this.cloneFrom=this.updates=null)}}class It{constructor(){this.map=new Map}set(oe,he){return this.map.set(oe,he),this}get(oe){return this.map.has(oe)||this.map.set(oe,oe.defaultValue()),this.map.get(oe)}delete(oe){return this.map.delete(oe),this}has(oe){return this.map.has(oe)}keys(){return this.map.keys()}}function Ne(Ze){return"undefined"!=typeof ArrayBuffer&&Ze instanceof ArrayBuffer}function ge(Ze){return"undefined"!=typeof Blob&&Ze instanceof Blob}function xe(Ze){return"undefined"!=typeof FormData&&Ze instanceof FormData}class ye{constructor(oe,he,dt,Ce){let lt;if(this.url=he,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=oe.toUpperCase(),function yt(Ze){switch(Ze){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ce?(this.body=void 0!==dt?dt:null,lt=Ce):lt=dt,lt&&(this.reportProgress=!!lt.reportProgress,this.withCredentials=!!lt.withCredentials,lt.responseType&&(this.responseType=lt.responseType),lt.headers&&(this.headers=lt.headers),lt.context&&(this.context=lt.context),lt.params&&(this.params=lt.params)),this.headers||(this.headers=new re),this.context||(this.context=new It),this.params){const ft=this.params.toString();if(0===ft.length)this.urlWithParams=he;else{const In=he.indexOf("?");this.urlWithParams=he+(-1===In?"?":In<he.length-1?"&":"")+ft}}else this.params=new Fe,this.urlWithParams=he}serializeBody(){return null===this.body?null:Ne(this.body)||ge(this.body)||xe(this.body)||function Ge(Ze){return"undefined"!=typeof URLSearchParams&&Ze instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xe(this.body)?null:ge(this.body)?this.body.type||null:Ne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(oe={}){var he;const dt=oe.method||this.method,Ce=oe.url||this.url,lt=oe.responseType||this.responseType,ft=void 0!==oe.body?oe.body:this.body,In=void 0!==oe.withCredentials?oe.withCredentials:this.withCredentials,an=void 0!==oe.reportProgress?oe.reportProgress:this.reportProgress;let Zt=oe.headers||this.headers,wr=oe.params||this.params;const Zn=null!==(he=oe.context)&&void 0!==he?he:this.context;return void 0!==oe.setHeaders&&(Zt=Object.keys(oe.setHeaders).reduce((en,vt)=>en.set(vt,oe.setHeaders[vt]),Zt)),oe.setParams&&(wr=Object.keys(oe.setParams).reduce((en,vt)=>en.set(vt,oe.setParams[vt]),wr)),new ye(dt,Ce,ft,{params:wr,headers:Zt,context:Zn,reportProgress:an,responseType:lt,withCredentials:In})}}var ot=(()=>((ot=ot||{})[ot.Sent=0]="Sent",ot[ot.UploadProgress=1]="UploadProgress",ot[ot.ResponseHeader=2]="ResponseHeader",ot[ot.DownloadProgress=3]="DownloadProgress",ot[ot.Response=4]="Response",ot[ot.User=5]="User",ot))();class me{constructor(oe,he=200,dt="OK"){this.headers=oe.headers||new re,this.status=void 0!==oe.status?oe.status:he,this.statusText=oe.statusText||dt,this.url=oe.url||null,this.ok=this.status>=200&&this.status<300}}class Pe extends me{constructor(oe={}){super(oe),this.type=ot.ResponseHeader}clone(oe={}){return new Pe({headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class Re extends me{constructor(oe={}){super(oe),this.type=ot.Response,this.body=void 0!==oe.body?oe.body:null}clone(oe={}){return new Re({body:void 0!==oe.body?oe.body:this.body,headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class Be extends me{constructor(oe){super(oe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${oe.url||"(unknown url)"}`:`Http failure response for ${oe.url||"(unknown url)"}: ${oe.status} ${oe.statusText}`,this.error=oe.error||null}}function ct(Ze,oe){return{body:oe,headers:Ze.headers,context:Ze.context,observe:Ze.observe,params:Ze.params,reportProgress:Ze.reportProgress,responseType:Ze.responseType,withCredentials:Ze.withCredentials}}let Oe=(()=>{class Ze{constructor(he){this.handler=he}request(he,dt,Ce={}){let lt;if(he instanceof ye)lt=he;else{let an,Zt;an=Ce.headers instanceof re?Ce.headers:new re(Ce.headers),Ce.params&&(Zt=Ce.params instanceof Fe?Ce.params:new Fe({fromObject:Ce.params})),lt=new ye(he,dt,void 0!==Ce.body?Ce.body:null,{headers:an,context:Ce.context,params:Zt,reportProgress:Ce.reportProgress,responseType:Ce.responseType||"json",withCredentials:Ce.withCredentials})}const ft=(0,V.of)(lt).pipe((0,de.b)(an=>this.handler.handle(an)));if(he instanceof ye||"events"===Ce.observe)return ft;const In=ft.pipe((0,_e.h)(an=>an instanceof Re));switch(Ce.observe||"body"){case"body":switch(lt.responseType){case"arraybuffer":return In.pipe((0,Ee.U)(an=>{if(null!==an.body&&!(an.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return an.body}));case"blob":return In.pipe((0,Ee.U)(an=>{if(null!==an.body&&!(an.body instanceof Blob))throw new Error("Response is not a Blob.");return an.body}));case"text":return In.pipe((0,Ee.U)(an=>{if(null!==an.body&&"string"!=typeof an.body)throw new Error("Response is not a string.");return an.body}));default:return In.pipe((0,Ee.U)(an=>an.body))}case"response":return In;default:throw new Error(`Unreachable: unhandled observe type ${Ce.observe}}`)}}delete(he,dt={}){return this.request("DELETE",he,dt)}get(he,dt={}){return this.request("GET",he,dt)}head(he,dt={}){return this.request("HEAD",he,dt)}jsonp(he,dt){return this.request("JSONP",he,{params:(new Fe).append(dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(he,dt={}){return this.request("OPTIONS",he,dt)}patch(he,dt,Ce={}){return this.request("PATCH",he,ct(Ce,dt))}post(he,dt,Ce={}){return this.request("POST",he,ct(Ce,dt))}put(he,dt,Ce={}){return this.request("PUT",he,ct(Ce,dt))}}return Ze.\u0275fac=function(he){return new(he||Ze)(p.LFG(ve))},Ze.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class zt{constructor(oe,he){this.next=oe,this.interceptor=he}handle(oe){return this.interceptor.intercept(oe,this.next)}}const vn=new p.OlP("HTTP_INTERCEPTORS");let Qt=(()=>{class Ze{intercept(he,dt){return dt.handle(he)}}return Ze.\u0275fac=function(he){return new(he||Ze)},Ze.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const _t=/^\)\]\}',?\n/;let Tn=(()=>{class Ze{constructor(he){this.xhrFactory=he}handle(he){if("JSONP"===he.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new le.y(dt=>{const Ce=this.xhrFactory.build();if(Ce.open(he.method,he.urlWithParams),he.withCredentials&&(Ce.withCredentials=!0),he.headers.forEach((vt,pn)=>Ce.setRequestHeader(vt,pn.join(","))),he.headers.has("Accept")||Ce.setRequestHeader("Accept","application/json, text/plain, */*"),!he.headers.has("Content-Type")){const vt=he.detectContentTypeHeader();null!==vt&&Ce.setRequestHeader("Content-Type",vt)}if(he.responseType){const vt=he.responseType.toLowerCase();Ce.responseType="json"!==vt?vt:"text"}const lt=he.serializeBody();let ft=null;const In=()=>{if(null!==ft)return ft;const vt=Ce.statusText||"OK",pn=new re(Ce.getAllResponseHeaders()),un=function Lt(Ze){return"responseURL"in Ze&&Ze.responseURL?Ze.responseURL:/^X-Request-URL:/m.test(Ze.getAllResponseHeaders())?Ze.getResponseHeader("X-Request-URL"):null}(Ce)||he.url;return ft=new Pe({headers:pn,status:Ce.status,statusText:vt,url:un}),ft},an=()=>{let{headers:vt,status:pn,statusText:un,url:Ct}=In(),Le=null;204!==pn&&(Le=void 0===Ce.response?Ce.responseText:Ce.response),0===pn&&(pn=Le?200:0);let wt=pn>=200&&pn<300;if("json"===he.responseType&&"string"==typeof Le){const Ht=Le;Le=Le.replace(_t,"");try{Le=""!==Le?JSON.parse(Le):null}catch(nn){Le=Ht,wt&&(wt=!1,Le={error:nn,text:Le})}}wt?(dt.next(new Re({body:Le,headers:vt,status:pn,statusText:un,url:Ct||void 0})),dt.complete()):dt.error(new Be({error:Le,headers:vt,status:pn,statusText:un,url:Ct||void 0}))},Zt=vt=>{const{url:pn}=In(),un=new Be({error:vt,status:Ce.status||0,statusText:Ce.statusText||"Unknown Error",url:pn||void 0});dt.error(un)};let wr=!1;const Zn=vt=>{wr||(dt.next(In()),wr=!0);let pn={type:ot.DownloadProgress,loaded:vt.loaded};vt.lengthComputable&&(pn.total=vt.total),"text"===he.responseType&&!!Ce.responseText&&(pn.partialText=Ce.responseText),dt.next(pn)},en=vt=>{let pn={type:ot.UploadProgress,loaded:vt.loaded};vt.lengthComputable&&(pn.total=vt.total),dt.next(pn)};return Ce.addEventListener("load",an),Ce.addEventListener("error",Zt),Ce.addEventListener("timeout",Zt),Ce.addEventListener("abort",Zt),he.reportProgress&&(Ce.addEventListener("progress",Zn),null!==lt&&Ce.upload&&Ce.upload.addEventListener("progress",en)),Ce.send(lt),dt.next({type:ot.Sent}),()=>{Ce.removeEventListener("error",Zt),Ce.removeEventListener("abort",Zt),Ce.removeEventListener("load",an),Ce.removeEventListener("timeout",Zt),he.reportProgress&&(Ce.removeEventListener("progress",Zn),null!==lt&&Ce.upload&&Ce.upload.removeEventListener("progress",en)),Ce.readyState!==Ce.DONE&&Ce.abort()}})}}return Ze.\u0275fac=function(he){return new(he||Ze)(p.LFG(y.JF))},Ze.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const kn=new p.OlP("XSRF_COOKIE_NAME"),tr=new p.OlP("XSRF_HEADER_NAME");class cr{}let zn=(()=>{class Ze{constructor(he,dt,Ce){this.doc=he,this.platform=dt,this.cookieName=Ce,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const he=this.doc.cookie||"";return he!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(he,this.cookieName),this.lastCookieString=he),this.lastToken}}return Ze.\u0275fac=function(he){return new(he||Ze)(p.LFG(y.K0),p.LFG(p.Lbi),p.LFG(kn))},Ze.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),Wn=(()=>{class Ze{constructor(he,dt){this.tokenService=he,this.headerName=dt}intercept(he,dt){const Ce=he.url.toLowerCase();if("GET"===he.method||"HEAD"===he.method||Ce.startsWith("http://")||Ce.startsWith("https://"))return dt.handle(he);const lt=this.tokenService.getToken();return null!==lt&&!he.headers.has(this.headerName)&&(he=he.clone({headers:he.headers.set(this.headerName,lt)})),dt.handle(he)}}return Ze.\u0275fac=function(he){return new(he||Ze)(p.LFG(cr),p.LFG(tr))},Ze.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),Mr=(()=>{class Ze{constructor(he,dt){this.backend=he,this.injector=dt,this.chain=null}handle(he){if(null===this.chain){const dt=this.injector.get(vn,[]);this.chain=dt.reduceRight((Ce,lt)=>new zt(Ce,lt),this.backend)}return this.chain.handle(he)}}return Ze.\u0275fac=function(he){return new(he||Ze)(p.LFG(Ae),p.LFG(p.zs3))},Ze.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),$n=(()=>{class Ze{static disable(){return{ngModule:Ze,providers:[{provide:Wn,useClass:Qt}]}}static withOptions(he={}){return{ngModule:Ze,providers:[he.cookieName?{provide:kn,useValue:he.cookieName}:[],he.headerName?{provide:tr,useValue:he.headerName}:[]]}}}return Ze.\u0275fac=function(he){return new(he||Ze)},Ze.\u0275mod=p.oAB({type:Ze}),Ze.\u0275inj=p.cJS({providers:[Wn,{provide:vn,useExisting:Wn,multi:!0},{provide:cr,useClass:zn},{provide:kn,useValue:"XSRF-TOKEN"},{provide:tr,useValue:"X-XSRF-TOKEN"}]}),Ze})(),yn=(()=>{class Ze{}return Ze.\u0275fac=function(he){return new(he||Ze)},Ze.\u0275mod=p.oAB({type:Ze}),Ze.\u0275inj=p.cJS({providers:[Oe,{provide:ve,useClass:Mr},Tn,{provide:Ae,useExisting:Tn}],imports:[[$n.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ze})()},5e3:(xt,Ue,k)=>{k.d(Ue,{$8M:()=>uo,$Z:()=>qd,AFp:()=>Ww,AaK:()=>ve,BQk:()=>Eg,CHM:()=>Rn,CRH:()=>lm,CZH:()=>Iv,CqO:()=>wg,EJc:()=>_D,EiD:()=>Ph,EpF:()=>o_,F4k:()=>Hi,FYo:()=>Z_,FiY:()=>Qi,G48:()=>ob,GfV:()=>Kg,Gpc:()=>ne,JOm:()=>No,JVY:()=>xh,L6k:()=>fp,LAX:()=>Rh,LFG:()=>qt,LSH:()=>us,Lbi:()=>Kw,MAs:()=>Uc,MGl:()=>Yl,NdJ:()=>bg,O4$:()=>Du,OlP:()=>Hr,Oqu:()=>Mg,PXZ:()=>Zf,Q6J:()=>zd,QGY:()=>a_,Qsj:()=>vw,R0b:()=>po,RDi:()=>Wi,Rgc:()=>ed,SBq:()=>Jc,Sil:()=>kT,Suo:()=>um,TTD:()=>Bs,TgZ:()=>pf,Tol:()=>xE,Udp:()=>y_,VLi:()=>tb,W1O:()=>fv,X6Q:()=>sb,XFs:()=>Vt,Xpm:()=>rn,Y36:()=>Ku,YKP:()=>Cw,YNc:()=>Kl,Yjl:()=>H,Yz7:()=>tt,ZZ4:()=>gb,_Bn:()=>pw,_UZ:()=>_g,_Vd:()=>oh,_c5:()=>fu,_uU:()=>Sg,aQg:()=>Am,c2e:()=>Yw,cJS:()=>be,cg1:()=>Lg,d8E:()=>Ng,dDg:()=>Pv,deG:()=>sp,dqk:()=>Zt,eBb:()=>Oh,eFA:()=>Kf,ekj:()=>__,g9A:()=>Zw,h0i:()=>Ua,hGG:()=>sI,hij:()=>gi,iGM:()=>jw,ifc:()=>Ce,ip1:()=>Tv,kL8:()=>Vg,kcU:()=>Au,lG2:()=>q,mCW:()=>L,n5z:()=>hr,oAB:()=>Z,oJD:()=>Nh,oxw:()=>l_,pB0:()=>Bm,q3G:()=>Qr,q4F:()=>Ew,qLn:()=>wp,qOj:()=>Bi,qZA:()=>yg,qzn:()=>Uu,sBO:()=>$T,sIi:()=>Vd,s_b:()=>sm,soG:()=>Ba,tBr:()=>Yr,tb:()=>PT,tp0:()=>xo,uIk:()=>ql,vHH:()=>et,vpe:()=>ma,wAp:()=>Jt,xp6:()=>Zh,yhl:()=>hp,ynx:()=>vg,z2F:()=>rd,z3N:()=>Da,zSh:()=>hi,zs3:()=>Ps});var y=k(7579),p=k(727),V=k(8306),le=k(6451),de=k(3099);function _e(i){for(let s in i)if(i[s]===_e)return s;throw Error("Could not find renamed property on target object.")}function Ee(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ve(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ve).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ae(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const re=_e({__forward_ref__:_e});function ne(i){return i.__forward_ref__=ne,i.toString=function(){return ve(this())},i}function we(i){return at(i)?i():i}function at(i){return"function"==typeof i&&i.hasOwnProperty(re)&&i.__forward_ref__===ne}class et extends Error{constructor(s,a){super(function nt(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function Fe(i){return"string"==typeof i?i:null==i?"":String(i)}function ze(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Fe(i)}function ge(i,s){const a=s?` in ${s}`:"";throw new et(-201,`No provider for ${ze(i)} found${a}`)}function Nt(i,s){null==i&&function Ft(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function tt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function be(i){return{providers:i.providers||[],imports:i.imports||[]}}function _t(i){return Lt(i,cr)||Lt(i,Wn)}function Lt(i,s){return i.hasOwnProperty(s)?i[s]:null}function tr(i){return i&&(i.hasOwnProperty(zn)||i.hasOwnProperty(Mr))?i[zn]:null}const cr=_e({\u0275prov:_e}),zn=_e({\u0275inj:_e}),Wn=_e({ngInjectableDef:_e}),Mr=_e({ngInjectorDef:_e});var Vt=(()=>((Vt=Vt||{})[Vt.Default=0]="Default",Vt[Vt.Host=1]="Host",Vt[Vt.Self=2]="Self",Vt[Vt.SkipSelf=4]="SkipSelf",Vt[Vt.Optional=8]="Optional",Vt))();let fr;function yn(i){const s=fr;return fr=i,s}function xn(i,s,a){const u=_t(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Vt.Optional?null:void 0!==s?s:void ge(ve(i),"Injector")}function Ze(i){return{toString:i}.toString()}var oe=(()=>((oe=oe||{})[oe.OnPush=0]="OnPush",oe[oe.Default=1]="Default",oe))(),Ce=(()=>{return(i=Ce||(Ce={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ce;var i})();const lt="undefined"!=typeof globalThis&&globalThis,ft="undefined"!=typeof window&&window,In="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=lt||"undefined"!=typeof global&&global||ft||In,en={},vt=[],pn=_e({\u0275cmp:_e}),un=_e({\u0275dir:_e}),Ct=_e({\u0275pipe:_e}),Le=_e({\u0275mod:_e}),wt=_e({\u0275fac:_e}),Ht=_e({__NG_ELEMENT_ID__:_e});let nn=0;function rn(i){return Ze(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||vt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ce.Emulated,id:"c",styles:i.styles||vt,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,f=i.features,_=i.pipes;return u.id+=nn++,u.inputs=F(i.inputs,a),u.outputs=F(i.outputs),f&&f.forEach(C=>C(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(X):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(pe):null,u})}function X(i){return te(i)||function ke(i){return i[un]||null}(i)}function pe(i){return function Qe(i){return i[Ct]||null}(i)}const He={};function Z(i){return Ze(()=>{const s={type:i.type,bootstrap:i.bootstrap||vt,declarations:i.declarations||vt,imports:i.imports||vt,exports:i.exports||vt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(He[i.id]=i.type),s})}function F(i,s){if(null==i)return en;const a={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),a[c]=u,s&&(s[c]=f)}return a}const q=rn;function H(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function te(i){return i[pn]||null}function St(i,s){const a=i[Le]||null;if(!a&&!0===s)throw new Error(`Type ${ve(i)} does not have '\u0275mod' property.`);return a}function Tr(i){return Array.isArray(i)&&"object"==typeof i[1]}function yi(i){return Array.isArray(i)&&!0===i[1]}function ys(i){return 0!=(8&i.flags)}function Xs(i){return 2==(2&i.flags)}function Ls(i){return 1==(1&i.flags)}function Mi(i){return null!==i.template}function zo(i){return 0!=(512&i[2])}function ci(i,s){return i.hasOwnProperty(wt)?i[wt]:null}class _a{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Bs(){return Zo}function Zo(i){return i.type.prototype.ngOnChanges&&(i.setInput=vi),Ko}function Ko(){const i=Pr(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===en)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function vi(i,s,a,u){const c=Pr(i)||function xi(i,s){return i[za]=s}(i,{previous:en,current:null}),f=c.current||(c.current={}),_=c.previous,C=this.declaredInputs[a],D=_[C];f[C]=new _a(D&&D.currentValue,s,_===en),i[u]=s}Bs.ngInherit=!0;const za="__ngSimpleChanges__";function Pr(i){return i[za]||null}let Qo;function Wi(i){Qo=i}function ti(){return void 0!==Qo?Qo:"undefined"!=typeof document?document:void 0}function rr(i){return!!i.listen}const O={createRenderer:(i,s)=>ti()};function x(i){for(;Array.isArray(i);)i=i[0];return i}function je(i,s){return x(s[i])}function rt(i,s){return x(s[i.index])}function Qn(i,s){return i.data[s]}function bn(i,s){const a=s[i];return Tr(a)?a:a[0]}function Dn(i){return 4==(4&i[2])}function mr(i){return 128==(128&i[2])}function sr(i,s){return null==s?null:i[s]}function di(i){i[18]=0}function ni(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const Kt={lFrame:Cu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function bo(){return Kt.bindingsEnabled}function st(){return Kt.lFrame.lView}function Bt(){return Kt.lFrame.tView}function Rn(i){return Kt.lFrame.contextLView=i,i[8]}function Jn(){let i=vu();for(;null!==i&&64===i.type;)i=i.parent;return i}function vu(){return Kt.lFrame.currentTNode}function bs(i,s){const a=Kt.lFrame;a.currentTNode=i,a.isParent=s}function Eu(){return Kt.lFrame.isParent}function Hs(){Kt.lFrame.isParent=!1}function Jo(){return Kt.isInCheckNoChangesMode}function Xo(i){Kt.isInCheckNoChangesMode=i}function ea(){return Kt.lFrame.bindingIndex++}function Oi(i){const s=Kt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function dl(i,s){const a=Kt.lFrame;a.bindingIndex=a.bindingRootIndex=i,wu(s)}function wu(i){Kt.lFrame.currentDirectiveIndex=i}function Co(i){const s=Kt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function bu(){return Kt.lFrame.currentQueryIndex}function hl(i){Kt.lFrame.currentQueryIndex=i}function Ca(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function na(i,s,a){if(a&Vt.SkipSelf){let c=s,f=i;for(;!(c=c.parent,null!==c||a&Vt.Host||(c=Ca(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,i=f}const u=Kt.lFrame=io();return u.currentTNode=s,u.lView=i,!0}function ra(i){const s=io(),a=i[1];Kt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function io(){const i=Kt.lFrame,s=null===i?null:i.child;return null===s?Cu(i):s}function Cu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function fl(){const i=Kt.lFrame;return Kt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Tu=fl;function ia(){const i=fl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ri(){return Kt.lFrame.selectedIndex}function sa(i){Kt.lFrame.selectedIndex=i}function Ir(){const i=Kt.lFrame;return Qn(i.tView,i.selectedIndex)}function Du(){Kt.lFrame.currentNamespace="svg"}function Au(){!function Ts(){Kt.lFrame.currentNamespace=null}()}function so(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:N,ngOnDestroy:U}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),C&&((i.contentHooks||(i.contentHooks=[])).push(a,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,C)),D&&(i.viewHooks||(i.viewHooks=[])).push(-a,D),N&&((i.viewHooks||(i.viewHooks=[])).push(a,N),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,N)),null!=U&&(i.destroyHooks||(i.destroyHooks=[])).push(a,U)}}function To(i,s,a){jr(i,s,3,a)}function Wr(i,s,a,u){(3&i[2])===a&&jr(i,s,a,u)}function Dr(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function jr(i,s,a,u){const f=null!=u?u:-1,_=s.length-1;let C=0;for(let D=void 0!==u?65535&i[18]:0;D<_;D++)if("number"==typeof s[D+1]){if(C=s[D],null!=u&&C>=u)break}else s[D]<0&&(i[18]+=65536),(C<f||-1==f)&&(Ka(i,a,s,D),i[18]=(4294901760&i[18])+D+2),D++}function Ka(i,s,a,u){const c=a[u]<0,f=a[u+1],C=i[c?-a[u]:a[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class Gs{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Do(i,s,a){const u=rr(i);let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const _=a[c++],C=a[c++],D=a[c++];u?i.setAttribute(s,C,D,_):s.setAttributeNS(_,C,D)}else{const _=f,C=a[++c];os(_)?u&&i.setProperty(s,_,C):u?i.setAttribute(s,_,C):s.setAttribute(_,C),c++}}return c}function gl(i){return 3===i||4===i||6===i}function os(i){return 64===i.charCodeAt(0)}function Is(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?a=c:0===a||xu(i,a,c,null,-1===a||2===a?s[++u]:null)}}return i}function xu(i,s,a,u,c){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const C=i[f++];if("number"==typeof C){if(C===s){_=-1;break}if(C>s){_=f-1;break}}}for(;f<i.length;){const C=i[f];if("number"==typeof C)break;if(C===a){if(null===u)return void(null!==c&&(i[f+1]=c));if(u===i[f+1])return void(i[f+2]=c)}f++,null!==u&&f++,null!==c&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==u&&i.splice(f++,0,u),null!==c&&i.splice(f++,0,c)}function Ar(i){return-1!==i}function Ds(i){return 32767&i}function as(i,s){let a=function oa(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let qs=!0;function ao(i){const s=qs;return qs=i,s}let Ws=0;function Ei(i,s){const a=Ss(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,As(u.data,i),As(s,null),As(u.blueprint,null));const c=wi(i,s),f=i.injectorIndex;if(Ar(c)){const _=Ds(c),C=as(c,s),D=C[1].data;for(let N=0;N<8;N++)s[f+N]=C[_+N]|D[_+N]}return s[f+8]=c,f}function As(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ss(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function wi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,c=s;for(;null!==c;){const f=c[1],_=f.type;if(u=2===_?f.declTNode:1===_?c[6]:null,null===u)return-1;if(a++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function I(i,s,a){!function Ja(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Ht)&&(u=a[Ht]),null==u&&(u=a[Ht]=Ws++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function v(i,s,a){if(a&Vt.Optional)return i;ge(s,"NodeInjector")}function S(i,s,a,u){if(a&Vt.Optional&&void 0===u&&(u=null),0==(a&(Vt.Self|Vt.Host))){const c=i[9],f=yn(void 0);try{return c?c.get(s,u,a&Vt.Optional):xn(s,u,a&Vt.Optional)}finally{yn(f)}}return v(u,s,a)}function P(i,s,a,u=Vt.Default,c){if(null!==i){const f=function An(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Ht)?i[Ht]:void 0;return"number"==typeof s?s>=0?255&s:J:s}(a);if("function"==typeof f){if(!na(s,i,u))return u&Vt.Host?v(c,a,u):S(s,a,u,c);try{const _=f(u);if(null!=_||u&Vt.Optional)return _;ge(a)}finally{Tu()}}else if("number"==typeof f){let _=null,C=Ss(i,s),D=-1,N=u&Vt.Host?s[16][6]:null;for((-1===C||u&Vt.SkipSelf)&&(D=-1===C?wi(i,s):s[C+8],-1!==D&&Hn(u,!1)?(_=s[1],C=Ds(D),s=as(D,s)):C=-1);-1!==C;){const U=s[1];if($t(f,C,U.data)){const Y=se(C,s,a,_,u,N);if(Y!==$)return Y}D=s[C+8],-1!==D&&Hn(u,s[1].data[C+8]===N)&&$t(f,C,s)?(_=U,C=Ds(D),s=as(D,s)):C=-1}}}return S(s,a,u,c)}const $={};function J(){return new Pn(Jn(),st())}function se(i,s,a,u,c,f){const _=s[1],C=_.data[i+8],U=$e(C,_,a,null==u?Xs(C)&&qs:u!=_&&0!=(3&C.type),c&Vt.Host&&f===C);return null!==U?Rt(s,_,U,C):$}function $e(i,s,a,u,c){const f=i.providerIndexes,_=s.data,C=1048575&f,D=i.directiveStart,U=f>>20,ce=c?C+U:i.directiveEnd;for(let De=u?C:C+U;De<ce;De++){const Je=_[De];if(De<D&&a===Je||De>=D&&Je.type===a)return De}if(c){const De=_[D];if(De&&Mi(De)&&De.type===a)return D}return null}function Rt(i,s,a,u){let c=i[a];const f=s.data;if(function oo(i){return i instanceof Gs}(c)){const _=c;_.resolving&&function It(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new et(-200,`Circular dependency in DI detected for ${i}${a}`)}(ze(f[a]));const C=ao(_.canSeeViewProviders);_.resolving=!0;const D=_.injectImpl?yn(_.injectImpl):null;na(i,u,Vt.Default);try{c=i[a]=_.factory(void 0,f,i,u),s.firstCreatePass&&a>=u.directiveStart&&function $s(i,s,a){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(u){const _=Zo(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==D&&yn(D),ao(C),_.resolving=!1,Tu()}}return c}function $t(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Hn(i,s){return!(i&Vt.Self||i&Vt.Host&&s)}class Pn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return P(this._tNode,this._lView,s,u,a)}}function hr(i){return Ze(()=>{const s=i.prototype.constructor,a=s[wt]||Ni(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const f=c[wt]||Ni(c);if(f&&f!==a)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Ni(i){return at(i)?()=>{const s=Ni(we(i));return s&&s()}:ci(i)}function uo(i){return function E(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let c=0;for(;c<u;){const f=a[c];if(gl(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<u&&"string"==typeof a[c];)c++;else{if(f===s)return a[c+1];c+=2}}}return null}(Jn(),i)}const ki="__parameters__";function Ta(i,s,a){return Ze(()=>{const u=function dd(i){return function(...a){if(i){const u=i(...a);for(const c in u)this[c]=u[c]}}}(s);function c(...f){if(this instanceof c)return u.apply(this,f),this;const _=new c(...f);return C.annotation=_,C;function C(D,N,U){const Y=D.hasOwnProperty(ki)?D[ki]:Object.defineProperty(D,ki,{value:[]})[ki];for(;Y.length<=U;)Y.push(null);return(Y[U]=Y[U]||[]).push(_),D}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Hr{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sp=new Hr("AnalyzeForEntryComponents");function Fi(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),Fi(u,s)):s!==i&&s.push(u)}return s}function bi(i,s){i.forEach(a=>Array.isArray(a)?bi(a,s):s(a))}function eu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function aa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ms(i,s,a){let u=co(i,s);return u>=0?i[1|u]=a:(u=~u,function lc(i,s,a,u){let c=i.length;if(c==s)i.push(a,u);else if(1===c)i.push(u,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function Pu(i,s){const a=co(i,s);if(a>=0)return i[1|a]}function co(i,s){return function Ao(i,s,a){let u=0,c=i.length>>a;for(;c!==u;){const f=u+(c-u>>1),_=i[f<<a];if(s===_)return f<<a;_>s?c=f:u=f+1}return~(c<<a)}(i,s,1)}const Mo={},Cl="__NG_DI_FLAG__",Tl="ngTempTokenPath",R=/\n/gm,ee="__source",Ie=_e({provide:String,useValue:_e});let Ve;function gt(i){const s=Ve;return Ve=i,s}function jt(i,s=Vt.Default){if(void 0===Ve)throw new et(203,"");return null===Ve?xn(i,void 0,s):Ve.get(i,s&Vt.Optional?null:void 0,s)}function qt(i,s=Vt.Default){return(function $n(){return fr}()||jt)(we(i),s)}const Yn=qt;function _n(i){const s=[];for(let a=0;a<i.length;a++){const u=we(i[a]);if(Array.isArray(u)){if(0===u.length)throw new et(900,"");let c,f=Vt.Default;for(let _=0;_<u.length;_++){const C=u[_],D=Kr(C);"number"==typeof D?-1===D?c=C.token:f|=D:c=C}s.push(qt(c,f))}else s.push(qt(u))}return s}function ii(i,s){return i[Cl]=s,i.prototype[Cl]=s,i}function Kr(i){return i[Cl]}const Yr=ii(Ta("Inject",i=>({token:i})),-1),Qi=ii(Ta("Optional"),8),xo=ii(Ta("SkipSelf"),4);let Vu,wd;function Dl(i){var s;return(null===(s=function Ih(){if(void 0===Vu&&(Vu=null,Zt.trustedTypes))try{Vu=Zt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Vu}())||void 0===s?void 0:s.createHTML(i))||i}function cp(i){var s;return(null===(s=function Dh(){if(void 0===wd&&(wd=null,Zt.trustedTypes))try{wd=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return wd}())||void 0===s?void 0:s.createHTML(i))||i}class ca{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dp extends ca{getTypeName(){return"HTML"}}class Vm extends ca{getTypeName(){return"Style"}}class bd extends ca{getTypeName(){return"Script"}}class Um extends ca{getTypeName(){return"URL"}}class Mh extends ca{getTypeName(){return"ResourceURL"}}function Da(i){return i instanceof ca?i.changingThisBreaksApplicationSecurity:i}function Uu(i,s){const a=hp(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function hp(i){return i instanceof ca&&i.getTypeName()||null}function xh(i){return new dp(i)}function fp(i){return new Vm(i)}function Oh(i){return new bd(i)}function Rh(i){return new Um(i)}function Bm(i){return new Mh(i)}class d0{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Dl(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class da{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Dl(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Dl(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const _=a.item(c).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const h=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,T=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function L(i){return(i=String(i)).match(h)||i.match(T)?i:"unsafe:"+i}function Me(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function it(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const Ke=Me("area,br,col,hr,img,wbr"),tn=Me("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tt=Me("rp,rt"),Al=it(Ke,it(tn,Me("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),it(Tt,Me("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),it(Tt,tn)),Sl=Me("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mc=Me("srcset"),si=it(Sl,mc,Me("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Me("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yc=Me("script,style,template");class Ti{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Al.hasOwnProperty(a))return this.sanitizedSomething=!0,!yc.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let c=0;c<u.length;c++){const f=u.item(c),_=f.name,C=_.toLowerCase();if(!si.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=f.value;Sl[C]&&(D=L(D)),mc[C]&&(i=D,D=(i=String(i)).split(",").map(s=>L(s.trim())).join(", ")),this.buf.push(" ",_,'="',mp(D),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Al.hasOwnProperty(a)&&!Ke.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(mp(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const ha=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gp=/([^\#-~ |!])/g;function mp(i){return i.replace(/&/g,"&amp;").replace(ha,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(gp,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bu;function Ph(i,s){let a=null;try{Bu=Bu||function pp(i){const s=new da(i);return function w(){try{return!!(new window.DOMParser).parseFromString(Dl(""),"text/html")}catch(i){return!1}}()?new d0(s):s}(i);let u=s?String(s):"";a=Bu.getInertBodyElement(u);let c=5,f=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=f,f=a.innerHTML,a=Bu.getInertBodyElement(u)}while(u!==f);return Dl((new Ti).sanitizeChildren($m(a)||a))}finally{if(a){const u=$m(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function $m(i){return"content"in i&&function h0(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Qr=(()=>((Qr=Qr||{})[Qr.NONE=0]="NONE",Qr[Qr.HTML=1]="HTML",Qr[Qr.STYLE=2]="STYLE",Qr[Qr.SCRIPT=3]="SCRIPT",Qr[Qr.URL=4]="URL",Qr[Qr.RESOURCE_URL=5]="RESOURCE_URL",Qr))();function Nh(i){const s=_c();return s?cp(s.sanitize(Qr.HTML,i)||""):Uu(i,"HTML")?cp(Da(i)):Ph(ti(),Fe(i))}function us(i){const s=_c();return s?s.sanitize(Qr.URL,i)||"":Uu(i,"URL")?Da(i):L(Fe(i))}function _c(){const i=st();return i&&i[12]}const zm="__ngContext__";function Ji(i,s){i[zm]=s}function Wm(i){const s=function Cd(i){return i[zm]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Ec(i){return i.ngOriginalError}function kh(i,...s){i.error(...s)}class wp{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function Hb(i){return i&&i.ngErrorLogger||kh}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Ec(s);for(;a&&Ec(a);)a=Ec(a);return a||null}}const b0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function fa(i){return i instanceof Function?i():i}var No=(()=>((No=No||{})[No.Important=1]="Important",No[No.DashCase=2]="DashCase",No))();function ty(i,s){return undefined(i,s)}function Lh(i){const s=i[3];return yi(s)?s[3]:s}function Vh(i){return Dp(i[13])}function ry(i){return Dp(i[4])}function Dp(i){for(;null!==i&&!yi(i);)i=i[4];return i}function Id(i,s,a,u,c){if(null!=u){let f,_=!1;yi(u)?f=u:Tr(u)&&(_=!0,u=u[0]);const C=x(u);0===i&&null!==a?null==c?Ad(s,a,C):Ml(s,a,C,c||null,!0):1===i&&null!==a?Ml(s,a,C,c||null,!0):2===i?function qh(i,s,a){const u=jh(i,s);u&&function Ys(i,s,a,u){rr(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,C,_):3===i&&s.destroyNode(C),null!=f&&function Np(i,s,a,u,c){const f=a[7];f!==x(a)&&Id(s,i,u,f,c);for(let C=10;C<a.length;C++){const D=a[C];Md(D[1],D,i,s,u,f)}}(s,i,f,a,c)}}function Sp(i,s,a){if(rr(i))return i.createElement(s,a);{const u=null!==a?function wo(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function O0(i,s){const a=i[9],u=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,ni(c,-1)),a.splice(u,1)}function sy(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const c=u[17];null!==c&&c!==i&&O0(c,u),s>0&&(i[a-1][4]=u[4]);const f=aa(i,10+s);!function Wb(i,s){Md(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const _=f[19];null!==_&&_.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function wc(i,s){if(!(256&s[2])){const a=s[11];rr(a)&&a.destroyNode&&Md(i,s,a,3,null,null),function M0(i){let s=i[13];if(!s)return oy(i[1],i);for(;s;){let a=null;if(Tr(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)Tr(s)&&oy(s[1],s),s=s[3];null===s&&(s=i),Tr(s)&&oy(s[1],s),a=s&&s[4]}s=a}}(s)}}function oy(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function bc(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const c=s[a[u]];if(!(c instanceof Gs)){const f=a[u+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const C=c[f[_]],D=f[_+1];try{D.call(C)}finally{}}else try{f.call(c)}finally{}}}}(i,s),function Zb(i,s){const a=i.cleanup,u=s[7];let c=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],C="function"==typeof _?_(s):x(s[_]),D=u[c=a[f+2]],N=a[f+3];"boolean"==typeof N?C.removeEventListener(a[f],D,N):N>=0?u[c=N]():u[c=-N].unsubscribe(),f+=2}else{const _=u[c=a[f+1]];a[f].call(_)}if(null!==u){for(let f=c+1;f<u.length;f++)u[f]();s[7]=null}}(i,s),1===s[1].type&&rr(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&yi(s[3])){a!==s[3]&&O0(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function ay(i,s,a){return function Bh(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===Ce.None||c===Ce.Emulated)return null}return rt(u,a)}(i,s.parent,a)}function Ml(i,s,a,u,c){rr(i)?i.insertBefore(s,a,u,c):s.insertBefore(a,u,c)}function Ad(i,s,a){rr(i)?i.appendChild(s,a):s.appendChild(a)}function uy(i,s,a,u,c){null!==u?Ml(i,s,a,u,c):Ad(i,s,a)}function jh(i,s){return rr(i)?i.parentNode(s):s.parentNode}let xp=function ly(i,s,a){return 40&i.type?rt(i,a):null};function xl(i,s,a,u){const c=ay(i,u,s),f=s[11],C=function $h(i,s,a){return xp(i,s,a)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(a))for(let D=0;D<a.length;D++)uy(f,c,a[D],C,!1);else uy(f,c,a,C,!1)}function Sd(i,s){if(null!==s){const a=s.type;if(3&a)return rt(s,i);if(4&a)return Gh(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Sd(i,u);{const c=i[s.index];return yi(c)?Gh(-1,c):x(c)}}if(32&a)return ty(s,i)()||x(i[s.index]);{const u=Rp(i,s);return null!==u?Array.isArray(u)?u[0]:Sd(Lh(i[16]),u):Sd(i,s.next)}}return null}function Rp(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Gh(i,s){const a=10+i+1;if(a<s.length){const u=s[a],c=u[1].firstChild;if(null!==c)return Sd(u,c)}return s[7]}function Cc(i,s,a,u,c,f,_){for(;null!=a;){const C=u[a.index],D=a.type;if(_&&0===s&&(C&&Ji(x(C),u),a.flags|=4),64!=(64&a.flags))if(8&D)Cc(i,s,a.child,u,c,f,!1),Id(s,i,c,C,f);else if(32&D){const N=ty(a,u);let U;for(;U=N();)Id(s,i,c,U,f);Id(s,i,c,C,f)}else 16&D?Pp(i,s,u,a,c,f):Id(s,i,c,C,f);a=_?a.projectionNext:a.next}}function Md(i,s,a,u,c,f){Cc(a,u,i.firstChild,s,c,f,!1)}function Pp(i,s,a,u,c,f){const _=a[16],D=_[6].projection[u.projection];if(Array.isArray(D))for(let N=0;N<D.length;N++)Id(s,i,c,D[N],f);else Cc(i,s,D,_[3],c,f,!0)}function hy(i,s,a){rr(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function kp(i,s,a){rr(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function fy(i,s,a){let u=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const f=s.length;if(c+f===u||i.charCodeAt(c+f)<=32)return c}a=c+1}}const xd="ng-template";function R0(i,s,a){let u=0;for(;u<i.length;){let c=i[u++];if(a&&"class"===c){if(c=i[u],-1!==fy(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function zh(i){return 4===i.type&&i.value!==xd}function Wh(i,s,a){return s===(4!==i.type||a?i.value:xd)}function Tc(i,s,a){let u=4;const c=i.attrs||[],f=function py(i){for(let s=0;s<i.length;s++)if(gl(i[s]))return s;return i.length}(c);let _=!1;for(let C=0;C<s.length;C++){const D=s[C];if("number"!=typeof D){if(!_)if(4&u){if(u=2|1&u,""!==D&&!Wh(i,D,a)||""===D&&1===s.length){if(ko(u))return!1;_=!0}}else{const N=8&u?D:s[++C];if(8&u&&null!==i.attrs){if(!R0(i.attrs,N,a)){if(ko(u))return!1;_=!0}continue}const Y=Yb(8&u?"class":D,c,zh(i),a);if(-1===Y){if(ko(u))return!1;_=!0;continue}if(""!==N){let ce;ce=Y>f?"":c[Y+1].toLowerCase();const De=8&u?ce:null;if(De&&-1!==fy(De,N,0)||2&u&&N!==ce){if(ko(u))return!1;_=!0}}}}else{if(!_&&!ko(u)&&!ko(D))return!1;if(_&&ko(D))continue;_=!1,u=D|1&u}}return ko(u)||_}function ko(i){return 0==(1&i)}function Yb(i,s,a,u){if(null===s)return-1;let c=0;if(u||!a){let f=!1;for(;c<s.length;){const _=s[c];if(_===i)return c;if(3===_||6===_)f=!0;else{if(1===_||2===_){let C=s[++c];for(;"string"==typeof C;)C=s[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=f?1:2}return-1}return function Ic(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function Fp(i,s,a=!1){for(let u=0;u<s.length;u++)if(Tc(i,s[u],a))return!0;return!1}function N0(i,s){return i?":not("+s.trim()+")":s}function Dc(i){let s=i[0],a=1,u=2,c="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&u){const C=i[++a];c+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?c+="."+_:4&u&&(c+=" "+_);else""!==c&&!ko(_)&&(s+=N0(f,c),c=""),u=_,f=f||!ko(u);a++}return""!==c&&(s+=N0(f,c)),s}const Sn={};function Zh(i){gy(Bt(),st(),ri()+i,Jo())}function gy(i,s,a,u){if(!u)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&To(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Wr(s,f,0,a)}sa(a)}function Ac(i,s){return i<<17|s<<2}function Aa(i){return i>>17&32767}function Sc(i){return 2|i}function Hu(i){return(131068&i)>>2}function Vp(i,s){return-131069&i|s<<2}function my(i){return 1|i}function Zp(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const c=a[u],f=a[u+1];if(-1!==f){const _=i.data[f];hl(c),_.contentQueries(2,s[f],f)}}}function Mc(i,s,a,u,c,f,_,C,D,N){const U=s.blueprint.slice();return U[0]=c,U[2]=140|u,di(U),U[3]=U[15]=i,U[8]=a,U[10]=_||i&&i[10],U[11]=C||i&&i[11],U[12]=D||i&&i[12]||null,U[9]=N||i&&i[9]||null,U[6]=f,U[16]=2==s.type?i[16]:U,U}function qu(i,s,a,u,c){let f=i.data[s];if(null===f)f=function Kp(i,s,a,u,c){const f=vu(),_=Eu(),D=i.data[s]=function z0(i,s,a,u,c,f){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,u,c);return null===i.firstChild&&(i.firstChild=D),null!==f&&(_?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D)),D}(i,s,a,u,c),function cl(){return Kt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=u,f.attrs=c;const _=function Zi(){const i=Kt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return bs(f,!0),f}function Rl(i,s,a,u){if(0===a)return-1;const c=s.length;for(let f=0;f<a;f++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function Pl(i,s,a){ra(s);try{const u=i.viewQuery;null!==u&&ig(1,u,a);const c=i.template;null!==c&&Pd(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Zp(i,s),i.staticViewQueries&&ig(2,i.viewQuery,a);const f=i.components;null!==f&&function G0(i,s){for(let a=0;a<s.length;a++)uC(i,s[a])}(s,f)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,ia()}}function Rd(i,s,a,u){const c=s[2];if(256==(256&c))return;ra(s);const f=Jo();try{di(s),function wa(i){return Kt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Pd(i,s,a,2,u);const _=3==(3&c);if(!f)if(_){const N=i.preOrderCheckHooks;null!==N&&To(s,N,null)}else{const N=i.preOrderHooks;null!==N&&Wr(s,N,0,null),Dr(s,0)}if(function pt(i){for(let s=Vh(i);null!==s;s=ry(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const c=a[u],f=c[3];0==(1024&c[2])&&ni(f,1),c[2]|=1024}}}(s),function qe(i){for(let s=Vh(i);null!==s;s=ry(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1];mr(u)&&Rd(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&Zp(i,s),!f)if(_){const N=i.contentCheckHooks;null!==N&&To(s,N)}else{const N=i.contentHooks;null!==N&&Wr(s,N,1),Dr(s,1)}!function rC(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const c=a[u];if(c<0)sa(~c);else{const f=c,_=a[++u],C=a[++u];dl(_,f),C(2,s[f])}}}finally{sa(-1)}}(i,s);const C=i.components;null!==C&&function Qh(i,s){for(let a=0;a<s.length;a++)Xi(i,s[a])}(s,C);const D=i.viewQuery;if(null!==D&&ig(2,D,u),!f)if(_){const N=i.viewCheckHooks;null!==N&&To(s,N)}else{const N=i.viewHooks;null!==N&&Wr(s,N,2),Dr(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ni(s[3],-1))}finally{ia()}}function q0(i,s,a,u){const c=s[10],f=!Jo(),_=Dn(s);try{f&&!_&&c.begin&&c.begin(),_&&Pl(i,s,u),Rd(i,s,a,u)}finally{f&&!_&&c.end&&c.end()}}function Pd(i,s,a,u,c){const f=ri(),_=2&u;try{sa(-1),_&&s.length>20&&gy(i,s,20,Jo()),a(u,c)}finally{sa(f)}}function Ay(i,s,a){if(ys(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}function Yp(i,s,a){!bo()||(function eg(i,s,a,u){const c=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Ei(a,s),Ji(u,s);const _=a.initialInputs;for(let C=c;C<f;C++){const D=i.data[C],N=Mi(D);N&&Ii(s,a,D);const U=Rt(s,i,C,a);Ji(U,s),null!==_&&Wt(0,C-c,U,D,0,_),N&&(bn(a.index,s)[8]=U)}}(i,s,a,rt(a,s)),128==(128&a.flags)&&function aC(i,s,a){const u=a.directiveStart,c=a.directiveEnd,_=a.index,C=function ba(){return Kt.lFrame.currentDirectiveIndex}();try{sa(_);for(let D=u;D<c;D++){const N=i.data[D],U=s[D];wu(D),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&Py(N,U)}}finally{sa(-1),wu(C)}}(i,s,a))}function Jh(i,s,a=rt){const u=s.localNames;if(null!==u){let c=s.index+1;for(let f=0;f<u.length;f+=2){const _=u[f+1],C=-1===_?a(s,i):i[_];i[c++]=C}}}function Qp(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Xh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Xh(i,s,a,u,c,f,_,C,D,N){const U=20+u,Y=U+c,ce=function Jp(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:Sn);return a}(U,Y),De="function"==typeof N?N():N;return ce[1]={type:i,blueprint:ce,template:a,queries:null,viewQuery:C,declTNode:s,data:ce.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:De,incompleteFirstPass:!1}}function My(i,s,a,u){const c=Ly(s);null===a?c.push(u):(c.push(a),i.firstCreatePass&&oi(i).push(u,c.length-1))}function xy(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,c):a[u]=[s,c]}return a}function kr(i,s,a,u,c,f,_,C){const D=rt(s,a);let U,N=s.inputs;!C&&null!=N&&(U=N[u])?(Fl(i,a,U,u,c),Xs(s)&&function Z0(i,s){const a=bn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function Xp(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=_?_(c,s.value||"",u):c,rr(f)?f.setProperty(D,u,c):os(u)||(D.setProperty?D.setProperty(u,c):D[u]=c))}function Oy(i,s,a,u){let c=!1;if(bo()){const f=function ls(i,s,a){const u=i.directiveRegistry;let c=null;if(u)for(let f=0;f<u.length;f++){const _=u[f];Fp(a,_.selectors,!1)&&(c||(c=[]),I(Ei(a,s),i,_.type),Mi(_)?(xc(i,a),c.unshift(_)):c.push(_))}return c}(i,s,a),_=null===u?null:{"":-1};if(null!==f){c=!0,J0(a,i.data.length,f.length);for(let U=0;U<f.length;U++){const Y=f[U];Y.providersResolver&&Y.providersResolver(Y)}let C=!1,D=!1,N=Rl(i,s,f.length,null);for(let U=0;U<f.length;U++){const Y=f[U];a.mergedAttrs=Is(a.mergedAttrs,Y.hostAttrs),Et(i,a,s,N,Y),Ny(N,Y,_),null!==Y.contentQueries&&(a.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(a.flags|=128);const ce=Y.type.prototype;!C&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),C=!0),!D&&(ce.ngOnChanges||ce.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),D=!0),N++}!function W0(i,s){const u=s.directiveEnd,c=i.data,f=s.attrs,_=[];let C=null,D=null;for(let N=s.directiveStart;N<u;N++){const U=c[N],Y=U.inputs,ce=null===f||zh(s)?null:Mn(Y,f);_.push(ce),C=xy(Y,N,C),D=xy(U.outputs,N,D)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=C,s.outputs=D}(i,a)}_&&function kl(i,s,a){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const f=a[s[c+1]];if(null==f)throw new et(-301,!1);u.push(s[c],f)}}}(a,u,_)}return a.mergedAttrs=Is(a.mergedAttrs,a.attrs),c}function Ry(i,s,a,u,c,f){const _=f.hostBindings;if(_){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const D=~s.index;(function oC(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=D&&C.push(D),C.push(u,c,_)}}function Py(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function xc(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Ny(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Mi(s)&&(a[""]=i)}}function J0(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Et(i,s,a,u,c){i.data[u]=c;const f=c.factory||(c.factory=ci(c.type)),_=new Gs(f,Mi(c),null);i.blueprint[u]=_,a[u]=_,Ry(i,s,0,u,Rl(i,a,c.hostVars,Sn),c)}function Ii(i,s,a){const u=rt(s,i),c=Qp(a),f=i[10],_=ng(i,Mc(i,c,null,a.onPush?64:16,u,s,f,f.createRenderer(u,a),null,null));i[s.index]=_}function ho(i,s,a,u,c,f){const _=rt(i,s);!function tf(i,s,a,u,c,f,_){if(null==f)rr(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const C=null==_?Fe(f):_(f,u||"",c);rr(i)?i.setAttribute(s,c,C,a):a?s.setAttributeNS(a,c,C):s.setAttribute(c,C)}}(s[11],_,f,i.value,a,u,c)}function Wt(i,s,a,u,c,f){const _=f[s];if(null!==_){const C=u.setInput;for(let D=0;D<_.length;){const N=_[D++],U=_[D++],Y=_[D++];null!==C?u.setInput(a,Y,N,U):a[U]=Y}}}function Mn(i,s){let a=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return a}function kt(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function Xi(i,s){const a=bn(s,i);if(mr(a)){const u=a[1];80&a[2]?Rd(u,a,u.template,a[8]):a[5]>0&&tg(a)}}function tg(i){for(let u=Vh(i);null!==u;u=ry(u))for(let c=10;c<u.length;c++){const f=u[c];if(1024&f[2]){const _=f[1];Rd(_,f,_.template,f[8])}else f[5]>0&&tg(f)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const c=bn(a[u],i);mr(c)&&c[5]>0&&tg(c)}}function uC(i,s){const a=bn(s,i),u=a[1];(function lC(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Pl(u,a,a[8])}function ng(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function ky(i){for(;i;){i[2]|=64;const s=Lh(i);if(zo(i)&&!s)return i;i=s}return null}function Fy(i,s,a){const u=s[10];u.begin&&u.begin();try{Rd(i,s,i.template,a)}catch(c){throw Vy(s,c),c}finally{u.end&&u.end()}}function dC(i){!function rg(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=Wm(a),c=u[1];q0(c,u,c.template,a)}}(i[8])}function ig(i,s,a){hl(0),s(i,a)}const Nd=(()=>Promise.resolve(null))();function Ly(i){return i[7]||(i[7]=[])}function oi(i){return i.cleanup||(i.cleanup=[])}function Vy(i,s){const a=i[9],u=a?a.get(wp,null):null;u&&u.handleError(s)}function Fl(i,s,a,u,c){for(let f=0;f<a.length;){const _=a[f++],C=a[f++],D=s[_],N=i.data[_];null!==N.setInput?N.setInput(D,c,u,C):D[C]=c}}function ru(i,s,a){const u=je(s,i);!function Ap(i,s,a){rr(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function Ll(i,s,a){let u=a?i.styles:null,c=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const C=s[_];"number"==typeof C?f=C:1==f?c=Ae(c,C):2==f&&(u=Ae(u,C+": "+s[++_]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=c:i.classesWithoutHost=c}const Vl=new Hr("INJECTOR",-1);class X0{get(s,a=Mo){if(a===Mo){const u=new Error(`NullInjectorError: No provider for ${ve(s)}!`);throw u.name="NullInjectorError",u}return a}}const hi=new Hr("Set Injector scope."),nf={},Ul={};let $r;function Bl(){return void 0===$r&&($r=new X0),$r}function sg(i,s=null,a=null,u){const c=Uy(i,s,a,u);return c._resolveInjectorDefTypes(),c}function Uy(i,s=null,a=null,u){return new rf(i,a,s||Bl(),u)}class rf{constructor(s,a,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&bi(a,C=>this.processProvider(C,s,a)),bi([s],C=>this.processInjectorType(C,[],f)),this.records.set(Vl,Rc(void 0,this));const _=this.records.get(hi);this.scope=null!=_?_.value:null,this.source=c||("object"==typeof s?null:ve(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Mo,u=Vt.Default){this.assertNotDestroyed();const c=gt(this),f=yn(void 0);try{if(!(u&Vt.SkipSelf)){let C=this.records.get(s);if(void 0===C){const D=function nE(i){return"function"==typeof i||"object"==typeof i&&i instanceof Hr}(s)&&_t(s);C=D&&this.injectableDefInScope(D)?Rc(By(s),nf):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(u&Vt.Self?Bl():this.parent).get(s,a=u&Vt.Optional&&a===Mo?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Tl]=_[Tl]||[]).unshift(ve(s)),c)throw _;return function nu(i,s,a,u){const c=i[Tl];throw s[ee]&&c.unshift(s[ee]),i.message=function ku(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=ve(s);if(Array.isArray(s))c=s.map(ve).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let C=s[_];f.push(_+":"+("string"==typeof C?JSON.stringify(C):ve(C)))}c=`{${f.join(", ")}}`}return`${a}${u?"("+u+")":""}[${c}]: ${i.replace(R,"\n  ")}`}("\n"+i.message,c,a,u),i.ngTokenPath=c,i[Tl]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{yn(f),gt(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(ve(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processInjectorType(s,a,u){if(!(s=we(s)))return!1;let c=tr(s);const f=null==c&&s.ngModule||void 0,_=void 0===f?s:f,C=-1!==u.indexOf(_);if(void 0!==f&&(c=tr(f)),null==c)return!1;if(null!=c.imports&&!C){let U;u.push(_);try{bi(c.imports,Y=>{this.processInjectorType(Y,a,u)&&(void 0===U&&(U=[]),U.push(Y))})}finally{}if(void 0!==U)for(let Y=0;Y<U.length;Y++){const{ngModule:ce,providers:De}=U[Y];bi(De,Je=>this.processProvider(Je,ce,De||vt))}}this.injectorDefTypes.add(_);const D=ci(_)||(()=>new _);this.records.set(_,Rc(D,nf));const N=c.providers;if(null!=N&&!C){const U=s;bi(N,Y=>this.processProvider(Y,U,N))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,u){let c=pa(s=we(s))?s:we(s&&s.provide);const f=function Oc(i,s,a){return Mt(i)?Rc(void 0,i.useValue):Rc(kd(i),nf)}(s);if(pa(s)||!0!==s.multi)this.records.get(c);else{let _=this.records.get(c);_||(_=Rc(void 0,nf,!0),_.factory=()=>_n(_.multi),this.records.set(c,_)),c=s,_.multi.push(s)}this.records.set(c,f)}hydrate(s,a){return a.value===nf&&(a.value=Ul,a.value=a.factory()),"object"==typeof a.value&&a.value&&function jl(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=we(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function By(i){const s=_t(i),a=null!==s?s.factory:ci(i);if(null!==a)return a;if(i instanceof Hr)throw new et(204,!1);if(i instanceof Function)return function zu(i){const s=i.length;if(s>0)throw function Ci(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(s,"?"),new et(204,!1);const a=function Tn(i){const s=i&&(i[cr]||i[Wn]);if(s){const a=function kn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new et(204,!1)}function kd(i,s,a){let u;if(pa(i)){const c=we(i);return ci(c)||By(c)}if(Mt(i))u=()=>we(i.useValue);else if(function tE(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(..._n(i.deps||[]));else if(function eE(i){return!(!i||!i.useExisting)}(i))u=()=>qt(we(i.useExisting));else{const c=we(i&&(i.useClass||i.provide));if(!function sf(i){return!!i.deps}(i))return ci(c)||By(c);u=()=>new c(..._n(i.deps))}return u}function Rc(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Mt(i){return null!==i&&"object"==typeof i&&Ie in i}function pa(i){return"function"==typeof i}let Ps=(()=>{class i{static create(a,u){var c;if(Array.isArray(a))return sg({name:""},u,a,"");{const f=null!==(c=a.name)&&void 0!==c?c:"";return sg({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=Mo,i.NULL=new X0,i.\u0275prov=tt({token:i,providedIn:"any",factory:()=>qt(Vl)}),i.__NG_ELEMENT_ID__=-1,i})();function lf(i,s){so(Wm(i)[1],Jn())}function Bi(i){let s=function cf(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let c;if(Mi(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new et(903,"");c=s.\u0275dir}if(c){if(a){u.push(c);const _=i;_.inputs=Wy(i.inputs),_.declaredInputs=Wy(i.declaredInputs),_.outputs=Wy(i.outputs);const C=c.hostBindings;C&&yC(i,C);const D=c.viewQuery,N=c.contentQueries;if(D&&mC(i,D),N&&uE(i,N),Ee(i.inputs,c.inputs),Ee(i.declaredInputs,c.declaredInputs),Ee(i.outputs,c.outputs),Mi(c)&&c.data.animation){const U=i.data;U.animation=(U.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let _=0;_<f.length;_++){const C=f[_];C&&C.ngInherit&&C(i),C===Bi&&(a=!1)}}s=Object.getPrototypeOf(s)}!function gC(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=Is(c.hostAttrs,a=Is(a,c.hostAttrs))}}(u)}function Wy(i){return i===en?{}:i===vt?[]:i}function mC(i,s){const a=i.viewQuery;i.viewQuery=a?(u,c)=>{s(u,c),a(u,c)}:s}function uE(i,s){const a=i.contentQueries;i.contentQueries=a?(u,c,f)=>{s(u,c,f),a(u,c,f)}:s}function yC(i,s){const a=i.hostBindings;i.hostBindings=a?(u,c)=>{s(u,c),a(u,c)}:s}let xa=null;function Oa(){if(!xa){const i=Zt.Symbol;if(i&&i.iterator)xa=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(xa=u)}}}return xa}function Vd(i){return!!lg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Oa()in i)}function lg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ji(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function ql(i,s,a,u){const c=st();return ji(c,ea(),s)&&(Bt(),ho(Ir(),c,i,s,a,u)),ql}function Nc(i,s,a,u){return ji(i,ea(),a)?s+Fe(a)+u:Sn}function Kl(i,s,a,u,c,f,_,C){const D=st(),N=Bt(),U=i+20,Y=N.firstCreatePass?function hE(i,s,a,u,c,f,_,C,D){const N=s.consts,U=qu(s,i,4,_||null,sr(N,C));Oy(s,a,U,sr(N,D)),so(s,U);const Y=U.tViews=Xh(2,U,u,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,N);return null!==s.queries&&(s.queries.template(s,U),Y.queries=s.queries.embeddedTView(U)),U}(U,N,D,s,a,u,c,f,_):N.data[U];bs(Y,!1);const ce=D[11].createComment("");xl(N,D,ce,Y),Ji(ce,D),ng(D,D[U]=kt(ce,D,ce,Y)),Ls(Y)&&Yp(N,D,Y),null!=_&&Jh(D,Y,C)}function Uc(i){return function Fn(i,s){return i[s]}(function ll(){return Kt.lFrame.contextLView}(),20+i)}function Ku(i,s=Vt.Default){const a=st();return null===a?qt(i,s):P(Jn(),a,we(i),s)}function qd(){throw new Error("invalid")}function zd(i,s,a){const u=st();return ji(u,ea(),s)&&kr(Bt(),Ir(),u,i,s,u[11],a,!1),zd}function mg(i,s,a,u,c){const _=c?"class":"style";Fl(i,a,s.inputs[_],_,u)}function pf(i,s,a,u){const c=st(),f=Bt(),_=20+i,C=c[11],D=c[_]=Sp(C,s,function Za(){return Kt.lFrame.currentNamespace}()),N=f.firstCreatePass?function EE(i,s,a,u,c,f,_){const C=s.consts,N=qu(s,i,2,c,sr(C,f));return Oy(s,a,N,sr(C,_)),null!==N.attrs&&Ll(N,N.attrs,!1),null!==N.mergedAttrs&&Ll(N,N.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,N),N}(_,f,c,0,s,a,u):f.data[_];bs(N,!0);const U=N.mergedAttrs;null!==U&&Do(C,D,U);const Y=N.classes;null!==Y&&kp(C,D,Y);const ce=N.styles;return null!==ce&&hy(C,D,ce),64!=(64&N.flags)&&xl(f,c,D,N),0===function _u(){return Kt.lFrame.elementDepthCount}()&&Ji(D,c),function no(){Kt.lFrame.elementDepthCount++}(),Ls(N)&&(Yp(f,c,N),Ay(f,N,c)),null!==u&&Jh(c,N),pf}function yg(){let i=Jn();Eu()?Hs():(i=i.parent,bs(i,!1));const s=i;!function Wa(){Kt.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(so(a,i),ys(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Su(i){return 0!=(16&i.flags)}(s)&&mg(a,s,st(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function cd(i){return 0!=(32&i.flags)}(s)&&mg(a,s,st(),s.stylesWithoutHost,!1),yg}function _g(i,s,a,u){return pf(i,s,a,u),yg(),_g}function vg(i,s,a){const u=st(),c=Bt(),f=i+20,_=c.firstCreatePass?function SC(i,s,a,u,c){const f=s.consts,_=sr(f,u),C=qu(s,i,8,"ng-container",_);return null!==_&&Ll(C,_,!0),Oy(s,a,C,sr(f,c)),null!==s.queries&&s.queries.elementStart(s,C),C}(f,c,u,s,a):c.data[f];bs(_,!0);const C=u[f]=u[11].createComment("");return xl(c,u,C,_),Ji(C,u),Ls(_)&&(Yp(c,u,_),Ay(c,_,u)),null!=a&&Jh(u,_),vg}function Eg(){let i=Jn();const s=Bt();return Eu()?Hs():(i=i.parent,bs(i,!1)),s.firstCreatePass&&(so(s,i),ys(i)&&s.queries.elementEnd(i)),Eg}function o_(){return st()}function a_(i){return!!i&&"function"==typeof i.then}function Hi(i){return!!i&&"function"==typeof i.subscribe}const wg=Hi;function bg(i,s,a,u){const c=st(),f=Bt(),_=Jn();return function Cg(i,s,a,u,c,f,_,C){const D=Ls(u),U=i.firstCreatePass&&oi(i),Y=s[8],ce=Ly(s);let De=!0;if(3&u.type||C){const Ot=rt(u,s),Gt=C?C(Ot):Ot,ht=ce.length,sn=C?cn=>C(x(cn[u.index])):u.index;if(rr(a)){let cn=null;if(!C&&D&&(cn=function ou(i,s,a,u){const c=i.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const _=c[f];if(_===a&&c[f+1]===u){const C=s[7],D=c[f+2];return C.length>D?C[D]:null}"string"==typeof _&&(f+=2)}return null}(i,s,c,u.index)),null!==cn)(cn.__ngLastListenerFn__||cn).__ngNextListenerFn__=f,cn.__ngLastListenerFn__=f,De=!1;else{f=Bc(u,s,Y,f,!1);const Vn=a.listen(Gt,c,f);ce.push(f,Vn),U&&U.push(c,sn,ht,ht+1)}}else f=Bc(u,s,Y,f,!0),Gt.addEventListener(c,f,_),ce.push(f),U&&U.push(c,sn,ht,_)}else f=Bc(u,s,Y,f,!1);const Je=u.outputs;let bt;if(De&&null!==Je&&(bt=Je[c])){const Ot=bt.length;if(Ot)for(let Gt=0;Gt<Ot;Gt+=2){const Ns=s[bt[Gt]][bt[Gt+1]].subscribe(f),il=ce.length;ce.push(f,Ns),U&&U.push(c,u.index,il,-(il+1))}}}(f,c,c[11],_,i,s,!!a,u),bg}function u_(i,s,a,u){try{return!1!==a(u)}catch(c){return Vy(i,c),!1}}function Bc(i,s,a,u,c){return function f(_){if(_===Function)return u;const C=2&i.flags?bn(i.index,s):s;0==(32&s[2])&&ky(C);let D=u_(s,0,u,_),N=f.__ngNextListenerFn__;for(;N;)D=u_(s,0,N,_)&&D,N=N.__ngNextListenerFn__;return c&&!1===D&&(_.preventDefault(),_.returnValue=!1),D}}function l_(i=1){return function pl(i){return(Kt.lFrame.contextLView=function Iu(i,s){for(;i>0;)s=s[15],i--;return s}(i,Kt.lFrame.contextLView))[8]}(i)}function Yl(i,s,a,u,c){const f=st(),_=Nc(f,s,a,u);return _!==Sn&&kr(Bt(),Ir(),f,i,_,f[11],c,!1),Yl}function AE(i,s,a,u,c){const f=i[a+1],_=null===s;let C=u?Aa(f):Hu(f),D=!1;for(;0!==C&&(!1===D||_);){const U=i[C+1];xC(i[C],s)&&(D=!0,i[C+1]=u?my(U):Sc(U)),C=u?Aa(U):Hu(U)}D&&(i[a+1]=u?Sc(f):my(f))}function xC(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&co(i,s)>=0}const $i={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function p_(i){return i.substring($i.key,$i.keyEnd)}function g_(i,s){const a=$i.textEnd;return a===s?-1:(s=$i.keyEnd=function RC(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,$i.key=s,a),jc(i,s,a))}function jc(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function y_(i,s,a){return Na(i,s,a,!1),y_}function __(i,s){return Na(i,s,null,!0),__}function xE(i){!function ka(i,s,a,u){const c=Bt(),f=Oi(2);c.firstUpdatePass&&v_(c,null,f,u);const _=st();if(a!==Sn&&ji(_,f,a)){const C=c.data[ri()];if(E_(C,u)&&!OE(c,f)){let D=u?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(a=Ae(D,a||"")),mg(c,C,_,a,u)}else!function VC(i,s,a,u,c,f,_,C){c===Sn&&(c=vt);let D=0,N=0,U=0<c.length?c[0]:null,Y=0<f.length?f[0]:null;for(;null!==U||null!==Y;){const ce=D<c.length?c[D+1]:void 0,De=N<f.length?f[N+1]:void 0;let bt,Je=null;U===Y?(D+=2,N+=2,ce!==De&&(Je=Y,bt=De)):null===Y||null!==U&&U<Y?(D+=2,Je=U):(N+=2,Je=Y,bt=De),null!==Je&&Qd(i,s,a,u,Je,bt,_,C),U=D<c.length?c[D]:null,Y=N<f.length?f[N]:null}}(c,C,_,_[11],_[f+1],_[f+1]=function Dg(i,s,a){if(null==a||""===a)return vt;const u=[],c=Da(a);if(Array.isArray(c))for(let f=0;f<c.length;f++)i(u,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&i(u,f,c[f]);else"string"==typeof c&&s(u,c);return u}(i,s,a),u,f)}}(Ms,uu,i,!0)}function uu(i,s){for(let a=function OC(i){return function gf(i){$i.key=0,$i.keyEnd=0,$i.value=0,$i.valueEnd=0,$i.textEnd=i.length}(i),g_(i,jc(i,0,$i.textEnd))}(s);a>=0;a=g_(s,a))Ms(i,p_(s),!0)}function Na(i,s,a,u){const c=st(),f=Bt(),_=Oi(2);f.firstUpdatePass&&v_(f,i,_,u),s!==Sn&&ji(c,_,s)&&Qd(f,f.data[ri()],c,c[11],i,c[_+1]=function Hc(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ve(Da(i)))),i}(s,a),u,_)}function OE(i,s){return s>=i.expandoStartIndex}function v_(i,s,a,u){const c=i.data;if(null===c[a+1]){const f=c[ri()],_=OE(i,a);E_(f,u)&&null===s&&!_&&(s=!1),s=function FC(i,s,a,u){const c=Co(i);let f=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(a=We(a=Ig(null,i,s,a,u),s.attrs,u),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==c)if(a=Ig(c,i,s,a,u),null===f){let D=function RE(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Hu(u))return i[Aa(u)]}(i,s,u);void 0!==D&&Array.isArray(D)&&(D=Ig(null,i,s,D[1],u),D=We(D,s.attrs,u),function LC(i,s,a,u){i[Aa(a?s.classBindings:s.styleBindings)]=u}(i,s,u,D))}else f=function PE(i,s,a){let u;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)u=We(u,i[f].hostAttrs,a);return We(u,s.attrs,a)}(i,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),a}(c,f,s,u),function Kd(i,s,a,u,c,f){let _=f?s.classBindings:s.styleBindings,C=Aa(_),D=Hu(_);i[u]=a;let U,N=!1;if(Array.isArray(a)){const Y=a;U=Y[1],(null===U||co(Y,U)>0)&&(N=!0)}else U=a;if(c)if(0!==D){const ce=Aa(i[C+1]);i[u+1]=Ac(ce,C),0!==ce&&(i[ce+1]=Vp(i[ce+1],u)),i[C+1]=function Kh(i,s){return 131071&i|s<<17}(i[C+1],u)}else i[u+1]=Ac(C,0),0!==C&&(i[C+1]=Vp(i[C+1],u)),C=u;else i[u+1]=Ac(D,0),0===C?C=u:i[D+1]=Vp(i[D+1],u),D=u;N&&(i[u+1]=Sc(i[u+1])),AE(i,U,u,!0),AE(i,U,u,!1),function Yd(i,s,a,u,c){const f=c?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&co(f,s)>=0&&(a[u+1]=my(a[u+1]))}(s,U,i,u,f),_=Ac(C,D),f?s.classBindings=_:s.styleBindings=_}(c,f,s,a,_,u)}}function Ig(i,s,a,u,c){let f=null;const _=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<_&&(f=s[C],u=We(u,f.hostAttrs,c),f!==i);)C++;return null!==i&&(a.directiveStylingLast=C),u}function We(i,s,a){const u=a?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?c=_:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ms(i,_,!!a||s[++f]))}return void 0===i?null:i}function Qd(i,s,a,u,c,f,_,C){if(!(3&s.type))return;const D=i.data,N=D[C+1];Ag(function F0(i){return 1==(1&i)}(N)?Ql(D,s,a,c,Hu(N),_):void 0)||(Ag(f)||function k0(i){return 2==(2&i)}(N)&&(f=Ql(D,null,a,c,C,_)),function dy(i,s,a,u,c){const f=rr(i);if(s)c?f?i.addClass(a,u):a.classList.add(u):f?i.removeClass(a,u):a.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:No.DashCase;if(null==c)f?i.removeStyle(a,u,_):a.style.removeProperty(u);else{const C="string"==typeof c&&c.endsWith("!important");C&&(c=c.slice(0,-10),_|=No.Important),f?i.setStyle(a,u,c,_):a.style.setProperty(u,c,C?"important":"")}}}(u,_,je(ri(),a),c,f))}function Ql(i,s,a,u,c,f){const _=null===s;let C;for(;c>0;){const D=i[c],N=Array.isArray(D),U=N?D[1]:D,Y=null===U;let ce=a[c+1];ce===Sn&&(ce=Y?vt:void 0);let De=Y?Pu(ce,u):U===u?ce:void 0;if(N&&!Ag(De)&&(De=Pu(D,u)),Ag(De)&&(C=De,_))return C;const Je=i[c+1];c=_?Aa(Je):Hu(Je)}if(null!==s){let D=f?s.residualClasses:s.residualStyles;null!=D&&(C=Pu(D,u))}return C}function Ag(i){return void 0!==i}function E_(i,s){return 0!=(i.flags&(s?16:32))}function Sg(i,s=""){const a=st(),u=Bt(),c=i+20,f=u.firstCreatePass?qu(u,c,1,s,null):u.data[c],_=a[c]=function Dd(i,s){return rr(i)?i.createText(s):i.createTextNode(s)}(a[11],s);xl(u,a,_,f),bs(f,!1)}function Mg(i){return gi("",i,""),Mg}function gi(i,s,a){const u=st(),c=Nc(u,i,s,a);return c!==Sn&&ru(u,ri(),c),gi}function Ng(i,s,a){const u=st();if(ji(u,ea(),s)){const f=Bt(),_=Ir();kr(f,_,u,i,s,function gn(i,s,a){return(null===i||Mi(i))&&(a=function z(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}(Co(f.data),_,u),a,!0)}return Ng}const Fa=void 0;var Fg=["en",[["a","p"],["AM","PM"],Fa],[["AM","PM"],Fa,Fa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fa,"{1} 'at' {0}",Fa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kg(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let qc={};function Lg(i){const s=function GE(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=S_(s);if(a)return a;const u=s.split("-")[0];if(a=S_(u),a)return a;if("en"===u)return Fg;throw new Error(`Missing locale data for the locale "${i}".`)}function Vg(i){return Lg(i)[Jt.PluralCase]}function S_(i){return i in qc||(qc[i]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[i]),qc[i]}var Jt=(()=>((Jt=Jt||{})[Jt.LocaleId=0]="LocaleId",Jt[Jt.DayPeriodsFormat=1]="DayPeriodsFormat",Jt[Jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jt[Jt.DaysFormat=3]="DaysFormat",Jt[Jt.DaysStandalone=4]="DaysStandalone",Jt[Jt.MonthsFormat=5]="MonthsFormat",Jt[Jt.MonthsStandalone=6]="MonthsStandalone",Jt[Jt.Eras=7]="Eras",Jt[Jt.FirstDayOfWeek=8]="FirstDayOfWeek",Jt[Jt.WeekendRange=9]="WeekendRange",Jt[Jt.DateFormat=10]="DateFormat",Jt[Jt.TimeFormat=11]="TimeFormat",Jt[Jt.DateTimeFormat=12]="DateTimeFormat",Jt[Jt.NumberSymbols=13]="NumberSymbols",Jt[Jt.NumberFormats=14]="NumberFormats",Jt[Jt.CurrencyCode=15]="CurrencyCode",Jt[Jt.CurrencySymbol=16]="CurrencySymbol",Jt[Jt.CurrencyName=17]="CurrencyName",Jt[Jt.Currencies=18]="Currencies",Jt[Jt.Directionality=19]="Directionality",Jt[Jt.PluralCase=20]="PluralCase",Jt[Jt.ExtraData=21]="ExtraData",Jt))();const Ju="en-US";let zE=Ju;function sh(i,s,a,u,c){if(i=we(i),Array.isArray(i))for(let f=0;f<i.length;f++)sh(i[f],s,a,u,c);else{const f=Bt(),_=st();let C=pa(i)?i:we(i.provide),D=kd(i);const N=Jn(),U=1048575&N.providerIndexes,Y=N.directiveStart,ce=N.providerIndexes>>20;if(pa(i)||!i.multi){const De=new Gs(D,c,Ku),Je=Wg(C,s,c?U:U+ce,Y);-1===Je?(I(Ei(N,_),f,C),Qc(f,i,s.length),s.push(C),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),a.push(De),_.push(De)):(a[Je]=De,_[Je]=De)}else{const De=Wg(C,s,U+ce,Y),Je=Wg(C,s,U,U+ce),bt=De>=0&&a[De],Ot=Je>=0&&a[Je];if(c&&!Ot||!c&&!bt){I(Ei(N,_),f,C);const Gt=function fw(i,s,a,u,c){const f=new Gs(i,a,Ku);return f.multi=[],f.index=s,f.componentProviders=0,zg(f,c,u&&!a),f}(c?q_:G_,a.length,c,u,D);!c&&Ot&&(a[Je].providerFactory=Gt),Qc(f,i,s.length,0),s.push(C),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),a.push(Gt),_.push(Gt)}else Qc(f,i,De>-1?De:Je,zg(a[c?Je:De],D,!c&&u));!c&&u&&Ot&&a[Je].componentProviders++}}}function Qc(i,s,a,u){const c=pa(s),f=function iu(i){return!!i.useClass}(s);if(c||f){const D=(f?we(s.useClass):s).prototype.ngOnDestroy;if(D){const N=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const U=N.indexOf(a);-1===U?N.push(a,[u,D]):N[U+1].push(u,D)}else N.push(a,D)}}}function zg(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Wg(i,s,a,u){for(let c=a;c<u;c++)if(s[c]===i)return c;return-1}function G_(i,s,a,u){return cu(this.multi,[])}function q_(i,s,a,u){const c=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=Rt(a,a[1],this.providerFactory.index,u);f=C.slice(0,_),cu(c,f);for(let D=_;D<C.length;D++)f.push(C[D])}else f=[],cu(c,f);return f}function cu(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function pw(i,s=[]){return a=>{a.providersResolver=(u,c)=>function $_(i,s,a){const u=Bt();if(u.firstCreatePass){const c=Mi(i);sh(a,u.data,u.blueprint,c,!0),sh(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class gw{}class Zg{resolveComponentFactory(s){throw function W_(i){const s=Error(`No component factory found for ${ve(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let oh=(()=>{class i{}return i.NULL=new Zg,i})();function _w(){return Va(Jn(),st())}function Va(i,s){return new Jc(rt(i,s))}let Jc=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=_w,i})();function cT(i){return i instanceof Jc?i.nativeElement:i}class Z_{}let vw=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function K_(){const i=st(),a=bn(Jn().index,i);return function dT(i){return i[11]}(Tr(a)?a:i)}(),i})(),hT=(()=>{class i{}return i.\u0275prov=tt({token:i,providedIn:"root",factory:()=>null}),i})();class Kg{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ew=new Kg("13.3.1"),Of={};function Yg(i,s,a,u,c=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&u.push(x(f)),yi(f))for(let C=10;C<f.length;C++){const D=f[C],N=D[1].firstChild;null!==N&&Yg(D[1],D,N,u)}const _=a.type;if(8&_)Yg(i,s,a.child,u);else if(32&_){const C=ty(a,s);let D;for(;D=C();)u.push(D)}else if(16&_){const C=Rp(s,a);if(Array.isArray(C))u.push(...C);else{const D=Lh(s[16]);Yg(D[1],D,C,u,!0)}}a=c?a.projectionNext:a.next}return u}class Xc{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Yg(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(yi(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(sy(s,u),aa(a,u))}this._attachedToViewContainer=!1}wc(this._lView[1],this._lView)}onDestroy(s){My(this._lView[1],this._lView,null,s)}markForCheck(){ky(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Fo(i,s,a){Xo(!0);try{Fy(i,s,a)}finally{Xo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new et(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function S0(i,s){Md(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new et(902,"");this._appRef=s}}class ww extends Xc{constructor(s){super(s),this._view=s}detectChanges(){dC(this._view)}checkNoChanges(){!function hC(i){Xo(!0);try{dC(i)}finally{Xo(!1)}}(this._view)}get context(){return null}}class Qg extends oh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=te(s);return new du(a,this.ngModule)}}function Jg(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class du extends gw{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function ju(i){return i.map(Dc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Jg(this.componentDef.inputs)}get outputs(){return Jg(this.componentDef.outputs)}create(s,a,u,c){const f=(c=c||this.ngModule)?function ah(i,s){return{get:(a,u,c)=>{const f=i.get(a,Of,c);return f!==Of||u===Of?f:s.get(a,u,c)}}}(s,c.injector):s,_=f.get(Z_,O),C=f.get(hT,null),D=_.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",U=u?function Nl(i,s,a){if(rr(i))return i.selectRootElement(s,a===Ce.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(D,u,this.componentDef.encapsulation):Sp(_.createRenderer(null,this.componentDef),N,function Y_(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(N)),Y=this.componentDef.onPush?576:528,ce=function aE(i,s){return{components:[],scheduler:i||b0,clean:Nd,playerHandler:s||null,flags:0}}(),De=Xh(0,null,null,1,0,null,null,null,null,null),Je=Mc(null,De,ce,Y,null,null,_,D,C,f);let bt,Ot;ra(Je);try{const Gt=function qy(i,s,a,u,c,f){const _=a[1];a[20]=i;const D=qu(_,20,2,"#host",null),N=D.mergedAttrs=s.hostAttrs;null!==N&&(Ll(D,N,!0),null!==i&&(Do(c,i,N),null!==D.classes&&kp(c,i,D.classes),null!==D.styles&&hy(c,i,D.styles)));const U=u.createRenderer(i,s),Y=Mc(a,Qp(s),null,s.onPush?64:16,a[20],D,u,U,f||null,null);return _.firstCreatePass&&(I(Ei(D,a),_,s.type),xc(_,D),J0(D,a.length,1)),ng(a,Y),a[20]=Y}(U,this.componentDef,Je,_,D);if(U)if(u)Do(D,U,["ng-version",Ew.full]);else{const{attrs:ht,classes:sn}=function Lp(i){const s=[],a=[];let u=1,c=2;for(;u<i.length;){let f=i[u];if("string"==typeof f)2===c?""!==f&&s.push(f,i[++u]):8===c&&a.push(f);else{if(!ko(c))break;c=f}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ht&&Do(D,U,ht),sn&&sn.length>0&&kp(D,U,sn.join(" "))}if(Ot=Qn(De,20),void 0!==a){const ht=Ot.projection=[];for(let sn=0;sn<this.ngContentSelectors.length;sn++){const cn=a[sn];ht.push(null!=cn?Array.from(cn):null)}}bt=function $l(i,s,a,u,c){const f=a[1],_=function sC(i,s,a){const u=Jn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Et(i,u,s,Rl(i,s,1,null),a));const c=Rt(s,i,u.directiveStart,u);Ji(c,s);const f=rt(u,s);return f&&Ji(f,s),c}(f,a,s);if(u.components.push(_),i[8]=_,c&&c.forEach(D=>D(_,s)),s.contentQueries){const D=Jn();s.contentQueries(1,_,D.directiveStart)}const C=Jn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(sa(C.index),Ry(a[1],C,0,C.directiveStart,C.directiveEnd,s),Py(s,_)),_}(Gt,this.componentDef,Je,ce,[lf]),Pl(De,Je,null)}finally{ia()}return new uh(this.componentType,bt,Va(Ot,Je),Je,Ot)}}class uh extends class z_{}{constructor(s,a,u,c,f){super(),this.location=u,this._rootLView=c,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new ww(c),this.componentType=s}get injector(){return new Pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Ua{}class Cw{}const lh=new Map;class em extends Ua{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Qg(this);const u=St(s);this._bootstrapComponents=fa(u.bootstrap),this._r3Injector=Uy(s,a,[{provide:Ua,useValue:this},{provide:oh,useValue:this.componentFactoryResolver}],ve(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Ps.THROW_IF_NOT_FOUND,u=Vt.Default){return s===Ps||s===Ua||s===Vl?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Pf extends Cw{constructor(s){super(),this.moduleType=s,null!==St(s)&&function J_(i){const s=new Set;!function a(u){const c=St(u,!0),f=c.id;null!==f&&(function Xg(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ve(s)} vs ${ve(s.name)}`)}(f,lh.get(f),u),lh.set(f,u));const _=fa(c.imports);for(const C of _)s.has(C)||(s.add(C),a(C))}(i)}(s)}create(s){return new em(this.moduleType,s)}}function rv(i){return s=>{setTimeout(i,void 0,s)}}const ma=class nv extends y.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var c,f,_;let C=s,D=a||(()=>null),N=u;if(s&&"object"==typeof s){const Y=s;C=null===(c=Y.next)||void 0===c?void 0:c.bind(Y),D=null===(f=Y.error)||void 0===f?void 0:f.bind(Y),N=null===(_=Y.complete)||void 0===_?void 0:_.bind(Y)}this.__isAsync&&(D=rv(D),C&&(C=rv(C)),N&&(N=rv(N)));const U=super.subscribe({next:C,error:D,complete:N});return s instanceof p.w0&&s.add(U),U}};function ET(){return this._results[Oa()]()}class Ff{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Oa(),u=Ff.prototype;u[a]||(u[a]=ET)}get changes(){return this._changes||(this._changes=new ma)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const c=Fi(s);(this._changesDetected=!function Ia(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],f=s[u];if(a&&(c=a(c),f=a(f)),f!==c)return!1}return!0}(u._results,c,a))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ed=(()=>{class i{}return i.__NG_ELEMENT_ID__=kw,i})();const iv=ed,ch=class extends iv{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=Mc(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(a)),Pl(a,u,s),new Xc(u)}};function kw(){return dh(Jn(),st())}function dh(i,s){return 4&i.type?new ch(s,i,Va(i,s)):null}let sm=(()=>{class i{}return i.__NG_ELEMENT_ID__=sv,i})();function sv(){return Lw(Jn(),st())}const el=sm,om=class extends el{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new Pn(this._hostTNode,this._hostLView)}get parentInjector(){const s=wi(this._hostTNode,this._hostLView);if(Ar(s)){const a=as(s,this._hostLView),u=Ds(s);return new Pn(a[1].data[u+8],a)}return new Pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Fw(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const c=s.createEmbeddedView(a||{});return this.insert(c,u),c}createComponent(s,a,u,c,f){const _=s&&!function vl(i){return"function"==typeof i}(s);let C;if(_)C=a;else{const Y=a||{};C=Y.index,u=Y.injector,c=Y.projectableNodes,f=Y.ngModuleRef}const D=_?s:new du(te(s)),N=u||this.parentInjector;if(!f&&null==D.ngModule){const ce=(_?N:this.parentInjector).get(Ua,null);ce&&(f=ce)}const U=D.create(N,c,void 0,f);return this.insert(U.hostView,C),U}insert(s,a){const u=s._lView,c=u[1];if(function Bn(i){return yi(i[3])}(u)){const U=this.indexOf(s);if(-1!==U)this.detach(U);else{const Y=u[3],ce=new om(Y,Y[6],Y[3]);ce.detach(ce.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function x0(i,s,a,u){const c=10+u,f=a.length;u>0&&(a[c-1][4]=s),u<f-10?(s[4]=a[c],eu(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function Mp(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=128}(c,u,_,f);const C=Gh(f,_),D=u[11],N=jh(D,_[7]);return null!==N&&function Uh(i,s,a,u,c,f){u[0]=c,u[6]=s,Md(i,u,a,1,c,f)}(c,_[6],D,u,N,C),s.attachToViewContainerRef(),eu(Lf(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Fw(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=sy(this._lContainer,a);u&&(aa(Lf(this._lContainer),a),wc(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=sy(this._lContainer,a);return u&&null!=aa(Lf(this._lContainer),a)?new Xc(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Fw(i){return i[8]}function Lf(i){return i[8]||(i[8]=[])}function Lw(i,s){let a;const u=s[i.index];if(yi(u))a=u;else{let c;if(8&i.type)c=x(u);else{const f=s[11];c=f.createComment("");const _=rt(i,s);Ml(f,jh(f,_),c,function Hh(i,s){return rr(i)?i.nextSibling(s):s.nextSibling}(f,_),!1)}s[i.index]=a=kt(u,s,c,i),ng(s,a)}return new om(a,i,s)}class Vf{constructor(s){this.queryList=s,this.matches=null}clone(){return new Vf(this.queryList)}setDirty(){this.queryList.setDirty()}}class av{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let f=0;f<u;f++){const _=a.getByIndex(f);c.push(this.queries[_.indexInDeclarationView].clone())}return new av(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==cm(s,a).matches&&this.queries[a].setDirty()}}class am{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class uv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const c=null!==a?a.length:0,f=this.getByIndex(u).embeddedTView(s,c);f&&(f.indexInDeclarationView=u,null!==a?a.push(f):a=[f])}return null!==a?new uv(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Uf{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Uf(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const f=u[c];this.matchTNodeWithReadOption(s,a,Vw(a,f)),this.matchTNodeWithReadOption(s,a,$e(a,s,f,!1,!1))}else u===ed?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,$e(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Jc||c===sm||c===ed&&4&a.type)this.addMatch(a.index,-2);else{const f=$e(a,s,c,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Vw(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function Uw(i,s,a,u){return-1===a?function lv(i,s){return 11&i.type?Va(i,s):4&i.type?dh(i,s):null}(s,i):-2===a?function bT(i,s,a){return a===Jc?Va(s,i):a===ed?dh(s,i):a===sm?Lw(s,i):void 0}(i,s,u):Rt(i,i[1],a,s)}function Bw(i,s,a,u){const c=s[19].queries[u];if(null===c.matches){const f=i.data,_=a.matches,C=[];for(let D=0;D<_.length;D+=2){const N=_[D];C.push(N<0?null:Uw(s,f[N],_[D+1],a.metadata.read))}c.matches=C}return c.matches}function Bf(i,s,a,u){const c=i.queries.getByIndex(a),f=c.matches;if(null!==f){const _=Bw(i,s,c,a);for(let C=0;C<f.length;C+=2){const D=f[C];if(D>0)u.push(_[C/2]);else{const N=f[C+1],U=s[-D];for(let Y=10;Y<U.length;Y++){const ce=U[Y];ce[17]===ce[3]&&Bf(ce[1],ce,N,u)}if(null!==U[9]){const Y=U[9];for(let ce=0;ce<Y.length;ce++){const De=Y[ce];Bf(De[1],De,N,u)}}}}}return u}function jw(i){const s=st(),a=Bt(),u=bu();hl(u+1);const c=cm(a,u);if(i.dirty&&Dn(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const f=c.crossesNgTemplate?Bf(a,s,u,[]):Bw(a,s,c,u);i.reset(f,cT),i.notifyOnChanges()}return!0}return!1}function um(i,s,a,u){const c=Bt();if(c.firstCreatePass){const f=Jn();(function hv(i,s,a){null===i.queries&&(i.queries=new uv),i.queries.track(new Uf(s,a))})(c,new am(s,a,u),f.index),function TT(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function dv(i,s,a){const u=new Ff(4==(4&a));My(i,s,u,u.destroy),null===s[19]&&(s[19]=new av),s[19].queries.push(new Vf(u))}(c,st(),a)}function lm(){return function CT(i,s){return i[19].queries[s].queryList}(st(),bu())}function cm(i,s){return i.queries.getByIndex(s)}function fv(i,s){return dh(i,s)}function wm(...i){}const Tv=new Hr("Application Initializer");let Iv=(()=>{class i{constructor(a){this.appInits=a,this.resolve=wm,this.reject=wm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(a_(f))a.push(f);else if(wg(f)){const _=new Promise((C,D)=>{f.subscribe({complete:C,error:D})});a.push(_)}}Promise.all(a).then(()=>{u()}).catch(c=>{this.reject(c)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(qt(Tv,8))},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ww=new Hr("AppId",{providedIn:"root",factory:function Dv(){return`${Av()}${Av()}${Av()}`}});function Av(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zw=new Hr("Platform Initializer"),Kw=new Hr("Platform ID"),PT=new Hr("appBootstrapListener");let Yw=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tt({token:i,factory:i.\u0275fac}),i})();const Ba=new Hr("LocaleId",{providedIn:"root",factory:()=>Yn(Ba,Vt.Optional|Vt.SkipSelf)||function Qw(){return"undefined"!=typeof $localize&&$localize.locale||Ju}()}),_D=new Hr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class NT{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let kT=(()=>{class i{compileModuleSync(a){return new Pf(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),f=fa(St(a).declarations).reduce((_,C)=>{const D=te(C);return D&&_.push(new du(D)),_},[]);return new NT(u,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bm=(()=>Promise.resolve(0))();function Mv(i){"undefined"==typeof Zone?bm.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class po{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ma(!1),this.onMicrotaskEmpty=new ma(!1),this.onStable=new ma(!1),this.onError=new ma(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&a,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function td(){let i=Zt.requestAnimationFrame,s=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function LT(i){const s=()=>{!function xv(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Zt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ov(i),i.isCheckStableRunning=!0,Cm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ov(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,c,f,_,C)=>{try{return Xw(i),a.invokeTask(c,f,_,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Tm(i)}},onInvoke:(a,u,c,f,_,C,D)=>{try{return Xw(i),a.invoke(c,f,_,C,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),Tm(i)}},onHasTask:(a,u,c,f)=>{a.hasTask(c,f),u===c&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Ov(i),Cm(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,u,c,f)=>(a.handleError(c,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!po.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(po.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,c){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+c,s,zf,wm,wm);try{return f.runTask(_,a,u)}finally{f.cancelTask(_)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const zf={};function Cm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ov(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Xw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Tm(i){i._nesting--,Cm(i)}class Rv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ma,this.onMicrotaskEmpty=new ma,this.onStable=new ma,this.onError=new ma}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,c){return s.apply(a,u)}}let Pv=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{po.assertNotInAngularZone(),Mv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,c){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:c})}whenStable(a,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(qt(po))},i.\u0275prov=tt({token:i,factory:i.\u0275fac}),i})(),Xl=(()=>{class i{constructor(){this._applications=new Map,Wf.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Wf.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tt({token:i,factory:i.\u0275fac}),i})();class eb{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function tb(i){Wf=i}let Uo,Wf=new eb;const kv=new Hr("AllowMultipleToken");class Zf{constructor(s,a){this.name=s,this.token=a}}function Kf(i,s,a=[]){const u=`Platform: ${s}`,c=new Hr(u);return(f=[])=>{let _=mh();if(!_||_.injector.get(kv,!1))if(i)i(a.concat(f).concat({provide:c,useValue:!0}));else{const C=a.concat(f).concat({provide:c,useValue:!0},{provide:hi,useValue:"platform"});!function UT(i){if(Uo&&!Uo.destroyed&&!Uo.injector.get(kv,!1))throw new et(400,"");Uo=i.get(nl);const s=i.get(Zw,null);s&&s.forEach(a=>a())}(Ps.create({providers:C,name:u}))}return function nd(i){const s=mh();if(!s)throw new et(401,"");return s}()}}function mh(){return Uo&&!Uo.destroyed?Uo:null}let nl=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const C=function BT(i,s){let a;return a="noop"===i?new Rv:("zone.js"===i?void 0:i)||new po({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:po,useValue:C}];return C.run(()=>{const N=Ps.create({providers:D,parent:this.injector,name:a.moduleType.name}),U=a.create(N),Y=U.injector.get(wp,null);if(!Y)throw new et(402,"");return C.runOutsideAngular(()=>{const ce=C.onError.subscribe({next:De=>{Y.handleError(De)}});U.onDestroy(()=>{ja(this._modules,U),ce.unsubscribe()})}),function nb(i,s,a){try{const u=a();return a_(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(Y,C,()=>{const ce=U.injector.get(Iv);return ce.runInitializers(),ce.donePromise.then(()=>(function qC(i){Nt(i,"Expected localeId to be defined"),"string"==typeof i&&(zE=i.toLowerCase().replace(/_/g,"-"))}(U.injector.get(Ba,Ju)||Ju),this._moduleDoBootstrap(U),U))})})}bootstrapModule(a,u=[]){const c=Fv({},u);return function VT(i,s,a){const u=new Pf(a);return Promise.resolve(u)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(a){const u=a.injector.get(rd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new et(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(qt(Ps))},i.\u0275prov=tt({token:i,factory:i.\u0275fac}),i})();function Fv(i,s){return Array.isArray(s)?s.reduce(Fv,i):Object.assign(Object.assign({},i),s)}let rd=(()=>{class i{constructor(a,u,c,f,_){this._zone=a,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new V.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),D=new V.y(N=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{po.assertNotInAngularZone(),Mv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{po.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{U.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,le.T)(C,D.pipe((0,de.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new et(405,"");let c;c=a instanceof gw?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const f=function Im(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Ua),C=c.create(Ps.NULL,[],u||c.selector,f),D=C.location.nativeElement,N=C.injector.get(Pv,null),U=N&&C.injector.get(Xl);return N&&U&&U.registerApplication(D,N),C.onDestroy(()=>{this.detachView(C.hostView),ja(this.components,C),U&&U.unregisterApplication(D)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new et(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;ja(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(PT,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(qt(po),qt(Ps),qt(wp),qt(oh),qt(Iv))},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ja(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let ib=!0,Lv=!1;function sb(){return Lv=!0,ib}function ob(){if(Lv)throw new Error("Cannot enable prod mode after platform setup.");ib=!1}let $T=(()=>{class i{}return i.__NG_ELEMENT_ID__=ub,i})();function ub(i){return function GT(i,s,a){if(Xs(i)&&!a){const u=bn(i.index,s);return new Xc(u,u)}return 47&i.type?new Xc(s[16],s):null}(Jn(),st(),16==(16&i))}class db{constructor(){}supports(s){return Vd(s)}create(s){return new $v(s)}}const yh=(i,s)=>s;class $v{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||yh}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,c=0,f=null;for(;a||u;){const _=!u||a&&a.currentIndex<fb(u,c,f)?a:u,C=fb(_,c,f),D=_.currentIndex;if(_===u)c--,u=u._nextRemoved;else if(a=a._next,null==_.previousIndex)c++;else{f||(f=[]);const N=C-c,U=D-c;if(N!=U){for(let ce=0;ce<N;ce++){const De=ce<f.length?f[ce]:f[ce]=0,Je=De+ce;U<=Je&&Je<N&&(f[ce]=De+1)}f[_.previousIndex]=U-N}}C!==D&&s(_,C,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Vd(s))throw new et(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,_,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)f=s[C],_=this._trackByFn(C,f),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,f,_,C)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,C),u=!0),a=a._next}else c=0,function Wu(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Oa()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,C=>{_=this._trackByFn(c,C),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,C,_,c)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,_,c),u=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,c)):s=this._addAfter(new XT(a,u),f,c),s}_verifyReinsertion(s,a,u,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new hb),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class XT{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class hb{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new eI,this.map.set(a,u)),u.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fb(i,s,a){const u=i.previousIndex;if(null===u)return u;let c=0;return a&&u<a.length&&(c=a[u]),u+s+c}class pb{constructor(){}supports(s){return s instanceof Map||lg(s)}create(){return new tI}}class tI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||lg(s)))throw new et(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(c,u);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const f=c._prev,_=c._next;return f&&(f._next=_),_&&(_._prev=f),c._next=null,c._prev=null,c}const u=new nI(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class nI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rI(){return new gb([new db])}let gb=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||rI()),deps:[[i,new xo,new Qi]]}}find(a){const u=this.factories.find(c=>c.supports(a));if(null!=u)return u;throw new et(901,"")}}return i.\u0275prov=tt({token:i,providedIn:"root",factory:rI}),i})();function Dm(){return new Am([new pb])}let Am=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||Dm()),deps:[[i,new xo,new Qi]]}}find(a){const u=this.factories.find(f=>f.supports(a));if(u)return u;throw new et(901,"")}}return i.\u0275prov=tt({token:i,providedIn:"root",factory:Dm}),i})();const fu=Kf(null,"core",[{provide:Kw,useValue:"unknown"},{provide:nl,deps:[Ps]},{provide:Xl,deps:[]},{provide:Yw,deps:[]}]);let sI=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(qt(rd))},i.\u0275mod=Z({type:i}),i.\u0275inj=be({}),i})()},2313:(xt,Ue,k)=>{k.d(Ue,{H7:()=>pe,b2:()=>Wn,q6:()=>cr,se:()=>ct});var y=k(9808),p=k(5e3);class V extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends V{static makeCurrent(){(0,y.HT)(new le)}onAndCancel(q,H,te){return q.addEventListener(H,te,!1),()=>{q.removeEventListener(H,te,!1)}}dispatchEvent(q,H){q.dispatchEvent(H)}remove(q){q.parentNode&&q.parentNode.removeChild(q)}createElement(q,H){return(H=H||this.getDefaultDocument()).createElement(q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(q){return q.nodeType===Node.ELEMENT_NODE}isShadowRoot(q){return q instanceof DocumentFragment}getGlobalEventTarget(q,H){return"window"===H?window:"document"===H?q:"body"===H?q.body:null}getBaseHref(q){const H=function _e(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==H?null:function ve(F){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",F);const q=Ee.pathname;return"/"===q.charAt(0)?q:`/${q}`}(H)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(q){return(0,y.Mx)(document.cookie,q)}}let Ee,de=null;const Ae=new p.OlP("TRANSITION_ID"),ne=[{provide:p.ip1,useFactory:function re(F,q,H){return()=>{H.get(p.CZH).donePromise.then(()=>{const te=(0,y.q)(),ke=q.querySelectorAll(`style[ng-transition="${F}"]`);for(let Qe=0;Qe<ke.length;Qe++)te.remove(ke[Qe])})}},deps:[Ae,y.K0,p.zs3],multi:!0}];class we{static init(){(0,p.VLi)(new we)}addToWindow(q){p.dqk.getAngularTestability=(te,ke=!0)=>{const Qe=q.findTestabilityInTree(te,ke);if(null==Qe)throw new Error("Could not find testability for element.");return Qe},p.dqk.getAllAngularTestabilities=()=>q.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>q.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(te=>{const ke=p.dqk.getAllAngularTestabilities();let Qe=ke.length,St=!1;const En=function(jn){St=St||jn,Qe--,0==Qe&&te(St)};ke.forEach(function(jn){jn.whenStable(En)})})}findTestabilityInTree(q,H,te){if(null==H)return null;const ke=q.getTestability(H);return null!=ke?ke:te?(0,y.q)().isShadowRoot(H)?this.findTestabilityInTree(q,H.host,!0):this.findTestabilityInTree(q,H.parentElement,!0):null}}let at=(()=>{class F{build(){return new XMLHttpRequest}}return F.\u0275fac=function(H){return new(H||F)},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac}),F})();const Ye=new p.OlP("EventManagerPlugins");let et=(()=>{class F{constructor(H,te){this._zone=te,this._eventNameToPlugin=new Map,H.forEach(ke=>ke.manager=this),this._plugins=H.slice().reverse()}addEventListener(H,te,ke){return this._findPluginFor(te).addEventListener(H,te,ke)}addGlobalEventListener(H,te,ke){return this._findPluginFor(te).addGlobalEventListener(H,te,ke)}getZone(){return this._zone}_findPluginFor(H){const te=this._eventNameToPlugin.get(H);if(te)return te;const ke=this._plugins;for(let Qe=0;Qe<ke.length;Qe++){const St=ke[Qe];if(St.supports(H))return this._eventNameToPlugin.set(H,St),St}throw new Error(`No event manager plugin found for event ${H}`)}}return F.\u0275fac=function(H){return new(H||F)(p.LFG(Ye),p.LFG(p.R0b))},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac}),F})();class nt{constructor(q){this._doc=q}addGlobalEventListener(q,H,te){const ke=(0,y.q)().getGlobalEventTarget(this._doc,q);if(!ke)throw new Error(`Unsupported event target ${ke} for event ${H}`);return this.addEventListener(ke,H,te)}}let Fe=(()=>{class F{constructor(){this._stylesSet=new Set}addStyles(H){const te=new Set;H.forEach(ke=>{this._stylesSet.has(ke)||(this._stylesSet.add(ke),te.add(ke))}),this.onStylesAdded(te)}onStylesAdded(H){}getAllStyles(){return Array.from(this._stylesSet)}}return F.\u0275fac=function(H){return new(H||F)},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac}),F})(),ze=(()=>{class F extends Fe{constructor(H){super(),this._doc=H,this._hostNodes=new Map,this._hostNodes.set(H.head,[])}_addStylesToHost(H,te,ke){H.forEach(Qe=>{const St=this._doc.createElement("style");St.textContent=Qe,ke.push(te.appendChild(St))})}addHost(H){const te=[];this._addStylesToHost(this._stylesSet,H,te),this._hostNodes.set(H,te)}removeHost(H){const te=this._hostNodes.get(H);te&&te.forEach(It),this._hostNodes.delete(H)}onStylesAdded(H){this._hostNodes.forEach((te,ke)=>{this._addStylesToHost(H,ke,te)})}ngOnDestroy(){this._hostNodes.forEach(H=>H.forEach(It))}}return F.\u0275fac=function(H){return new(H||F)(p.LFG(y.K0))},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac}),F})();function It(F){(0,y.q)().remove(F)}const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ne=/%COMP%/g;function Pe(F,q,H){for(let te=0;te<q.length;te++){let ke=q[te];Array.isArray(ke)?Pe(F,ke,H):(ke=ke.replace(Ne,F),H.push(ke))}return H}function Re(F){return q=>{if("__ngUnwrap__"===q)return F;!1===F(q)&&(q.preventDefault(),q.returnValue=!1)}}let ct=(()=>{class F{constructor(H,te,ke){this.eventManager=H,this.sharedStylesHost=te,this.appId=ke,this.rendererByCompId=new Map,this.defaultRenderer=new Oe(H)}createRenderer(H,te){if(!H||!te)return this.defaultRenderer;switch(te.encapsulation){case p.ifc.Emulated:{let ke=this.rendererByCompId.get(te.id);return ke||(ke=new Qt(this.eventManager,this.sharedStylesHost,te,this.appId),this.rendererByCompId.set(te.id,ke)),ke.applyToHost(H),ke}case 1:case p.ifc.ShadowDom:return new Nt(this.eventManager,this.sharedStylesHost,H,te);default:if(!this.rendererByCompId.has(te.id)){const ke=Pe(te.id,te.styles,[]);this.sharedStylesHost.addStyles(ke),this.rendererByCompId.set(te.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return F.\u0275fac=function(H){return new(H||F)(p.LFG(et),p.LFG(ze),p.LFG(p.AFp))},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac}),F})();class Oe{constructor(q){this.eventManager=q,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(q,H){return H?document.createElementNS(yt[H]||H,q):document.createElement(q)}createComment(q){return document.createComment(q)}createText(q){return document.createTextNode(q)}appendChild(q,H){q.appendChild(H)}insertBefore(q,H,te){q&&q.insertBefore(H,te)}removeChild(q,H){q&&q.removeChild(H)}selectRootElement(q,H){let te="string"==typeof q?document.querySelector(q):q;if(!te)throw new Error(`The selector "${q}" did not match any elements`);return H||(te.textContent=""),te}parentNode(q){return q.parentNode}nextSibling(q){return q.nextSibling}setAttribute(q,H,te,ke){if(ke){H=ke+":"+H;const Qe=yt[ke];Qe?q.setAttributeNS(Qe,H,te):q.setAttribute(H,te)}else q.setAttribute(H,te)}removeAttribute(q,H,te){if(te){const ke=yt[te];ke?q.removeAttributeNS(ke,H):q.removeAttribute(`${te}:${H}`)}else q.removeAttribute(H)}addClass(q,H){q.classList.add(H)}removeClass(q,H){q.classList.remove(H)}setStyle(q,H,te,ke){ke&(p.JOm.DashCase|p.JOm.Important)?q.style.setProperty(H,te,ke&p.JOm.Important?"important":""):q.style[H]=te}removeStyle(q,H,te){te&p.JOm.DashCase?q.style.removeProperty(H):q.style[H]=""}setProperty(q,H,te){q[H]=te}setValue(q,H){q.nodeValue=H}listen(q,H,te){return"string"==typeof q?this.eventManager.addGlobalEventListener(q,H,Re(te)):this.eventManager.addEventListener(q,H,Re(te))}}class Qt extends Oe{constructor(q,H,te,ke){super(q),this.component=te;const Qe=Pe(ke+"-"+te.id,te.styles,[]);H.addStyles(Qe),this.contentAttr=function ot(F){return"_ngcontent-%COMP%".replace(Ne,F)}(ke+"-"+te.id),this.hostAttr=function me(F){return"_nghost-%COMP%".replace(Ne,F)}(ke+"-"+te.id)}applyToHost(q){super.setAttribute(q,this.hostAttr,"")}createElement(q,H){const te=super.createElement(q,H);return super.setAttribute(te,this.contentAttr,""),te}}class Nt extends Oe{constructor(q,H,te,ke){super(q),this.sharedStylesHost=H,this.hostEl=te,this.shadowRoot=te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qe=Pe(ke.id,ke.styles,[]);for(let St=0;St<Qe.length;St++){const En=document.createElement("style");En.textContent=Qe[St],this.shadowRoot.appendChild(En)}}nodeOrShadowRoot(q){return q===this.hostEl?this.shadowRoot:q}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(q,H){return super.appendChild(this.nodeOrShadowRoot(q),H)}insertBefore(q,H,te){return super.insertBefore(this.nodeOrShadowRoot(q),H,te)}removeChild(q,H){return super.removeChild(this.nodeOrShadowRoot(q),H)}parentNode(q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(q)))}}let Ft=(()=>{class F extends nt{constructor(H){super(H)}supports(H){return!0}addEventListener(H,te,ke){return H.addEventListener(te,ke,!1),()=>this.removeEventListener(H,te,ke)}removeEventListener(H,te,ke){return H.removeEventListener(te,ke)}}return F.\u0275fac=function(H){return new(H||F)(p.LFG(y.K0))},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac}),F})();const Ln=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fe={alt:F=>F.altKey,control:F=>F.ctrlKey,meta:F=>F.metaKey,shift:F=>F.shiftKey};let be=(()=>{class F extends nt{constructor(H){super(H)}supports(H){return null!=F.parseEventName(H)}addEventListener(H,te,ke){const Qe=F.parseEventName(te),St=F.eventCallback(Qe.fullKey,ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(H,Qe.domEventName,St))}static parseEventName(H){const te=H.toLowerCase().split("."),ke=te.shift();if(0===te.length||"keydown"!==ke&&"keyup"!==ke)return null;const Qe=F._normalizeKey(te.pop());let St="";if(Ln.forEach(jn=>{const wn=te.indexOf(jn);wn>-1&&(te.splice(wn,1),St+=jn+".")}),St+=Qe,0!=te.length||0===Qe.length)return null;const En={};return En.domEventName=ke,En.fullKey=St,En}static getEventFullKey(H){let te="",ke=function _t(F){let q=F.key;if(null==q){if(q=F.keyIdentifier,null==q)return"Unidentified";q.startsWith("U+")&&(q=String.fromCharCode(parseInt(q.substring(2),16)),3===F.location&&tt.hasOwnProperty(q)&&(q=tt[q]))}return ut[q]||q}(H);return ke=ke.toLowerCase()," "===ke?ke="space":"."===ke&&(ke="dot"),Ln.forEach(Qe=>{Qe!=ke&&fe[Qe](H)&&(te+=Qe+".")}),te+=ke,te}static eventCallback(H,te,ke){return Qe=>{F.getEventFullKey(Qe)===H&&ke.runGuarded(()=>te(Qe))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return F.\u0275fac=function(H){return new(H||F)(p.LFG(y.K0))},F.\u0275prov=p.Yz7({token:F,factory:F.\u0275fac}),F})();const cr=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:y.bD},{provide:p.g9A,useValue:function Lt(){le.makeCurrent(),we.init()},multi:!0},{provide:y.K0,useFactory:function kn(){return(0,p.RDi)(document),document},deps:[]}]),zn=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Tn(){return new p.qLn},deps:[]},{provide:Ye,useClass:Ft,multi:!0,deps:[y.K0,p.R0b,p.Lbi]},{provide:Ye,useClass:be,multi:!0,deps:[y.K0]},{provide:ct,useClass:ct,deps:[et,ze,p.AFp]},{provide:p.FYo,useExisting:ct},{provide:Fe,useExisting:ze},{provide:ze,useClass:ze,deps:[y.K0]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:et,useClass:et,deps:[Ye,p.R0b]},{provide:y.JF,useClass:at,deps:[]}];let Wn=(()=>{class F{constructor(H){if(H)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(H){return{ngModule:F,providers:[{provide:p.AFp,useValue:H.appId},{provide:Ae,useExisting:p.AFp},ne]}}}return F.\u0275fac=function(H){return new(H||F)(p.LFG(F,12))},F.\u0275mod=p.oAB({type:F}),F.\u0275inj=p.cJS({providers:zn,imports:[y.ez,p.hGG]}),F})();"undefined"!=typeof window&&window;let pe=(()=>{class F{}return F.\u0275fac=function(H){return new(H||F)},F.\u0275prov=p.Yz7({token:F,factory:function(H){let te=null;return te=H?new(H||F):p.LFG(Z),te},providedIn:"root"}),F})(),Z=(()=>{class F extends pe{constructor(H){super(),this._doc=H}sanitize(H,te){if(null==te)return null;switch(H){case p.q3G.NONE:return te;case p.q3G.HTML:return(0,p.qzn)(te,"HTML")?(0,p.z3N)(te):(0,p.EiD)(this._doc,String(te)).toString();case p.q3G.STYLE:return(0,p.qzn)(te,"Style")?(0,p.z3N)(te):te;case p.q3G.SCRIPT:if((0,p.qzn)(te,"Script"))return(0,p.z3N)(te);throw new Error("unsafe value used in a script context");case p.q3G.URL:return(0,p.yhl)(te),(0,p.qzn)(te,"URL")?(0,p.z3N)(te):(0,p.mCW)(String(te));case p.q3G.RESOURCE_URL:if((0,p.qzn)(te,"ResourceURL"))return(0,p.z3N)(te);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${H} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(H){return(0,p.JVY)(H)}bypassSecurityTrustStyle(H){return(0,p.L6k)(H)}bypassSecurityTrustScript(H){return(0,p.eBb)(H)}bypassSecurityTrustUrl(H){return(0,p.LAX)(H)}bypassSecurityTrustResourceUrl(H){return(0,p.pB0)(H)}}return F.\u0275fac=function(H){return new(H||F)(p.LFG(y.K0))},F.\u0275prov=p.Yz7({token:F,factory:function(H){let te=null;return te=H?new H:function He(F){return new Z(F.get(y.K0))}(p.LFG(p.zs3)),te},providedIn:"root"}),F})()},3809:(xt,Ue,k)=>{k.d(Ue,{F0:()=>jr,yS:()=>oo,Bz:()=>Ds,lC:()=>wo});var y=k(5e3),p=k(7579);class V extends p.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const v=super._subscribe(E);return!v.closed&&E.next(this._value),v}getValue(){const{hasError:E,thrownError:v,_value:S}=this;if(E)throw v;return this._throwIfClosed(),S}next(E){super.next(this._value=E)}}var le=k(8306),de=k(4742),_e=k(8996),Ee=k(4671),ve=k(3268),Ae=k(7669),re=k(1810),ne=k(5403),we=k(9672);function et(I,E,v){I?(0,we.f)(v,I,E):E()}var nt=k(576);function Fe(I,E){const v=(0,nt.m)(I)?I:()=>I,S=P=>P.error(v());return new le.y(E?P=>E.schedule(S,0,P):S)}var ze=k(8421);function It(I){return new le.y(E=>{(0,ze.Xf)(I()).subscribe(E)})}var yt=k(727),Ne=k(4482);function ge(){return(0,Ne.e)((I,E)=>{let v=null;I._refCount++;const S=(0,ne.x)(E,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(v=null);const P=I._connection,$=v;v=null,P&&(!$||P===$)&&P.unsubscribe(),E.unsubscribe()});I.subscribe(S),S.closed||(v=I.connect())})}class xe extends le.y{constructor(E,v){super(),this.source=E,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,Ne.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,null==E||E.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new yt.w0;const v=this.getSubject();E.add(this.source.subscribe((0,ne.x)(v,void 0,()=>{this._teardown(),v.complete()},S=>{this._teardown(),v.error(S)},()=>this._teardown()))),E.closed&&(this._connection=null,E=yt.w0.EMPTY)}return E}refCount(){return ge()(this)}}var Ge=k(9646),ye=k(6805),ot=k(7272),me=k(515);function Pe(I){return(0,Ne.e)((E,v)=>{let $,S=null,P=!1;S=E.subscribe((0,ne.x)(v,void 0,void 0,J=>{$=(0,ze.Xf)(I(J,Pe(I)(E))),S?(S.unsubscribe(),S=null,$.subscribe(v)):P=!0})),P&&(S.unsubscribe(),S=null,$.subscribe(v))})}var Re=k(9300);function Be(I){return I<=0?()=>me.E:(0,Ne.e)((E,v)=>{let S=[];E.subscribe((0,ne.x)(v,P=>{S.push(P),I<S.length&&S.shift()},()=>{for(const P of S)v.next(P);v.complete()},void 0,()=>{S=null}))})}var ct=k(8068),Oe=k(6590),Qt=k(4004),Nt=k(3900),Ft=k(5698),Ln=k(8675),Nn=k(5026),ut=k(4351),tt=k(590),fe=k(5577),be=k(8505),_t=k(8189),Lt=k(9808);class Tn{constructor(E,v){this.id=E,this.url=v}}class kn extends Tn{constructor(E,v,S="imperative",P=null){super(E,v),this.navigationTrigger=S,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tr extends Tn{constructor(E,v,S){super(E,v),this.urlAfterRedirects=S}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cr extends Tn{constructor(E,v,S){super(E,v),this.reason=S}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zn extends Tn{constructor(E,v,S){super(E,v),this.error=S}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wn extends Tn{constructor(E,v,S,P){super(E,v),this.urlAfterRedirects=S,this.state=P}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mr extends Tn{constructor(E,v,S,P){super(E,v),this.urlAfterRedirects=S,this.state=P}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt extends Tn{constructor(E,v,S,P,$){super(E,v),this.urlAfterRedirects=S,this.state=P,this.shouldActivate=$}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fr extends Tn{constructor(E,v,S,P){super(E,v),this.urlAfterRedirects=S,this.state=P}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n extends Tn{constructor(E,v,S,P){super(E,v),this.urlAfterRedirects=S,this.state=P}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yn{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xn{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vr{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ze{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oe{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class he{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(E,v,S){this.routerEvent=E,this.position=v,this.anchor=S}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ce="primary";class lt{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v[0]:v}return null}getAll(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function ft(I){return new lt(I)}const In="ngNavigationCancelingError";function an(I){const E=Error("NavigationCancelingError: "+I);return E[In]=!0,E}function wr(I,E,v){const S=v.path.split("/");if(S.length>I.length||"full"===v.pathMatch&&(E.hasChildren()||S.length<I.length))return null;const P={};for(let $=0;$<S.length;$++){const J=S[$],se=I[$];if(J.startsWith(":"))P[J.substring(1)]=se;else if(J!==se.path)return null}return{consumed:I.slice(0,S.length),posParams:P}}function en(I,E){const v=I?Object.keys(I):void 0,S=E?Object.keys(E):void 0;if(!v||!S||v.length!=S.length)return!1;let P;for(let $=0;$<v.length;$++)if(P=v[$],!vt(I[P],E[P]))return!1;return!0}function vt(I,E){if(Array.isArray(I)&&Array.isArray(E)){if(I.length!==E.length)return!1;const v=[...I].sort(),S=[...E].sort();return v.every((P,$)=>S[$]===P)}return I===E}function pn(I){return Array.prototype.concat.apply([],I)}function un(I){return I.length>0?I[I.length-1]:null}function Le(I,E){for(const v in I)I.hasOwnProperty(v)&&E(I[v],v)}function wt(I){return(0,y.CqO)(I)?I:(0,y.QGY)(I)?(0,_e.D)(Promise.resolve(I)):(0,Ge.of)(I)}const nn={exact:function pe(I,E,v){if(!Qe(I.segments,E.segments)||!F(I.segments,E.segments,v)||I.numberOfChildren!==E.numberOfChildren)return!1;for(const S in E.children)if(!I.children[S]||!pe(I.children[S],E.children[S],v))return!1;return!0},subset:Z},rn={exact:function X(I,E){return en(I,E)},subset:function He(I,E){return Object.keys(E).length<=Object.keys(I).length&&Object.keys(E).every(v=>vt(I[v],E[v]))},ignored:()=>!0};function ae(I,E,v){return nn[v.paths](I.root,E.root,v.matrixParams)&&rn[v.queryParams](I.queryParams,E.queryParams)&&!("exact"===v.fragment&&I.fragment!==E.fragment)}function Z(I,E,v){return Q(I,E,E.segments,v)}function Q(I,E,v,S){if(I.segments.length>v.length){const P=I.segments.slice(0,v.length);return!(!Qe(P,v)||E.hasChildren()||!F(P,v,S))}if(I.segments.length===v.length){if(!Qe(I.segments,v)||!F(I.segments,v,S))return!1;for(const P in E.children)if(!I.children[P]||!Z(I.children[P],E.children[P],S))return!1;return!0}{const P=v.slice(0,I.segments.length),$=v.slice(I.segments.length);return!!(Qe(I.segments,P)&&F(I.segments,P,S)&&I.children[Ce])&&Q(I.children[Ce],E,$,S)}}function F(I,E,v){return E.every((S,P)=>rn[v](I[P].parameters,S.parameters))}class q{constructor(E,v,S){this.root=E,this.queryParams=v,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ft(this.queryParams)),this._queryParamMap}toString(){return wn.serialize(this)}}class H{constructor(E,v){this.segments=E,this.children=v,this.parent=null,Le(v,(S,P)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return br(this)}}class te{constructor(E,v){this.path=E,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=ft(this.parameters)),this._parameterMap}toString(){return pr(this)}}function Qe(I,E){return I.length===E.length&&I.every((v,S)=>v.path===E[S].path)}class En{}class jn{parse(E){const v=new Si(E);return new q(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(E){const v=`/${Ur(E.root,!0)}`,S=function Cr(I){const E=Object.keys(I).map(v=>{const S=I[v];return Array.isArray(S)?S.map(P=>`${ns(v)}=${ns(P)}`).join("&"):`${ns(v)}=${ns(S)}`}).filter(v=>!!v);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${v}${S}${"string"==typeof E.fragment?`#${function nr(I){return encodeURI(I)}(E.fragment)}`:""}`}}const wn=new jn;function br(I){return I.segments.map(E=>pr(E)).join("/")}function Ur(I,E){if(!I.hasChildren())return br(I);if(E){const v=I.children[Ce]?Ur(I.children[Ce],!1):"",S=[];return Le(I.children,(P,$)=>{$!==Ce&&S.push(`${$}:${Ur(P,!1)}`)}),S.length>0?`${v}(${S.join("//")})`:v}{const v=function St(I,E){let v=[];return Le(I.children,(S,P)=>{P===Ce&&(v=v.concat(E(S,P)))}),Le(I.children,(S,P)=>{P!==Ce&&(v=v.concat(E(S,P)))}),v}(I,(S,P)=>P===Ce?[Ur(I.children[Ce],!1)]:[`${P}:${Ur(S,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Ce]?`${br(I)}/${v[0]}`:`${br(I)}/(${v.join("//")})`}}function dr(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ns(I){return dr(I).replace(/%3B/gi,";")}function Dt(I){return dr(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hn(I){return decodeURIComponent(I)}function Un(I){return hn(I.replace(/\+/g,"%20"))}function pr(I){return`${Dt(I.path)}${function ai(I){return Object.keys(I).map(E=>`;${Dt(E)}=${Dt(I[E])}`).join("")}(I.parameters)}`}const xr=/^[^\/()?;=#]+/;function Kn(I){const E=I.match(xr);return E?E[0]:""}const ar=/^[^=?&#]+/,fn=/^[^&#]+/;class Si{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new H([],{}):new H([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(E.length>0||Object.keys(v).length>0)&&(S[Ce]=new H(E,v)),S}parseSegment(){const E=Kn(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new te(hn(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const v=Kn(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const P=Kn(this.remaining);P&&(S=P,this.capture(S))}E[hn(v)]=hn(S)}parseQueryParam(E){const v=function ms(I){const E=I.match(ar);return E?E[0]:""}(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const J=function yo(I){const E=I.match(fn);return E?E[0]:""}(this.remaining);J&&(S=J,this.capture(S))}const P=Un(v),$=Un(S);if(E.hasOwnProperty(P)){let J=E[P];Array.isArray(J)||(J=[J],E[P]=J),J.push($)}else E[P]=$}parseParens(E){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Kn(this.remaining),P=this.remaining[S.length];if("/"!==P&&")"!==P&&";"!==P)throw new Error(`Cannot parse url '${this.url}'`);let $;S.indexOf(":")>-1?($=S.substr(0,S.indexOf(":")),this.capture($),this.capture(":")):E&&($=Ce);const J=this.parseChildren();v[$]=1===Object.keys(J).length?J[Ce]:new H([],J),this.consumeOptional("//")}return v}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class qo{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const v=this.pathFromRoot(E);return v.length>1?v[v.length-2]:null}children(E){const v=ui(E,this._root);return v?v.children.map(S=>S.value):[]}firstChild(E){const v=ui(E,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(E){const v=gr(E,this._root);return v.length<2?[]:v[v.length-2].children.map(P=>P.value).filter(P=>P!==E)}pathFromRoot(E){return gr(E,this._root).map(v=>v.value)}}function ui(I,E){if(I===E.value)return E;for(const v of E.children){const S=ui(I,v);if(S)return S}return null}function gr(I,E){if(I===E.value)return[E];for(const v of E.children){const S=gr(I,v);if(S.length)return S.unshift(E),S}return[]}class Or{constructor(E,v){this.value=E,this.children=v}toString(){return`TreeNode(${this.value})`}}function ei(I){const E={};return I&&I.children.forEach(v=>E[v.value.outlet]=v),E}class Br extends qo{constructor(E,v){super(E),this.snapshot=v,Ls(this,E)}toString(){return this.snapshot.toString()}}function Gn(I,E){const v=function Js(I,E){const J=new ys([],{},{},"",{},Ce,E,null,I.root,-1,{});return new Xs("",new Or(J,[]))}(I,E),S=new V([new te("",{})]),P=new V({}),$=new V({}),J=new V({}),se=new V(""),$e=new Fs(S,P,J,se,$,Ce,E,v.root);return $e.snapshot=v.root,new Br(new Or($e,[]),v)}class Fs{constructor(E,v,S,P,$,J,se,$e){this.url=E,this.params=v,this.queryParams=S,this.fragment=P,this.data=$,this.outlet=J,this.component=se,this._futureSnapshot=$e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qt.U)(E=>ft(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qt.U)(E=>ft(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tr(I,E="emptyOnly"){const v=I.pathFromRoot;let S=0;if("always"!==E)for(S=v.length-1;S>=1;){const P=v[S],$=v[S-1];if(P.routeConfig&&""===P.routeConfig.path)S--;else{if($.component)break;S--}}return function yi(I){return I.reduce((E,v)=>({params:Object.assign(Object.assign({},E.params),v.params),data:Object.assign(Object.assign({},E.data),v.data),resolve:Object.assign(Object.assign({},E.resolve),v._resolvedData)}),{params:{},data:{},resolve:{}})}(v.slice(S))}class ys{constructor(E,v,S,P,$,J,se,$e,Rt,An,$t){this.url=E,this.params=v,this.queryParams=S,this.fragment=P,this.data=$,this.outlet=J,this.component=se,this.routeConfig=$e,this._urlSegment=Rt,this._lastPathIndex=An,this._resolve=$t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ft(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ft(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xs extends qo{constructor(E,v){super(v),this.url=E,Ls(this,v)}toString(){return Mi(this._root)}}function Ls(I,E){E.value._routerState=I,E.children.forEach(v=>Ls(I,v))}function Mi(I){const E=I.children.length>0?` { ${I.children.map(Mi).join(", ")} } `:"";return`${I.value}${E}`}function zo(I){if(I.snapshot){const E=I.snapshot,v=I._futureSnapshot;I.snapshot=v,en(E.queryParams,v.queryParams)||I.queryParams.next(v.queryParams),E.fragment!==v.fragment&&I.fragment.next(v.fragment),en(E.params,v.params)||I.params.next(v.params),function Zn(I,E){if(I.length!==E.length)return!1;for(let v=0;v<I.length;++v)if(!en(I[v],E[v]))return!1;return!0}(E.url,v.url)||I.url.next(v.url),en(E.data,v.data)||I.data.next(v.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function eo(I,E){const v=en(I.params,E.params)&&function ke(I,E){return Qe(I,E)&&I.every((v,S)=>en(v.parameters,E[S].parameters))}(I.url,E.url);return v&&!(!I.parent!=!E.parent)&&(!I.parent||eo(I.parent,E.parent))}function Rr(I,E,v){if(v&&I.shouldReuseRoute(E.value,v.value.snapshot)){const S=v.value;S._futureSnapshot=E.value;const P=function mu(I,E,v){return E.children.map(S=>{for(const P of v.children)if(I.shouldReuseRoute(S.value,P.value.snapshot))return Rr(I,S,P);return Rr(I,S)})}(I,E,v);return new Or(S,P)}{if(I.shouldAttach(E.value)){const $=I.retrieve(E.value);if(null!==$){const J=$.route;return J.value._futureSnapshot=E.value,J.children=E.children.map(se=>Rr(I,se)),J}}const S=function li(I){return new Fs(new V(I.url),new V(I.params),new V(I.queryParams),new V(I.fragment),new V(I.data),I.outlet,I.component,I)}(E.value),P=E.children.map($=>Rr(I,$));return new Or(S,P)}}function _o(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function vo(I){return"object"==typeof I&&null!=I&&I.outlets}function Vs(I,E,v,S,P){let $={};if(S&&Le(S,(se,$e)=>{$[$e]=Array.isArray(se)?se.map(Rt=>`${Rt}`):`${se}`}),I===E)return new q(v,$,P);const J=to(I,E,v);return new q(J,$,P)}function to(I,E,v){const S={};return Le(I.children,(P,$)=>{S[$]=P===E?v:to(P,E,v)}),new H(I.segments,S)}class Wo{constructor(E,v,S){if(this.isAbsolute=E,this.numberOfDoubleDots=v,this.commands=S,E&&S.length>0&&_o(S[0]))throw new Error("Root segment cannot have matrix parameters");const P=S.find(vo);if(P&&P!==un(S))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ya{constructor(E,v,S){this.segmentGroup=E,this.processChildren=v,this.index=S}}function ul(I,E,v){if(I||(I=new H([],{})),0===I.segments.length&&I.hasChildren())return _i(I,E,v);const S=function qa(I,E,v){let S=0,P=E;const $={match:!1,pathIndex:0,commandIndex:0};for(;P<I.segments.length;){if(S>=v.length)return $;const J=I.segments[P],se=v[S];if(vo(se))break;const $e=`${se}`,Rt=S<v.length-1?v[S+1]:null;if(P>0&&void 0===$e)break;if($e&&Rt&&"object"==typeof Rt&&void 0===Rt.outlets){if(!ci($e,Rt,J))return $;S+=2}else{if(!ci($e,{},J))return $;S++}P++}return{match:!0,pathIndex:P,commandIndex:S}}(I,E,v),P=v.slice(S.commandIndex);if(S.match&&S.pathIndex<I.segments.length){const $=new H(I.segments.slice(0,S.pathIndex),{});return $.children[Ce]=new H(I.segments.slice(S.pathIndex),I.children),_i($,0,P)}return S.match&&0===P.length?new H(I.segments,{}):S.match&&!I.hasChildren()?_s(I,E,v):S.match?_i(I,0,P):_s(I,E,v)}function _i(I,E,v){if(0===v.length)return new H(I.segments,{});{const S=function yu(I){return vo(I[0])?I[0].outlets:{[Ce]:I}}(v),P={};return Le(S,($,J)=>{"string"==typeof $&&($=[$]),null!==$&&(P[J]=ul(I.children[J],E,$))}),Le(I.children,($,J)=>{void 0===S[J]&&(P[J]=$)}),new H(I.segments,P)}}function _s(I,E,v){const S=I.segments.slice(0,E);let P=0;for(;P<v.length;){const $=v[P];if(vo($)){const $e=is($.outlets);return new H(S,$e)}if(0===P&&_o(v[0])){S.push(new te(I.segments[E].path,vs(v[0]))),P++;continue}const J=vo($)?$.outlets[Ce]:`${$}`,se=P<v.length-1?v[P+1]:null;J&&se&&_o(se)?(S.push(new te(J,vs(se))),P+=2):(S.push(new te(J,{})),P++)}return new H(S,{})}function is(I){const E={};return Le(I,(v,S)=>{"string"==typeof v&&(v=[v]),null!==v&&(E[S]=_s(new H([],{}),0,v))}),E}function vs(I){const E={};return Le(I,(v,S)=>E[S]=`${v}`),E}function ci(I,E,v){return I==v.path&&en(E,v.parameters)}class Bs{constructor(E,v,S,P){this.routeReuseStrategy=E,this.futureState=v,this.currState=S,this.forwardEvent=P}activate(E){const v=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,S,E),zo(this.futureState.root),this.activateChildRoutes(v,S,E)}deactivateChildRoutes(E,v,S){const P=ei(v);E.children.forEach($=>{const J=$.value.outlet;this.deactivateRoutes($,P[J],S),delete P[J]}),Le(P,($,J)=>{this.deactivateRouteAndItsChildren($,S)})}deactivateRoutes(E,v,S){const P=E.value,$=v?v.value:null;if(P===$)if(P.component){const J=S.getContext(P.outlet);J&&this.deactivateChildRoutes(E,v,J.children)}else this.deactivateChildRoutes(E,v,S);else $&&this.deactivateRouteAndItsChildren(v,S)}deactivateRouteAndItsChildren(E,v){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,v):this.deactivateRouteAndOutlet(E,v)}detachAndStoreRouteSubtree(E,v){const S=v.getContext(E.value.outlet),P=S&&E.value.component?S.children:v,$=ei(E);for(const J of Object.keys($))this.deactivateRouteAndItsChildren($[J],P);if(S&&S.outlet){const J=S.outlet.detach(),se=S.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:J,route:E,contexts:se})}}deactivateRouteAndOutlet(E,v){const S=v.getContext(E.value.outlet),P=S&&E.value.component?S.children:v,$=ei(E);for(const J of Object.keys($))this.deactivateRouteAndItsChildren($[J],P);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(E,v,S){const P=ei(v);E.children.forEach($=>{this.activateRoutes($,P[$.value.outlet],S),this.forwardEvent(new he($.value.snapshot))}),E.children.length&&this.forwardEvent(new Ze(E.value.snapshot))}activateRoutes(E,v,S){const P=E.value,$=v?v.value:null;if(zo(P),P===$)if(P.component){const J=S.getOrCreateContext(P.outlet);this.activateChildRoutes(E,v,J.children)}else this.activateChildRoutes(E,v,S);else if(P.component){const J=S.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const se=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),J.children.onOutletReAttached(se.contexts),J.attachRef=se.componentRef,J.route=se.route.value,J.outlet&&J.outlet.attach(se.componentRef,se.route.value),zo(se.route.value),this.activateChildRoutes(E,null,J.children)}else{const se=function Zo(I){for(let E=I.parent;E;E=E.parent){const v=E.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig;if(v&&v.component)return null}return null}(P.snapshot),$e=se?se.module.componentFactoryResolver:null;J.attachRef=null,J.route=P,J.resolver=$e,J.outlet&&J.outlet.activateWith(P,$e),this.activateChildRoutes(E,null,J.children)}}else this.activateChildRoutes(E,null,S)}}class Ko{constructor(E,v){this.routes=E,this.module=v}}function vi(I){return"function"==typeof I}function Pr(I){return I instanceof q}const ss=Symbol("INITIAL_VALUE");function va(){return(0,Nt.w)(I=>function at(...I){const E=(0,Ae.yG)(I),v=(0,Ae.jO)(I),{args:S,keys:P}=(0,de.D)(I);if(0===S.length)return(0,_e.D)([],E);const $=new le.y(function Ye(I,E,v=Ee.y){return S=>{et(E,()=>{const{length:P}=I,$=new Array(P);let J=P,se=P;for(let $e=0;$e<P;$e++)et(E,()=>{const Rt=(0,_e.D)(I[$e],E);let An=!1;Rt.subscribe((0,ne.x)(S,$t=>{$[$e]=$t,An||(An=!0,se--),se||S.next(v($.slice()))},()=>{--J||S.complete()}))},S)},S)}}(S,E,P?J=>(0,re.n)(P,J):Ee.y));return v?$.pipe((0,ve.Z)(v)):$}(I.map(E=>E.pipe((0,Ft.q)(1),(0,Ln.O)(ss)))).pipe((0,Nn.R)((E,v)=>{let S=!1;return v.reduce((P,$,J)=>P!==ss?P:($===ss&&(S=!0),S||!1!==$&&J!==v.length-1&&!Pr($)?P:$),E)},ss),(0,Re.h)(E=>E!==ss),(0,Qt.U)(E=>Pr(E)?E:!0===E),(0,Ft.q)(1)))}class Es{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new js,this.attachRef=null}}class js{constructor(){this.contexts=new Map}onChildOutletCreated(E,v){const S=this.getOrCreateContext(E);S.outlet=v,this.contexts.set(E,S)}onChildOutletDestroyed(E){const v=this.getContext(E);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let v=this.getContext(E);return v||(v=new Es,this.contexts.set(E,v)),v}getContext(E){return this.contexts.get(E)||null}}let wo=(()=>{class I{constructor(v,S,P,$,J){this.parentContexts=v,this.location=S,this.resolver=P,this.changeDetector=J,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=$||Ce,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,S){this.activated=v,this._activatedRoute=S,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,S){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;const J=(S=S||this.resolver).resolveComponentFactory(v._futureSnapshot.routeConfig.component),se=this.parentContexts.getOrCreateContext(this.name).children,$e=new Qo(v,se,this.location.injector);this.activated=this.location.createComponent(J,this.location.length,$e),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(v){return new(v||I)(y.Y36(js),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},I.\u0275dir=y.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),I})();class Qo{constructor(E,v,S){this.route=E,this.childContexts=v,this.parent=S}get(E,v){return E===Fs?this.route:E===js?this.childContexts:this.parent.get(E,v)}}let Wi=(()=>{class I{}return I.\u0275fac=function(v){return new(v||I)},I.\u0275cmp=y.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(v,S){1&v&&y._UZ(0,"router-outlet")},directives:[wo],encapsulation:2}),I})();function ti(I,E=""){for(let v=0;v<I.length;v++){const S=I[v];Ea(S,rr(E,S))}}function Ea(I,E){I.children&&ti(I.children,E)}function rr(I,E){return E?I||E.path?I&&!E.path?`${I}/`:!I&&E.path?E.path:`${I}/${E.path}`:"":I}function O(I){const E=I.children&&I.children.map(O),v=E?Object.assign(Object.assign({},I),{children:E}):Object.assign({},I);return!v.component&&(E||v.loadChildren)&&v.outlet&&v.outlet!==Ce&&(v.component=Wi),v}function B(I){return I.outlet||Ce}function x(I,E){const v=I.filter(S=>B(S)===E);return v.push(...I.filter(S=>B(S)!==E)),v}const z={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ie(I,E,v){var S;if(""===E.path)return"full"===E.pathMatch&&(I.hasChildren()||v.length>0)?Object.assign({},z):{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const $=(E.matcher||wr)(v,I,E);if(!$)return Object.assign({},z);const J={};Le($.posParams,($e,Rt)=>{J[Rt]=$e.path});const se=$.consumed.length>0?Object.assign(Object.assign({},J),$.consumed[$.consumed.length-1].parameters):J;return{matched:!0,consumedSegments:$.consumed,remainingSegments:v.slice($.consumed.length),parameters:se,positionalParamSegments:null!==(S=$.posParams)&&void 0!==S?S:{}}}function je(I,E,v,S,P="corrected"){if(v.length>0&&function Qn(I,E,v){return v.some(S=>bn(I,E,S)&&B(S)!==Ce)}(I,v,S)){const J=new H(E,function At(I,E,v,S){const P={};P[Ce]=S,S._sourceSegment=I,S._segmentIndexShift=E.length;for(const $ of v)if(""===$.path&&B($)!==Ce){const J=new H([],{});J._sourceSegment=I,J._segmentIndexShift=E.length,P[B($)]=J}return P}(I,E,S,new H(v,I.children)));return J._sourceSegment=I,J._segmentIndexShift=E.length,{segmentGroup:J,slicedSegments:[]}}if(0===v.length&&function Fn(I,E,v){return v.some(S=>bn(I,E,S))}(I,v,S)){const J=new H(I.segments,function rt(I,E,v,S,P,$){const J={};for(const se of S)if(bn(I,v,se)&&!P[B(se)]){const $e=new H([],{});$e._sourceSegment=I,$e._segmentIndexShift="legacy"===$?I.segments.length:E.length,J[B(se)]=$e}return Object.assign(Object.assign({},P),J)}(I,E,v,S,I.children,P));return J._sourceSegment=I,J._segmentIndexShift=E.length,{segmentGroup:J,slicedSegments:v}}const $=new H(I.segments,I.children);return $._sourceSegment=I,$._segmentIndexShift=E.length,{segmentGroup:$,slicedSegments:v}}function bn(I,E,v){return(!(I.hasChildren()||E.length>0)||"full"!==v.pathMatch)&&""===v.path}function Dn(I,E,v,S){return!!(B(I)===S||S!==Ce&&bn(E,v,I))&&("**"===I.path||ie(E,I,v).matched)}function mr(I,E,v){return 0===E.length&&!I.children[v]}class Bn{constructor(E){this.segmentGroup=E||null}}class sr{constructor(E){this.urlTree=E}}function di(I){return Fe(new Bn(I))}function ni(I){return Fe(new sr(I))}class no{constructor(E,v,S,P,$){this.configLoader=v,this.urlSerializer=S,this.urlTree=P,this.config=$,this.allowRedirects=!0,this.ngModule=E.get(y.h0i)}apply(){const E=je(this.urlTree.root,[],[],this.config).segmentGroup,v=new H(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,v,Ce).pipe((0,Qt.U)($=>this.createUrlTree(bo($),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pe($=>{if($ instanceof sr)return this.allowRedirects=!1,this.match($.urlTree);throw $ instanceof Bn?this.noMatchError($):$}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,Ce).pipe((0,Qt.U)(P=>this.createUrlTree(bo(P),E.queryParams,E.fragment))).pipe(Pe(P=>{throw P instanceof Bn?this.noMatchError(P):P}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,v,S){const P=E.segments.length>0?new H([],{[Ce]:E}):E;return new q(P,v,S)}expandSegmentGroup(E,v,S,P){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(E,v,S).pipe((0,Qt.U)($=>new H([],$))):this.expandSegment(E,S,v,S.segments,P,!0)}expandChildren(E,v,S){const P=[];for(const $ of Object.keys(S.children))"primary"===$?P.unshift($):P.push($);return(0,_e.D)(P).pipe((0,ut.b)($=>{const J=S.children[$],se=x(v,$);return this.expandSegmentGroup(E,se,J,$).pipe((0,Qt.U)($e=>({segment:$e,outlet:$})))}),(0,Nn.R)(($,J)=>($[J.outlet]=J.segment,$),{}),function zt(I,E){const v=arguments.length>=2;return S=>S.pipe(I?(0,Re.h)((P,$)=>I(P,$,S)):Ee.y,Be(1),v?(0,Oe.d)(E):(0,ct.T)(()=>new ye.K))}())}expandSegment(E,v,S,P,$,J){return(0,_e.D)(S).pipe((0,ut.b)(se=>this.expandSegmentAgainstRoute(E,v,S,se,P,$,J).pipe(Pe(Rt=>{if(Rt instanceof Bn)return(0,Ge.of)(null);throw Rt}))),(0,tt.P)(se=>!!se),Pe((se,$e)=>{if(se instanceof ye.K||"EmptyError"===se.name)return mr(v,P,$)?(0,Ge.of)(new H([],{})):di(v);throw se}))}expandSegmentAgainstRoute(E,v,S,P,$,J,se){return Dn(P,v,$,J)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(E,v,P,$,J):se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,v,S,P,$,J):di(v):di(v)}expandSegmentAgainstRouteUsingRedirect(E,v,S,P,$,J){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,S,P,J):this.expandRegularSegmentAgainstRouteUsingRedirect(E,v,S,P,$,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,v,S,P){const $=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?ni($):this.lineralizeSegments(S,$).pipe((0,fe.z)(J=>{const se=new H(J,{});return this.expandSegment(E,se,v,J,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,v,S,P,$,J){const{matched:se,consumedSegments:$e,remainingSegments:Rt,positionalParamSegments:An}=ie(v,P,$);if(!se)return di(v);const $t=this.applyRedirectCommands($e,P.redirectTo,An);return P.redirectTo.startsWith("/")?ni($t):this.lineralizeSegments(P,$t).pipe((0,fe.z)(Hn=>this.expandSegment(E,v,S,Hn.concat(Rt),J,!1)))}matchSegmentAgainstRoute(E,v,S,P,$){if("**"===S.path)return S.loadChildren?(S._loadedConfig?(0,Ge.of)(S._loadedConfig):this.configLoader.load(E.injector,S)).pipe((0,Qt.U)($t=>(S._loadedConfig=$t,new H(P,{})))):(0,Ge.of)(new H(P,{}));const{matched:J,consumedSegments:se,remainingSegments:$e}=ie(v,S,P);return J?this.getChildConfig(E,S,P).pipe((0,fe.z)(An=>{const $t=An.module,Hn=An.routes,{segmentGroup:Pn,slicedSegments:hr}=je(v,se,$e,Hn),Ni=new H(Pn.segments,Pn.children);if(0===hr.length&&Ni.hasChildren())return this.expandChildren($t,Hn,Ni).pipe((0,Qt.U)(lo=>new H(se,lo)));if(0===Hn.length&&0===hr.length)return(0,Ge.of)(new H(se,{}));const uo=B(S)===$;return this.expandSegment($t,Ni,Hn,hr,uo?Ce:$,!0).pipe((0,Qt.U)(ki=>new H(se.concat(ki.segments),ki.children)))})):di(v)}getChildConfig(E,v,S){return v.children?(0,Ge.of)(new Ko(v.children,E)):v.loadChildren?void 0!==v._loadedConfig?(0,Ge.of)(v._loadedConfig):this.runCanLoadGuards(E.injector,v,S).pipe((0,fe.z)(P=>P?this.configLoader.load(E.injector,v).pipe((0,Qt.U)($=>(v._loadedConfig=$,$))):function ws(I){return Fe(an(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`))}(v))):(0,Ge.of)(new Ko([],E))}runCanLoadGuards(E,v,S){const P=v.canLoad;if(!P||0===P.length)return(0,Ge.of)(!0);const $=P.map(J=>{const se=E.get(J);let $e;if(function xi(I){return I&&vi(I.canLoad)}(se))$e=se.canLoad(v,S);else{if(!vi(se))throw new Error("Invalid CanLoad guard");$e=se(v,S)}return wt($e)});return(0,Ge.of)($).pipe(va(),(0,be.b)(J=>{if(!Pr(J))return;const se=an(`Redirecting to "${this.urlSerializer.serialize(J)}"`);throw se.url=J,se}),(0,Qt.U)(J=>!0===J))}lineralizeSegments(E,v){let S=[],P=v.root;for(;;){if(S=S.concat(P.segments),0===P.numberOfChildren)return(0,Ge.of)(S);if(P.numberOfChildren>1||!P.children[Ce])return Fe(new Error(`Only absolute redirects can have named outlets. redirectTo: '${E.redirectTo}'`));P=P.children[Ce]}}applyRedirectCommands(E,v,S){return this.applyRedirectCreatreUrlTree(v,this.urlSerializer.parse(v),E,S)}applyRedirectCreatreUrlTree(E,v,S,P){const $=this.createSegmentGroup(E,v.root,S,P);return new q($,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(E,v){const S={};return Le(E,(P,$)=>{if("string"==typeof P&&P.startsWith(":")){const se=P.substring(1);S[$]=v[se]}else S[$]=P}),S}createSegmentGroup(E,v,S,P){const $=this.createSegments(E,v.segments,S,P);let J={};return Le(v.children,(se,$e)=>{J[$e]=this.createSegmentGroup(E,se,S,P)}),new H($,J)}createSegments(E,v,S,P){return v.map($=>$.path.startsWith(":")?this.findPosParam(E,$,P):this.findOrReturn($,S))}findPosParam(E,v,S){const P=S[v.path.substring(1)];if(!P)throw new Error(`Cannot redirect to '${E}'. Cannot find '${v.path}'.`);return P}findOrReturn(E,v){let S=0;for(const P of v){if(P.path===E.path)return v.splice(S),P;S++}return E}}function bo(I){const E={};for(const S of Object.keys(I.children)){const $=bo(I.children[S]);($.segments.length>0||$.hasChildren())&&(E[S]=$)}return function Wa(I){if(1===I.numberOfChildren&&I.children[Ce]){const E=I.children[Ce];return new H(I.segments.concat(E.segments),E.children)}return I}(new H(I.segments,E))}class ro{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class st{constructor(E,v){this.component=E,this.route=v}}function Bt(I,E,v){const S=I._root;return Zi(S,E?E._root:null,v,[S.value])}function Jn(I,E,v){const S=function vu(I){if(!I)return null;for(let E=I.parent;E;E=E.parent){const v=E.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig}return null}(E);return(S?S.module.injector:v).get(I)}function Zi(I,E,v,S,P={canDeactivateChecks:[],canActivateChecks:[]}){const $=ei(E);return I.children.forEach(J=>{(function bs(I,E,v,S,P={canDeactivateChecks:[],canActivateChecks:[]}){const $=I.value,J=E?E.value:null,se=v?v.getContext(I.value.outlet):null;if(J&&$.routeConfig===J.routeConfig){const $e=function Eu(I,E,v){if("function"==typeof v)return v(I,E);switch(v){case"pathParamsChange":return!Qe(I.url,E.url);case"pathParamsOrQueryParamsChange":return!Qe(I.url,E.url)||!en(I.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eo(I,E)||!en(I.queryParams,E.queryParams);default:return!eo(I,E)}}(J,$,$.routeConfig.runGuardsAndResolvers);$e?P.canActivateChecks.push(new ro(S)):($.data=J.data,$._resolvedData=J._resolvedData),Zi(I,E,$.component?se?se.children:null:v,S,P),$e&&se&&se.outlet&&se.outlet.isActivated&&P.canDeactivateChecks.push(new st(se.outlet.component,J))}else J&&Hs(E,se,P),P.canActivateChecks.push(new ro(S)),Zi(I,null,$.component?se?se.children:null:v,S,P)})(J,$[J.value.outlet],v,S.concat([J.value]),P),delete $[J.value.outlet]}),Le($,(J,se)=>Hs(J,v.getContext(se),P)),P}function Hs(I,E,v){const S=ei(I),P=I.value;Le(S,($,J)=>{Hs($,P.component?E?E.children.getContext(J):null:E,v)}),v.canDeactivateChecks.push(new st(P.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,P))}class Oi{}function cl(I){return new le.y(E=>E.error(I))}class dl{constructor(E,v,S,P,$,J){this.rootComponentType=E,this.config=v,this.urlTree=S,this.url=P,this.paramsInheritanceStrategy=$,this.relativeLinkResolution=J}recognize(){const E=je(this.urlTree.root,[],[],this.config.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution).segmentGroup,v=this.processSegmentGroup(this.config,E,Ce);if(null===v)return null;const S=new ys([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ce,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Or(S,v),$=new Xs(this.url,P);return this.inheritParamsAndData($._root),$}inheritParamsAndData(E){const v=E.value,S=Tr(v,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),E.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(E,v,S){return 0===v.segments.length&&v.hasChildren()?this.processChildren(E,v):this.processSegment(E,v,v.segments,S)}processChildren(E,v){const S=[];for(const $ of Object.keys(v.children)){const J=v.children[$],se=x(E,$),$e=this.processSegmentGroup(se,J,$);if(null===$e)return null;S.push(...$e)}const P=bu(S);return function ba(I){I.sort((E,v)=>E.value.outlet===Ce?-1:v.value.outlet===Ce?1:E.value.outlet.localeCompare(v.value.outlet))}(P),P}processSegment(E,v,S,P){for(const $ of E){const J=this.processSegmentAgainstRoute($,v,S,P);if(null!==J)return J}return mr(v,S,P)?[]:null}processSegmentAgainstRoute(E,v,S,P){if(E.redirectTo||!Dn(E,v,S,P))return null;let $,J=[],se=[];if("**"===E.path){const Pn=S.length>0?un(S).parameters:{};$=new ys(S,Pn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ra(E),B(E),E.component,E,Ca(v),na(v)+S.length,io(E))}else{const Pn=ie(v,E,S);if(!Pn.matched)return null;J=Pn.consumedSegments,se=Pn.remainingSegments,$=new ys(J,Pn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ra(E),B(E),E.component,E,Ca(v),na(v)+J.length,io(E))}const $e=function wu(I){return I.children?I.children:I.loadChildren?I._loadedConfig.routes:[]}(E),{segmentGroup:Rt,slicedSegments:An}=je(v,J,se,$e.filter(Pn=>void 0===Pn.redirectTo),this.relativeLinkResolution);if(0===An.length&&Rt.hasChildren()){const Pn=this.processChildren($e,Rt);return null===Pn?null:[new Or($,Pn)]}if(0===$e.length&&0===An.length)return[new Or($,[])];const $t=B(E)===P,Hn=this.processSegment($e,Rt,An,$t?Ce:P);return null===Hn?null:[new Or($,Hn)]}}function Co(I){const E=I.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function bu(I){const E=[],v=new Set;for(const S of I){if(!Co(S)){E.push(S);continue}const P=E.find($=>S.value.routeConfig===$.value.routeConfig);void 0!==P?(P.children.push(...S.children),v.add(P)):E.push(S)}for(const S of v){const P=bu(S.children);E.push(new Or(S.value,P))}return E.filter(S=>!v.has(S))}function Ca(I){let E=I;for(;E._sourceSegment;)E=E._sourceSegment;return E}function na(I){let E=I,v=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,v+=E._segmentIndexShift?E._segmentIndexShift:0;return v-1}function ra(I){return I.data||{}}function io(I){return I.resolve||{}}function pl(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function ri(I){return(0,Nt.w)(E=>{const v=I(E);return v?(0,_e.D)(v).pipe((0,Qt.U)(()=>E)):(0,Ge.of)(E)})}class Du extends class Ir{shouldDetach(E){return!1}store(E,v){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,v){return E.routeConfig===v.routeConfig}}{}const ac=new y.OlP("ROUTES");class Au{constructor(E,v,S,P){this.injector=E,this.compiler=v,this.onLoadStartListener=S,this.onLoadEndListener=P}load(E,v){if(v._loader$)return v._loader$;this.onLoadStartListener&&this.onLoadStartListener(v);const P=this.loadModuleFactory(v.loadChildren).pipe((0,Qt.U)($=>{this.onLoadEndListener&&this.onLoadEndListener(v);const J=$.create(E);return new Ko(pn(J.injector.get(ac,void 0,y.XFs.Self|y.XFs.Optional)).map(O),J)}),Pe($=>{throw v._loader$=void 0,$}));return v._loader$=new xe(P,()=>new p.x).pipe(ge()),v._loader$}loadModuleFactory(E){return wt(E()).pipe((0,fe.z)(v=>v instanceof y.YKP?(0,Ge.of)(v):(0,_e.D)(this.compiler.compileModuleAsync(v))))}}class Za{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,v){return E}}function $s(I){throw I}function so(I,E,v){return E.parse("/")}function To(I,E){return(0,Ge.of)(null)}const Wr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jr=(()=>{class I{constructor(v,S,P,$,J,se,$e){this.rootComponentType=v,this.urlSerializer=S,this.rootContexts=P,this.location=$,this.config=$e,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new p.x,this.errorHandler=$s,this.malformedUriErrorHandler=so,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:To,afterPreactivation:To},this.urlHandlingStrategy=new Za,this.routeReuseStrategy=new Du,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=J.get(y.h0i),this.console=J.get(y.c2e);const $t=J.get(y.R0b);this.isNgZoneEnabled=$t instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig($e),this.currentUrlTree=function Ht(){return new q(new H([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Au(J,se,Hn=>this.triggerEvent(new yn(Hn)),Hn=>this.triggerEvent(new xn(Hn))),this.routerState=Gn(this.currentUrlTree,this.rootComponentType),this.transitions=new V({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const S=this.events;return v.pipe((0,Re.h)(P=>0!==P.id),(0,Qt.U)(P=>Object.assign(Object.assign({},P),{extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Nt.w)(P=>{let $=!1,J=!1;return(0,Ge.of)(P).pipe((0,be.b)(se=>{this.currentNavigation={id:se.id,initialUrl:se.currentRawUrl,extractedUrl:se.extractedUrl,trigger:se.source,extras:se.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Nt.w)(se=>{const $e=this.browserUrlTree.toString(),Rt=!this.navigated||se.extractedUrl.toString()!==$e||$e!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Rt)&&this.urlHandlingStrategy.shouldProcessUrl(se.rawUrl))return Ki(se.source)&&(this.browserUrlTree=se.extractedUrl),(0,Ge.of)(se).pipe((0,Nt.w)($t=>{const Hn=this.transitions.getValue();return S.next(new kn($t.id,this.serializeUrl($t.extractedUrl),$t.source,$t.restoredState)),Hn!==this.transitions.getValue()?me.E:Promise.resolve($t)}),function oc(I,E,v,S){return(0,Nt.w)(P=>function _u(I,E,v,S,P){return new no(I,E,v,S,P).apply()}(I,E,v,P.extractedUrl,S).pipe((0,Qt.U)($=>Object.assign(Object.assign({},P),{urlAfterRedirects:$}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,be.b)($t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:$t.urlAfterRedirects})}),function Cu(I,E,v,S,P){return(0,fe.z)($=>function ta(I,E,v,S,P="emptyOnly",$="legacy"){try{const J=new dl(I,E,v,S,P,$).recognize();return null===J?cl(new Oi):(0,Ge.of)(J)}catch(J){return cl(J)}}(I,E,$.urlAfterRedirects,v($.urlAfterRedirects),S,P).pipe((0,Qt.U)(J=>Object.assign(Object.assign({},$),{targetSnapshot:J}))))}(this.rootComponentType,this.config,$t=>this.serializeUrl($t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,be.b)($t=>{if("eager"===this.urlUpdateStrategy){if(!$t.extras.skipLocationChange){const Pn=this.urlHandlingStrategy.merge($t.urlAfterRedirects,$t.rawUrl);this.setBrowserUrl(Pn,$t)}this.browserUrlTree=$t.urlAfterRedirects}const Hn=new Wn($t.id,this.serializeUrl($t.extractedUrl),this.serializeUrl($t.urlAfterRedirects),$t.targetSnapshot);S.next(Hn)}));if(Rt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Hn,extractedUrl:Pn,source:hr,restoredState:Ni,extras:uo}=se,Yi=new kn(Hn,this.serializeUrl(Pn),hr,Ni);S.next(Yi);const ki=Gn(Pn,this.rootComponentType).snapshot;return(0,Ge.of)(Object.assign(Object.assign({},se),{targetSnapshot:ki,urlAfterRedirects:Pn,extras:Object.assign(Object.assign({},uo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=se.rawUrl,se.resolve(null),me.E}),ri(se=>{const{targetSnapshot:$e,id:Rt,extractedUrl:An,rawUrl:$t,extras:{skipLocationChange:Hn,replaceUrl:Pn}}=se;return this.hooks.beforePreactivation($e,{navigationId:Rt,appliedUrlTree:An,rawUrlTree:$t,skipLocationChange:!!Hn,replaceUrl:!!Pn})}),(0,be.b)(se=>{const $e=new Mr(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot);this.triggerEvent($e)}),(0,Qt.U)(se=>Object.assign(Object.assign({},se),{guards:Bt(se.targetSnapshot,se.currentSnapshot,this.rootContexts)})),function ld(I,E){return(0,fe.z)(v=>{const{targetSnapshot:S,currentSnapshot:P,guards:{canActivateChecks:$,canDeactivateChecks:J}}=v;return 0===J.length&&0===$.length?(0,Ge.of)(Object.assign(Object.assign({},v),{guardsResult:!0})):function ll(I,E,v,S){return(0,_e.D)(I).pipe((0,fe.z)(P=>function ea(I,E,v,S,P){const $=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,Ge.of)(!0);const J=$.map(se=>{const $e=Jn(se,E,P);let Rt;if(function ur(I){return I&&vi(I.canDeactivate)}($e))Rt=wt($e.canDeactivate(I,E,v,S));else{if(!vi($e))throw new Error("Invalid CanDeactivate guard");Rt=wt($e(I,E,v,S))}return Rt.pipe((0,tt.P)())});return(0,Ge.of)(J).pipe(va())}(P.component,P.route,v,E,S)),(0,tt.P)(P=>!0!==P,!0))}(J,S,P,I).pipe((0,fe.z)(se=>se&&function za(I){return"boolean"==typeof I}(se)?function Jo(I,E,v,S){return(0,_e.D)(E).pipe((0,ut.b)(P=>(0,ot.z)(function zr(I,E){return null!==I&&E&&E(new Vr(I)),(0,Ge.of)(!0)}(P.route.parent,S),function Xo(I,E){return null!==I&&E&&E(new oe(I)),(0,Ge.of)(!0)}(P.route,S),function wa(I,E,v){const S=E[E.length-1],$=E.slice(0,E.length-1).reverse().map(J=>function Rn(I){const E=I.routeConfig?I.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:I,guards:E}:null}(J)).filter(J=>null!==J).map(J=>It(()=>{const se=J.guards.map($e=>{const Rt=Jn($e,J.node,v);let An;if(function Eo(I){return I&&vi(I.canActivateChild)}(Rt))An=wt(Rt.canActivateChild(S,I));else{if(!vi(Rt))throw new Error("Invalid CanActivateChild guard");An=wt(Rt(S,I))}return An.pipe((0,tt.P)())});return(0,Ge.of)(se).pipe(va())}));return(0,Ge.of)($).pipe(va())}(I,P.path,v),function Cs(I,E,v){const S=E.routeConfig?E.routeConfig.canActivate:null;if(!S||0===S.length)return(0,Ge.of)(!0);const P=S.map($=>It(()=>{const J=Jn($,E,v);let se;if(function Yo(I){return I&&vi(I.canActivate)}(J))se=wt(J.canActivate(E,I));else{if(!vi(J))throw new Error("Invalid CanActivate guard");se=wt(J(E,I))}return se.pipe((0,tt.P)())}));return(0,Ge.of)(P).pipe(va())}(I,P.route,v))),(0,tt.P)(P=>!0!==P,!0))}(S,$,I,E):(0,Ge.of)(se)),(0,Qt.U)(se=>Object.assign(Object.assign({},v),{guardsResult:se})))})}(this.ngModule.injector,se=>this.triggerEvent(se)),(0,be.b)(se=>{if(Pr(se.guardsResult)){const Rt=an(`Redirecting to "${this.serializeUrl(se.guardsResult)}"`);throw Rt.url=se.guardsResult,Rt}const $e=new Vt(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot,!!se.guardsResult);this.triggerEvent($e)}),(0,Re.h)(se=>!!se.guardsResult||(this.restoreHistory(se),this.cancelNavigationTransition(se,""),!1)),ri(se=>{if(se.guards.canActivateChecks.length)return(0,Ge.of)(se).pipe((0,be.b)($e=>{const Rt=new fr($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot);this.triggerEvent(Rt)}),(0,Nt.w)($e=>{let Rt=!1;return(0,Ge.of)($e).pipe(function fl(I,E){return(0,fe.z)(v=>{const{targetSnapshot:S,guards:{canActivateChecks:P}}=v;if(!P.length)return(0,Ge.of)(v);let $=0;return(0,_e.D)(P).pipe((0,ut.b)(J=>function Tu(I,E,v,S){return function ia(I,E,v,S){const P=pl(I);if(0===P.length)return(0,Ge.of)({});const $={};return(0,_e.D)(P).pipe((0,fe.z)(J=>function Iu(I,E,v,S){const P=Jn(I,E,S);return wt(P.resolve?P.resolve(E,v):P(E,v))}(I[J],E,v,S).pipe((0,be.b)(se=>{$[J]=se}))),Be(1),(0,fe.z)(()=>pl($).length===P.length?(0,Ge.of)($):me.E))}(I._resolve,I,E,S).pipe((0,Qt.U)($=>(I._resolvedData=$,I.data=Object.assign(Object.assign({},I.data),Tr(I,v).resolve),null)))}(J.route,S,I,E)),(0,be.b)(()=>$++),Be(1),(0,fe.z)(J=>$===P.length?(0,Ge.of)(v):me.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,be.b)({next:()=>Rt=!0,complete:()=>{Rt||(this.restoreHistory($e),this.cancelNavigationTransition($e,"At least one route resolver didn't emit any value."))}}))}),(0,be.b)($e=>{const Rt=new $n($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot);this.triggerEvent(Rt)}))}),ri(se=>{const{targetSnapshot:$e,id:Rt,extractedUrl:An,rawUrl:$t,extras:{skipLocationChange:Hn,replaceUrl:Pn}}=se;return this.hooks.afterPreactivation($e,{navigationId:Rt,appliedUrlTree:An,rawUrlTree:$t,skipLocationChange:!!Hn,replaceUrl:!!Pn})}),(0,Qt.U)(se=>{const $e=function rs(I,E,v){const S=Rr(I,E._root,v?v._root:void 0);return new Br(S,E)}(this.routeReuseStrategy,se.targetSnapshot,se.currentRouterState);return Object.assign(Object.assign({},se),{targetRouterState:$e})}),(0,be.b)(se=>{this.currentUrlTree=se.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(se.urlAfterRedirects,se.rawUrl),this.routerState=se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,se),this.browserUrlTree=se.urlAfterRedirects)}),((I,E,v)=>(0,Qt.U)(S=>(new Bs(E,S.targetRouterState,S.currentRouterState,v).activate(I),S)))(this.rootContexts,this.routeReuseStrategy,se=>this.triggerEvent(se)),(0,be.b)({next(){$=!0},complete(){$=!0}}),function vn(I){return(0,Ne.e)((E,v)=>{try{E.subscribe(v)}finally{v.add(I)}})}(()=>{var se;$||J||this.cancelNavigationTransition(P,`Navigation ID ${P.id} is not equal to the current navigation id ${this.navigationId}`),(null===(se=this.currentNavigation)||void 0===se?void 0:se.id)===P.id&&(this.currentNavigation=null)}),Pe(se=>{if(J=!0,function Zt(I){return I&&I[In]}(se)){const $e=Pr(se.url);$e||(this.navigated=!0,this.restoreHistory(P,!0));const Rt=new cr(P.id,this.serializeUrl(P.extractedUrl),se.message);S.next(Rt),$e?setTimeout(()=>{const An=this.urlHandlingStrategy.merge(se.url,this.rawUrlTree),$t={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ki(P.source)};this.scheduleNavigation(An,"imperative",null,$t,{resolve:P.resolve,reject:P.reject,promise:P.promise})},0):P.resolve(!1)}else{this.restoreHistory(P,!0);const $e=new zn(P.id,this.serializeUrl(P.extractedUrl),se);S.next($e);try{P.resolve(this.errorHandler(se))}catch(Rt){P.reject(Rt)}}return me.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const S="popstate"===v.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{var P;const $={replaceUrl:!0},J=(null===(P=v.state)||void 0===P?void 0:P.navigationId)?v.state:null;if(J){const $e=Object.assign({},J);delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&($.state=$e)}const se=this.parseUrl(v.url);this.scheduleNavigation(se,S,J,$)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){ti(v),this.config=v.map(O),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,S={}){const{relativeTo:P,queryParams:$,fragment:J,queryParamsHandling:se,preserveFragment:$e}=S,Rt=P||this.routerState.root,An=$e?this.currentUrlTree.fragment:J;let $t=null;switch(se){case"merge":$t=Object.assign(Object.assign({},this.currentUrlTree.queryParams),$);break;case"preserve":$t=this.currentUrlTree.queryParams;break;default:$t=$||null}return null!==$t&&($t=this.removeEmptyProps($t)),function ol(I,E,v,S,P){if(0===v.length)return Vs(E.root,E.root,E.root,S,P);const $=function al(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Wo(!0,0,I);let E=0,v=!1;const S=I.reduce((P,$,J)=>{if("object"==typeof $&&null!=$){if($.outlets){const se={};return Le($.outlets,($e,Rt)=>{se[Rt]="string"==typeof $e?$e.split("/"):$e}),[...P,{outlets:se}]}if($.segmentPath)return[...P,$.segmentPath]}return"string"!=typeof $?[...P,$]:0===J?($.split("/").forEach((se,$e)=>{0==$e&&"."===se||(0==$e&&""===se?v=!0:".."===se?E++:""!=se&&P.push(se))}),P):[...P,$]},[]);return new Wo(v,E,S)}(v);if($.toRoot())return Vs(E.root,E.root,new H([],{}),S,P);const J=function Ga(I,E,v){if(I.isAbsolute)return new ya(E.root,!0,0);if(-1===v.snapshot._lastPathIndex){const $=v.snapshot._urlSegment;return new ya($,$===E.root,0)}const S=_o(I.commands[0])?0:1;return function Us(I,E,v){let S=I,P=E,$=v;for(;$>P;){if($-=P,S=S.parent,!S)throw new Error("Invalid number of '../'");P=S.segments.length}return new ya(S,!1,P-$)}(v.snapshot._urlSegment,v.snapshot._lastPathIndex+S,I.numberOfDoubleDots)}($,E,I),se=J.processChildren?_i(J.segmentGroup,J.index,$.commands):ul(J.segmentGroup,J.index,$.commands);return Vs(E.root,J.segmentGroup,se,S,P)}(Rt,this.currentUrlTree,v,$t,null!=An?An:null)}navigateByUrl(v,S={skipLocationChange:!1}){const P=Pr(v)?v:this.parseUrl(v),$=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation($,"imperative",null,S)}navigate(v,S={skipLocationChange:!1}){return function Ka(I){for(let E=0;E<I.length;E++){const v=I[E];if(null==v)throw new Error(`The requested path contains ${v} segment at index ${E}`)}}(v),this.navigateByUrl(this.createUrlTree(v,S),S)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let S;try{S=this.urlSerializer.parse(v)}catch(P){S=this.malformedUriErrorHandler(P,this.urlSerializer,v)}return S}isActive(v,S){let P;if(P=!0===S?Object.assign({},Wr):!1===S?Object.assign({},Dr):S,Pr(v))return ae(this.currentUrlTree,v,P);const $=this.parseUrl(v);return ae(this.currentUrlTree,$,P)}removeEmptyProps(v){return Object.keys(v).reduce((S,P)=>{const $=v[P];return null!=$&&(S[P]=$),S},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new tr(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,S,P,$,J){var se,$e;if(this.disposed)return Promise.resolve(!1);let Rt,An,$t;J?(Rt=J.resolve,An=J.reject,$t=J.promise):$t=new Promise((hr,Ni)=>{Rt=hr,An=Ni});const Hn=++this.navigationId;let Pn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),Pn=P&&P.\u0275routerPageId?P.\u0275routerPageId:$.replaceUrl||$.skipLocationChange?null!==(se=this.browserPageId)&&void 0!==se?se:0:(null!==($e=this.browserPageId)&&void 0!==$e?$e:0)+1):Pn=0,this.setTransition({id:Hn,targetPageId:Pn,source:S,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:$,resolve:Rt,reject:An,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(hr=>Promise.reject(hr))}setBrowserUrl(v,S){const P=this.urlSerializer.serialize(v),$=Object.assign(Object.assign({},S.extras.state),this.generateNgRouterState(S.id,S.targetPageId));this.location.isCurrentPathEqualTo(P)||S.extras.replaceUrl?this.location.replaceState(P,"",$):this.location.go(P,"",$)}restoreHistory(v,S=!1){var P,$;if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(P=this.currentNavigation)||void 0===P?void 0:P.finalUrl)||0===J?this.currentUrlTree===(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)&&0===J&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(J)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,S){const P=new cr(v.id,this.serializeUrl(v.extractedUrl),S);this.triggerEvent(P),v.resolve(!1)}generateNgRouterState(v,S){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:S}:{navigationId:v}}}return I.\u0275fac=function(v){y.$Z()},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac}),I})();function Ki(I){return"imperative"!==I}let oo=(()=>{class I{constructor(v,S,P){this.router=v,this.route=S,this.locationStrategy=P,this.commands=null,this.href=null,this.onChanges=new p.x,this.subscription=v.events.subscribe($=>{$ instanceof tr&&this.updateTargetUrlAndHref()})}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,S,P,$,J){if(0!==v||S||P||$||J||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const se={skipLocationChange:Io(this.skipLocationChange),replaceUrl:Io(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,se),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Io(this.preserveFragment)})}}return I.\u0275fac=function(v){return new(v||I)(y.Y36(jr),y.Y36(Fs),y.Y36(Lt.S$))},I.\u0275dir=y.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,S){1&v&&y.NdJ("click",function($){return S.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&v&&y.uIk("target",S.target)("href",S.href,y.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[y.TTD]}),I})();function Io(I){return""===I||!!I}class Su{}class Mu{preload(E,v){return(0,Ge.of)(null)}}let Pi=(()=>{class I{constructor(v,S,P,$){this.router=v,this.injector=P,this.preloadingStrategy=$,this.loader=new Au(P,S,$e=>v.triggerEvent(new yn($e)),$e=>v.triggerEvent(new xn($e)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Re.h)(v=>v instanceof tr),(0,ut.b)(()=>this.preload())).subscribe(()=>{})}preload(){const v=this.injector.get(y.h0i);return this.processRoutes(v,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,S){const P=[];for(const $ of S)if($.loadChildren&&!$.canLoad&&$._loadedConfig){const J=$._loadedConfig;P.push(this.processRoutes(J.module,J.routes))}else $.loadChildren&&!$.canLoad?P.push(this.preloadConfig(v,$)):$.children&&P.push(this.processRoutes(v,$.children));return(0,_e.D)(P).pipe((0,_t.J)(),(0,Qt.U)($=>{}))}preloadConfig(v,S){return this.preloadingStrategy.preload(S,()=>(S._loadedConfig?(0,Ge.of)(S._loadedConfig):this.loader.load(v.injector,S)).pipe((0,fe.z)($=>(S._loadedConfig=$,this.processRoutes($.module,$.routes)))))}}return I.\u0275fac=function(v){return new(v||I)(y.LFG(jr),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(Su))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac}),I})(),Do=(()=>{class I{constructor(v,S,P={}){this.router=v,this.viewportScroller=S,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof kn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof tr&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof dt&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,S){this.router.triggerEvent(new dt(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(v){y.$Z()},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac}),I})();const os=new y.OlP("ROUTER_CONFIGURATION"),Is=new y.OlP("ROUTER_FORROOT_GUARD"),xu=[Lt.Ye,{provide:En,useClass:jn},{provide:jr,useFactory:function ml(I,E,v,S,P,$,J={},se,$e){const Rt=new jr(null,I,E,v,S,P,pn($));return se&&(Rt.urlHandlingStrategy=se),$e&&(Rt.routeReuseStrategy=$e),function zs(I,E){I.errorHandler&&(E.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(E.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(E.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(E.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(E.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(E.canceledNavigationResolution=I.canceledNavigationResolution)}(J,Rt),J.enableTracing&&Rt.events.subscribe(An=>{var $t,Hn;null===($t=console.group)||void 0===$t||$t.call(console,`Router Event: ${An.constructor.name}`),console.log(An.toString()),console.log(An),null===(Hn=console.groupEnd)||void 0===Hn||Hn.call(console)}),Rt},deps:[En,js,Lt.Ye,y.zs3,y.Sil,ac,os,[class Ts{},new y.FiY],[class sa{},new y.FiY]]},js,{provide:Fs,useFactory:function Qa(I){return I.routerState.root},deps:[jr]},Pi,Mu,class cd{preload(E,v){return v().pipe(Pe(()=>(0,Ge.of)(null)))}},{provide:os,useValue:{enableTracing:!1}}];function Ar(){return new y.PXZ("Router",jr)}let Ds=(()=>{class I{constructor(v,S){}static forRoot(v,S){return{ngModule:I,providers:[xu,ao(v),{provide:Is,useFactory:qs,deps:[[jr,new y.FiY,new y.tp0]]},{provide:os,useValue:S||{}},{provide:Lt.S$,useFactory:as,deps:[Lt.lw,[new y.tBr(Lt.mr),new y.FiY],os]},{provide:Do,useFactory:oa,deps:[jr,Lt.EM,os]},{provide:Su,useExisting:S&&S.preloadingStrategy?S.preloadingStrategy:Mu},{provide:y.PXZ,multi:!0,useFactory:Ar},[Ws,{provide:y.ip1,multi:!0,useFactory:Ja,deps:[Ws]},{provide:As,useFactory:Ei,deps:[Ws]},{provide:y.tb,multi:!0,useExisting:As}]]}}static forChild(v){return{ngModule:I,providers:[ao(v)]}}}return I.\u0275fac=function(v){return new(v||I)(y.LFG(Is,8),y.LFG(jr,8))},I.\u0275mod=y.oAB({type:I}),I.\u0275inj=y.cJS({}),I})();function oa(I,E,v){return v.scrollOffset&&E.setOffset(v.scrollOffset),new Do(I,E,v)}function as(I,E,v={}){return v.useHash?new Lt.Do(I,E):new Lt.b0(I,E)}function qs(I){return"guarded"}function ao(I){return[{provide:y.deG,multi:!0,useValue:I},{provide:ac,multi:!0,useValue:I}]}let Ws=(()=>{class I{constructor(v){this.injector=v,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new p.x}appInitializer(){return this.injector.get(Lt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let S=null;const P=new Promise(se=>S=se),$=this.injector.get(jr),J=this.injector.get(os);return"disabled"===J.initialNavigation?($.setUpLocationChangeListener(),S(!0)):"enabled"===J.initialNavigation||"enabledBlocking"===J.initialNavigation?($.hooks.afterPreactivation=()=>this.initNavigation?(0,Ge.of)(null):(this.initNavigation=!0,S(!0),this.resultOfPreactivationDone),$.initialNavigation()):S(!0),P})}bootstrapListener(v){const S=this.injector.get(os),P=this.injector.get(Pi),$=this.injector.get(Do),J=this.injector.get(jr),se=this.injector.get(y.z2F);v===se.components[0]&&(("enabledNonBlocking"===S.initialNavigation||void 0===S.initialNavigation)&&J.initialNavigation(),P.setUpPreloading(),$.init(),J.resetRootComponentType(se.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(v){return new(v||I)(y.LFG(y.zs3))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac}),I})();function Ja(I){return I.appInitializer.bind(I)}function Ei(I){return I.bootstrapListener.bind(I)}const As=new y.OlP("Router Initializer")},3942:(xt,Ue,k)=>{k.d(Ue,{Z:()=>et});var y=k(2090),p=k(4859),V=k(9681),le=k(1877);class de{constructor(Fe,ze){this._delegate=Fe,this.firebase=ze,(0,V._addComponent)(Fe,new p.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(Fe,ze=V._DEFAULT_ENTRY_NAME){var It;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(Fe);return!yt.isInitialized()&&"EXPLICIT"===(null===(It=yt.getComponent())||void 0===It?void 0:It.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:ze})}_removeServiceInstance(Fe,ze=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(ze)}_addComponent(Fe){(0,V._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,V._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Ae(){const nt=function ve(nt){const Fe={},ze={__esModule:!0,initializeApp:function Ne(ye,ot={}){const me=V.initializeApp(ye,ot);if((0,y.r3)(Fe,me.name))return Fe[me.name];const Pe=new nt(me,ze);return Fe[me.name]=Pe,Pe},app:yt,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function xe(ye){const ot=ye.name,me=ot.replace("-compat","");if(V._registerComponent(ye)&&"PUBLIC"===ye.type){const Pe=(Re=yt())=>{if("function"!=typeof Re[me])throw Ee.create("invalid-app-argument",{appName:ot});return Re[me]()};void 0!==ye.serviceProps&&(0,y.ZB)(Pe,ye.serviceProps),ze[me]=Pe,nt.prototype[me]=function(...Re){return this._getService.bind(this,ot).apply(this,ye.multipleInstances?Re:[])}}return"PUBLIC"===ye.type?ze[me]:null},removeApp:function It(ye){delete Fe[ye]},useAsService:function Ge(ye,ot){return"serverAuth"===ot?null:ot},modularAPIs:V}};function yt(ye){if(!(0,y.r3)(Fe,ye=ye||V._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:ye});return Fe[ye]}return ze.default=ze,Object.defineProperty(ze,"apps",{get:function ge(){return Object.keys(Fe).map(ye=>Fe[ye])}}),yt.App=nt,ze}(de);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Fe(ze){(0,y.ZB)(nt,ze)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),nt}(),ne=new le.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=re;!function Ye(nt){(0,V.registerVersion)("@firebase/app-compat","0.1.21",nt)}()},9681:(xt,Ue,k)=>{k.r(Ue),k.d(Ue,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>tr,_DEFAULT_ENTRY_NAME:()=>Qt,_addComponent:()=>Nn,_addOrOverwriteComponent:()=>ut,_apps:()=>Ft,_clearComponents:()=>_t,_components:()=>Ln,_getProvider:()=>fe,_registerComponent:()=>tt,_removeServiceInstance:()=>be,deleteApp:()=>Mr,getApp:()=>zn,getApps:()=>Wn,initializeApp:()=>cr,onLog:()=>$n,registerVersion:()=>fr,setLogLevel:()=>yn});var y=k(5861),p=k(4859),V=k(1877),le=k(2090);class de{constructor(Le){this.container=Le}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function _e(Ct){const Le=Ct.getComponent();return"VERSION"===(null==Le?void 0:Le.type)}(wt)){const Ht=wt.getImmediate();return`${Ht.library}/${Ht.version}`}return null}).filter(wt=>wt).join(" ")}}const Ee="@firebase/app",Ae=new V.Yd("@firebase/app"),Qt="[DEFAULT]",Nt={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ft=new Map,Ln=new Map;function Nn(Ct,Le){try{Ct.container.addComponent(Le)}catch(wt){Ae.debug(`Component ${Le.name} failed to register with FirebaseApp ${Ct.name}`,wt)}}function ut(Ct,Le){Ct.container.addOrOverwriteComponent(Le)}function tt(Ct){const Le=Ct.name;if(Ln.has(Le))return Ae.debug(`There were multiple attempts to register component ${Le}.`),!1;Ln.set(Le,Ct);for(const wt of Ft.values())Nn(wt,Ct);return!0}function fe(Ct,Le){const wt=Ct.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),Ct.container.getProvider(Le)}function be(Ct,Le,wt=Qt){fe(Ct,Le).clearInstance(wt)}function _t(){Ln.clear()}const Tn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class kn{constructor(Le,wt,Ht){this._isDeleted=!1,this._options=Object.assign({},Le),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=Ht,this.container.addComponent(new p.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this.checkDestroyed(),this._automaticDataCollectionEnabled=Le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Le){this._isDeleted=Le}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const tr="9.6.10";function cr(Ct,Le={}){"object"!=typeof Le&&(Le={name:Le});const wt=Object.assign({name:Qt,automaticDataCollectionEnabled:!1},Le),Ht=wt.name;if("string"!=typeof Ht||!Ht)throw Tn.create("bad-app-name",{appName:String(Ht)});const nn=Ft.get(Ht);if(nn){if((0,le.vZ)(Ct,nn.options)&&(0,le.vZ)(wt,nn.config))return nn;throw Tn.create("duplicate-app",{appName:Ht})}const rn=new p.H0(Ht);for(const X of Ln.values())rn.addComponent(X);const ae=new kn(Ct,wt,rn);return Ft.set(Ht,ae),ae}function zn(Ct=Qt){const Le=Ft.get(Ct);if(!Le)throw Tn.create("no-app",{appName:Ct});return Le}function Wn(){return Array.from(Ft.values())}function Mr(Ct){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,y.Z)(function*(Ct){const Le=Ct.name;Ft.has(Le)&&(Ft.delete(Le),yield Promise.all(Ct.container.getProviders().map(wt=>wt.delete())),Ct.isDeleted=!0)})).apply(this,arguments)}function fr(Ct,Le,wt){var Ht;let nn=null!==(Ht=Nt[Ct])&&void 0!==Ht?Ht:Ct;wt&&(nn+=`-${wt}`);const rn=nn.match(/\s|\//),ae=Le.match(/\s|\//);if(rn||ae){const X=[`Unable to register library "${nn}" with version "${Le}":`];return rn&&X.push(`library name "${nn}" contains illegal characters (whitespace or "/")`),rn&&ae&&X.push("and"),ae&&X.push(`version name "${Le}" contains illegal characters (whitespace or "/")`),void Ae.warn(X.join(" "))}tt(new p.wA(`${nn}-version`,()=>({library:nn,version:Le}),"VERSION"))}function $n(Ct,Le){if(null!==Ct&&"function"!=typeof Ct)throw Tn.create("invalid-log-argument");(0,V.Am)(Ct,Le)}function yn(Ct){(0,V.Ub)(Ct)}const Ze="firebase-heartbeat-store";let oe=null;function he(){return oe||(oe=(0,le.X3)("firebase-heartbeat-database",1,(Ct,Le)=>{0===Le&&Ct.createObjectStore(Ze)}).catch(Ct=>{throw Tn.create("storage-open",{originalErrorMessage:Ct.message})})),oe}function Ce(){return(Ce=(0,y.Z)(function*(Ct){try{return(yield he()).transaction(Ze).objectStore(Ze).get(In(Ct))}catch(Le){throw Tn.create("storage-get",{originalErrorMessage:Le.message})}})).apply(this,arguments)}function lt(Ct,Le){return ft.apply(this,arguments)}function ft(){return(ft=(0,y.Z)(function*(Ct,Le){try{const Ht=(yield he()).transaction(Ze,"readwrite");return yield Ht.objectStore(Ze).put(Le,In(Ct)),Ht.complete}catch(wt){throw Tn.create("storage-set",{originalErrorMessage:wt.message})}})).apply(this,arguments)}function In(Ct){return`${Ct.name}!${Ct.options.appId}`}class wr{constructor(Le){this.container=Le,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new vt(wt),this._heartbeatsCachePromise=this._storage.read().then(Ht=>(this._heartbeatsCache=Ht,Ht))}triggerHeartbeat(){var Le=this;return(0,y.Z)(function*(){const Ht=Le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nn=Zn();if(null===Le._heartbeatsCache&&(Le._heartbeatsCache=yield Le._heartbeatsCachePromise),Le._heartbeatsCache.lastSentHeartbeatDate!==nn&&!Le._heartbeatsCache.heartbeats.some(rn=>rn.date===nn))return Le._heartbeatsCache.heartbeats.push({date:nn,agent:Ht}),Le._heartbeatsCache.heartbeats=Le._heartbeatsCache.heartbeats.filter(rn=>{const ae=new Date(rn.date).valueOf();return Date.now()-ae<=2592e6}),Le._storage.overwrite(Le._heartbeatsCache)})()}getHeartbeatsHeader(){var Le=this;return(0,y.Z)(function*(){if(null===Le._heartbeatsCache&&(yield Le._heartbeatsCachePromise),null===Le._heartbeatsCache||0===Le._heartbeatsCache.heartbeats.length)return"";const wt=Zn(),{heartbeatsToSend:Ht,unsentEntries:nn}=function en(Ct,Le=1024){const wt=[];let Ht=Ct.slice();for(const nn of Ct){const rn=wt.find(ae=>ae.agent===nn.agent);if(rn){if(rn.dates.push(nn.date),pn(wt)>Le){rn.dates.pop();break}}else if(wt.push({agent:nn.agent,dates:[nn.date]}),pn(wt)>Le){wt.pop();break}Ht=Ht.slice(1)}return{heartbeatsToSend:wt,unsentEntries:Ht}}(Le._heartbeatsCache.heartbeats),rn=(0,le.L)(JSON.stringify({version:2,heartbeats:Ht}));return Le._heartbeatsCache.lastSentHeartbeatDate=wt,nn.length>0?(Le._heartbeatsCache.heartbeats=nn,yield Le._storage.overwrite(Le._heartbeatsCache)):(Le._heartbeatsCache.heartbeats=[],Le._storage.overwrite(Le._heartbeatsCache)),rn})()}}function Zn(){return(new Date).toISOString().substring(0,10)}class vt{constructor(Le){this.app=Le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Le=this;return(0,y.Z)(function*(){return(yield Le._canUseIndexedDBPromise)&&(yield function dt(Ct){return Ce.apply(this,arguments)}(Le.app))||{heartbeats:[]}})()}overwrite(Le){var wt=this;return(0,y.Z)(function*(){var Ht;if(yield wt._canUseIndexedDBPromise){const rn=yield wt.read();return lt(wt.app,{lastSentHeartbeatDate:null!==(Ht=Le.lastSentHeartbeatDate)&&void 0!==Ht?Ht:rn.lastSentHeartbeatDate,heartbeats:Le.heartbeats})}})()}add(Le){var wt=this;return(0,y.Z)(function*(){var Ht;if(yield wt._canUseIndexedDBPromise){const rn=yield wt.read();return lt(wt.app,{lastSentHeartbeatDate:null!==(Ht=Le.lastSentHeartbeatDate)&&void 0!==Ht?Ht:rn.lastSentHeartbeatDate,heartbeats:[...rn.heartbeats,...Le.heartbeats]})}})()}}function pn(Ct){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ct})).length}!function un(Ct){tt(new p.wA("platform-logger",Le=>new de(Le),"PRIVATE")),tt(new p.wA("heartbeat",Le=>new wr(Le),"PRIVATE")),fr(Ee,"0.7.20",Ct),fr(Ee,"0.7.20","esm2017"),fr("fire-js","")}("")},4859:(xt,Ue,k)=>{k.d(Ue,{H0:()=>ve,wA:()=>V});var y=k(5861),p=k(2090);class V{constructor(re,ne,we){this.name=re,this.instanceFactory=ne,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const le="[DEFAULT]";class de{constructor(re,ne){this.name=re,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ne=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ne)){const we=new p.BH;if(this.instancesDeferred.set(ne,we),this.isInitialized(ne)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:ne});at&&we.resolve(at)}catch(at){}}return this.instancesDeferred.get(ne).promise}getImmediate(re){var ne;const we=this.normalizeInstanceIdentifier(null==re?void 0:re.identifier),at=null!==(ne=null==re?void 0:re.optional)&&void 0!==ne&&ne;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(Ye){if(at)return null;throw Ye}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ee(Ae){return"EAGER"===Ae.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:le})}catch(ne){}for(const[ne,we]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(ne);try{const Ye=this.getOrInitializeService({instanceIdentifier:at});we.resolve(Ye)}catch(Ye){}}}}clearInstance(re=le){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,y.Z)(function*(){const ne=Array.from(re.instances.values());yield Promise.all([...ne.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...ne.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=le){return this.instances.has(re)}getOptions(re=le){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ne={}}=re,we=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:we,options:ne});for(const[Ye,et]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(Ye)&&et.resolve(at);return at}onInit(re,ne){var we;const at=this.normalizeInstanceIdentifier(ne),Ye=null!==(we=this.onInitCallbacks.get(at))&&void 0!==we?we:new Set;Ye.add(re),this.onInitCallbacks.set(at,Ye);const et=this.instances.get(at);return et&&re(et,at),()=>{Ye.delete(re)}}invokeOnInitCallbacks(re,ne){const we=this.onInitCallbacks.get(ne);if(we)for(const at of we)try{at(re,ne)}catch(Ye){}}getOrInitializeService({instanceIdentifier:re,options:ne={}}){let we=this.instances.get(re);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=re,Ae===le?void 0:Ae),options:ne}),this.instances.set(re,we),this.instancesOptions.set(re,ne),this.invokeOnInitCallbacks(we,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,we)}catch(at){}var Ae;return we||null}normalizeInstanceIdentifier(re=le){return this.component?this.component.multipleInstances?re:le:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ne=this.getProvider(re.name);if(ne.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ne.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ne=new de(re,this);return this.providers.set(re,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Ue,k)=>{k.d(Ue,{Am:()=>Ae,Ub:()=>ve,Yd:()=>Ee,in:()=>p});const y=[];var p=(()=>{return(re=p||(p={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",p;var re})();const V={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},le=p.INFO,de={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},_e=(re,ne,...we)=>{if(ne<re.logLevel)return;const at=(new Date).toISOString(),Ye=de[ne];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Ye](`[${at}]  ${re.name}:`,...we)};class Ee{constructor(ne){this.name=ne,this._logLevel=le,this._logHandler=_e,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in p))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?V[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...ne),this._logHandler(this,p.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...ne),this._logHandler(this,p.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,p.INFO,...ne),this._logHandler(this,p.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,p.WARN,...ne),this._logHandler(this,p.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...ne),this._logHandler(this,p.ERROR,...ne)}}function ve(re){y.forEach(ne=>{ne.setLogLevel(re)})}function Ae(re,ne){for(const we of y){let at=null;ne&&ne.level&&(at=V[ne.level]),we.userLogHandler=null===re?null:(Ye,et,...nt)=>{const Fe=nt.map(ze=>{if(null==ze)return null;if("string"==typeof ze)return ze;if("number"==typeof ze||"boolean"==typeof ze)return ze.toString();if(ze instanceof Error)return ze.message;try{return JSON.stringify(ze)}catch(It){return null}}).filter(ze=>ze).join(" ");et>=(null!=at?at:Ye.logLevel)&&re({level:p[et].toLowerCase(),message:Fe,args:nt,type:Ye.name})}}}},2290:(xt,Ue,k)=>{k.d(Ue,{Rh:()=>Qt,_W:()=>Oe});var y=k(5e3),p=k(1777),V=k(7579),le=k(9808),de=k(2313);const _e=["toast-component",""];function Ee(ut,tt){if(1&ut){const fe=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){return y.CHM(fe),y.oxw().remove()}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA()()}}function ve(ut,tt){if(1&ut&&(y.ynx(0),y._uU(1),y.BQk()),2&ut){const fe=y.oxw(2);y.xp6(1),y.hij("[",fe.duplicatesCount+1,"]")}}function Ae(ut,tt){if(1&ut&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,ve,2,1,"ng-container",4),y.qZA()),2&ut){const fe=y.oxw();y.Tol(fe.options.titleClass),y.uIk("aria-label",fe.title),y.xp6(1),y.hij(" ",fe.title," "),y.xp6(1),y.Q6J("ngIf",fe.duplicatesCount)}}function re(ut,tt){if(1&ut&&y._UZ(0,"div",7),2&ut){const fe=y.oxw();y.Tol(fe.options.messageClass),y.Q6J("innerHTML",fe.message,y.oJD)}}function ne(ut,tt){if(1&ut&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&ut){const fe=y.oxw();y.Tol(fe.options.messageClass),y.uIk("aria-label",fe.message),y.xp6(1),y.hij(" ",fe.message," ")}}function we(ut,tt){if(1&ut&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&ut){const fe=y.oxw();y.xp6(1),y.Udp("width",fe.width+"%")}}function at(ut,tt){if(1&ut){const fe=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){return y.CHM(fe),y.oxw().remove()}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA()()}}function Ye(ut,tt){if(1&ut&&(y.ynx(0),y._uU(1),y.BQk()),2&ut){const fe=y.oxw(2);y.xp6(1),y.hij("[",fe.duplicatesCount+1,"]")}}function et(ut,tt){if(1&ut&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,Ye,2,1,"ng-container",4),y.qZA()),2&ut){const fe=y.oxw();y.Tol(fe.options.titleClass),y.uIk("aria-label",fe.title),y.xp6(1),y.hij(" ",fe.title," "),y.xp6(1),y.Q6J("ngIf",fe.duplicatesCount)}}function nt(ut,tt){if(1&ut&&y._UZ(0,"div",7),2&ut){const fe=y.oxw();y.Tol(fe.options.messageClass),y.Q6J("innerHTML",fe.message,y.oJD)}}function Fe(ut,tt){if(1&ut&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&ut){const fe=y.oxw();y.Tol(fe.options.messageClass),y.uIk("aria-label",fe.message),y.xp6(1),y.hij(" ",fe.message," ")}}function ze(ut,tt){if(1&ut&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&ut){const fe=y.oxw();y.xp6(1),y.Udp("width",fe.width+"%")}}class Ne{constructor(tt,fe){this.component=tt,this.injector=fe}attach(tt,fe){return this._attachedHost=tt,tt.attach(this,fe)}detach(){const tt=this._attachedHost;if(tt)return this._attachedHost=void 0,tt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(tt){this._attachedHost=tt}}class xe{constructor(tt,fe,be,_t,Lt,Tn){this.toastId=tt,this.config=fe,this.message=be,this.title=_t,this.toastType=Lt,this.toastRef=Tn,this._onTap=new V.x,this._onAction=new V.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(tt){this._onAction.next(tt)}onAction(){return this._onAction.asObservable()}}const Ge={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},ye=new y.OlP("ToastConfig");class ot{constructor(tt){this._overlayRef=tt,this.duplicatesCount=0,this._afterClosed=new V.x,this._activate=new V.x,this._manualClose=new V.x,this._resetTimeout=new V.x,this._countDuplicate=new V.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(tt,fe){tt&&this._resetTimeout.next(),fe&&this._countDuplicate.next(++this.duplicatesCount)}}class me{constructor(tt,fe){this._toastPackage=tt,this._parentInjector=fe}get(tt,fe,be){return tt===xe?this._toastPackage:this._parentInjector.get(tt,fe,be)}}class Pe extends class ge{attach(tt,fe){return this._attachedPortal=tt,this.attachComponentPortal(tt,fe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(tt){this._disposeFn=tt}}{constructor(tt,fe,be){super(),this._hostDomElement=tt,this._componentFactoryResolver=fe,this._appRef=be}attachComponentPortal(tt,fe){const be=this._componentFactoryResolver.resolveComponentFactory(tt.component);let _t;return _t=be.create(tt.injector),this._appRef.attachView(_t.hostView),this.setDisposeFn(()=>{this._appRef.detachView(_t.hostView),_t.destroy()}),fe?this._hostDomElement.insertBefore(this._getComponentRootNode(_t),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(_t)),_t}_getComponentRootNode(tt){return tt.hostView.rootNodes[0]}}class Re{constructor(tt){this._portalHost=tt}attach(tt,fe=!0){return this._portalHost.attach(tt,fe)}detach(){return this._portalHost.detach()}}let Be=(()=>{class ut{constructor(fe){this._document=fe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const fe=this._document.createElement("div");fe.classList.add("overlay-container"),this._document.body.appendChild(fe),this._containerElement=fe}}return ut.\u0275fac=function(fe){return new(fe||ut)(y.LFG(le.K0))},ut.\u0275prov=y.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),ct=(()=>{class ut{constructor(fe,be,_t,Lt){this._overlayContainer=fe,this._componentFactoryResolver=be,this._appRef=_t,this._document=Lt,this._paneElements=new Map}create(fe,be){return this._createOverlayRef(this.getPaneElement(fe,be))}getPaneElement(fe="",be){return this._paneElements.get(be)||this._paneElements.set(be,{}),this._paneElements.get(be)[fe]||(this._paneElements.get(be)[fe]=this._createPaneElement(fe,be)),this._paneElements.get(be)[fe]}_createPaneElement(fe,be){const _t=this._document.createElement("div");return _t.id="toast-container",_t.classList.add(fe),_t.classList.add("toast-container"),be?be.getContainerElement().appendChild(_t):this._overlayContainer.getContainerElement().appendChild(_t),_t}_createPortalHost(fe){return new Pe(fe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(fe){return new Re(this._createPortalHost(fe))}}return ut.\u0275fac=function(fe){return new(fe||ut)(y.LFG(Be),y.LFG(y._Vd),y.LFG(y.z2F),y.LFG(le.K0))},ut.\u0275prov=y.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),Oe=(()=>{class ut{constructor(fe,be,_t,Lt,Tn){this.overlay=be,this._injector=_t,this.sanitizer=Lt,this.ngZone=Tn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},fe.default),fe.config),fe.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},fe.default.iconClasses),fe.config.iconClasses))}show(fe,be,_t={},Lt=""){return this._preBuildNotification(Lt,fe,be,this.applyConfig(_t))}success(fe,be,_t={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",fe,be,this.applyConfig(_t))}error(fe,be,_t={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",fe,be,this.applyConfig(_t))}info(fe,be,_t={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",fe,be,this.applyConfig(_t))}warning(fe,be,_t={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",fe,be,this.applyConfig(_t))}clear(fe){for(const be of this.toasts)if(void 0!==fe){if(be.toastId===fe)return void be.toastRef.manualClose()}else be.toastRef.manualClose()}remove(fe){const be=this._findToast(fe);if(!be||(be.activeToast.toastRef.close(),this.toasts.splice(be.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const _t=this.toasts[this.currentlyActive].toastRef;_t.isInactive()||(this.currentlyActive=this.currentlyActive+1,_t.activate())}return!0}findDuplicate(fe="",be="",_t,Lt){const{includeTitleDuplicates:Tn}=this.toastrConfig;for(const kn of this.toasts){const tr=Tn&&kn.title===fe;if((!Tn||tr)&&kn.message===be)return kn.toastRef.onDuplicate(_t,Lt),kn}return null}applyConfig(fe={}){return Object.assign(Object.assign({},this.toastrConfig),fe)}_findToast(fe){for(let be=0;be<this.toasts.length;be++)if(this.toasts[be].toastId===fe)return{index:be,activeToast:this.toasts[be]};return null}_preBuildNotification(fe,be,_t,Lt){return Lt.onActivateTick?this.ngZone.run(()=>this._buildNotification(fe,be,_t,Lt)):this._buildNotification(fe,be,_t,Lt)}_buildNotification(fe,be,_t,Lt){if(!Lt.toastComponent)throw new Error("toastComponent required");const Tn=this.findDuplicate(_t,be,this.toastrConfig.resetTimeoutOnDuplicate&&Lt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&_t||be)&&this.toastrConfig.preventDuplicates&&null!==Tn)return Tn;this.previousToastMessage=be;let kn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(kn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const tr=this.overlay.create(Lt.positionClass,this.overlayContainer);this.index=this.index+1;let cr=be;be&&Lt.enableHtml&&(cr=this.sanitizer.sanitize(y.q3G.HTML,be));const zn=new ot(tr),Wn=new xe(this.index,Lt,cr,_t,fe,zn),Mr=new me(Wn,this._injector),Vt=new Ne(Lt.toastComponent,Mr),fr=tr.attach(Vt,this.toastrConfig.newestOnTop);zn.componentInstance=fr.instance;const $n={toastId:this.index,title:_t||"",message:be||"",toastRef:zn,onShown:zn.afterActivate(),onHidden:zn.afterClosed(),onTap:Wn.onTap(),onAction:Wn.onAction(),portal:fr};return kn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{$n.toastRef.activate()})),this.toasts.push($n),$n}}return ut.\u0275fac=function(fe){return new(fe||ut)(y.LFG(ye),y.LFG(ct),y.LFG(y.zs3),y.LFG(de.H7),y.LFG(y.R0b))},ut.\u0275prov=y.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})(),zt=(()=>{class ut{constructor(fe,be,_t){this.toastrService=fe,this.toastPackage=be,this.ngZone=_t,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=be.message,this.title=be.title,this.options=be.config,this.originalTimeout=be.config.timeOut,this.toastClasses=`${be.toastType} ${be.config.toastClass}`,this.sub=be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=be.toastRef.countDuplicate().subscribe(Lt=>{this.duplicatesCount=Lt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const fe=(new Date).getTime();this.width=(this.hideTime-fe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(fe,be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(fe),be)):this.timeout=setTimeout(()=>fe(),be)}outsideInterval(fe,be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(fe),be)):this.intervalId=setInterval(()=>fe(),be)}runInsideAngular(fe){this.ngZone?this.ngZone.run(()=>fe()):fe()}}return ut.\u0275fac=function(fe){return new(fe||ut)(y.Y36(Oe),y.Y36(xe),y.Y36(y.R0b))},ut.\u0275cmp=y.Xpm({type:ut,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(fe,be){1&fe&&y.NdJ("click",function(){return be.tapToast()})("mouseenter",function(){return be.stickAround()})("mouseleave",function(){return be.delayedHideToast()}),2&fe&&(y.d8E("@flyInOut",be.state),y.Tol(be.toastClasses),y.Udp("display",be.displayStyle))},attrs:_e,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(fe,be){1&fe&&(y.YNc(0,Ee,3,0,"button",0),y.YNc(1,Ae,3,5,"div",1),y.YNc(2,re,1,3,"div",2),y.YNc(3,ne,2,4,"div",3),y.YNc(4,we,2,2,"div",4)),2&fe&&(y.Q6J("ngIf",be.options.closeButton),y.xp6(1),y.Q6J("ngIf",be.title),y.xp6(1),y.Q6J("ngIf",be.message&&be.options.enableHtml),y.xp6(1),y.Q6J("ngIf",be.message&&!be.options.enableHtml),y.xp6(1),y.Q6J("ngIf",be.options.progressBar))},directives:[le.O5],encapsulation:2,data:{animation:[(0,p.X$)("flyInOut",[(0,p.SB)("inactive",(0,p.oB)({opacity:0})),(0,p.SB)("active",(0,p.oB)({opacity:1})),(0,p.SB)("removed",(0,p.oB)({opacity:0})),(0,p.eR)("inactive => active",(0,p.jt)("{{ easeTime }}ms {{ easing }}")),(0,p.eR)("active => removed",(0,p.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ut})();const vn=Object.assign(Object.assign({},Ge),{toastComponent:zt});let Qt=(()=>{class ut{static forRoot(fe={}){return{ngModule:ut,providers:[{provide:ye,useValue:{default:vn,config:fe}}]}}}return ut.\u0275fac=function(fe){return new(fe||ut)},ut.\u0275mod=y.oAB({type:ut}),ut.\u0275inj=y.cJS({imports:[[le.ez]]}),ut})(),Ft=(()=>{class ut{constructor(fe,be,_t){this.toastrService=fe,this.toastPackage=be,this.appRef=_t,this.width=-1,this.toastClasses="",this.state="inactive",this.message=be.message,this.title=be.title,this.options=be.config,this.originalTimeout=be.config.timeOut,this.toastClasses=`${be.toastType} ${be.config.toastClass}`,this.sub=be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=be.toastRef.countDuplicate().subscribe(Lt=>{this.duplicatesCount=Lt})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const fe=(new Date).getTime();this.width=(this.hideTime-fe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return ut.\u0275fac=function(fe){return new(fe||ut)(y.Y36(Oe),y.Y36(xe),y.Y36(y.z2F))},ut.\u0275cmp=y.Xpm({type:ut,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(fe,be){1&fe&&y.NdJ("click",function(){return be.tapToast()})("mouseenter",function(){return be.stickAround()})("mouseleave",function(){return be.delayedHideToast()}),2&fe&&(y.Tol(be.toastClasses),y.Udp("display",be.displayStyle))},attrs:_e,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(fe,be){1&fe&&(y.YNc(0,at,3,0,"button",0),y.YNc(1,et,3,5,"div",1),y.YNc(2,nt,1,3,"div",2),y.YNc(3,Fe,2,4,"div",3),y.YNc(4,ze,2,2,"div",4)),2&fe&&(y.Q6J("ngIf",be.options.closeButton),y.xp6(1),y.Q6J("ngIf",be.title),y.xp6(1),y.Q6J("ngIf",be.message&&be.options.enableHtml),y.xp6(1),y.Q6J("ngIf",be.message&&!be.options.enableHtml),y.xp6(1),y.Q6J("ngIf",be.options.progressBar))},directives:[le.O5],encapsulation:2}),ut})();Object.assign(Object.assign({},Ge),{toastComponent:Ft})},5861:(xt,Ue,k)=>{function y(V,le,de,_e,Ee,ve,Ae){try{var re=V[ve](Ae),ne=re.value}catch(we){return void de(we)}re.done?le(ne):Promise.resolve(ne).then(_e,Ee)}function p(V){return function(){var le=this,de=arguments;return new Promise(function(_e,Ee){var ve=V.apply(le,de);function Ae(ne){y(ve,_e,Ee,Ae,re,"next",ne)}function re(ne){y(ve,_e,Ee,Ae,re,"throw",ne)}Ae(void 0)})}}k.d(Ue,{Z:()=>p})}},xt=>{xt(xt.s=1246)}]);